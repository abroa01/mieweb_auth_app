{"version":3,"sources":["meteor://ðŸ’»app/imports/ui/Modal/ActionsModal.jsx","meteor://ðŸ’»app/imports/ui/Modal/ResultModal.jsx","meteor://ðŸ’»app/imports/ui/Pagination/Pagination.jsx","meteor://ðŸ’»app/imports/ui/Toasters/SuccessToaster.jsx","meteor://ðŸ’»app/imports/ui/App.jsx","meteor://ðŸ’»app/imports/ui/LandingPage.jsx","meteor://ðŸ’»app/imports/ui/Login.jsx","meteor://ðŸ’»app/imports/ui/Registration.jsx","meteor://ðŸ’»app/imports/ui/Welcome.jsx","meteor://ðŸ’»app/imports/api/deviceLogs.js","meteor://ðŸ’»app/utils/constants.js","meteor://ðŸ’»app/utils/utils.js","meteor://ðŸ’»app/client/main.jsx"],"names":["ActionsModal","_ref","isOpen","onApprove","onReject","onClose","React","createElement","className","onClick","_c","$RefreshReg$","call","module","ResultModal","_s","useEffect","timer","setTimeout","clearTimeout","CheckCircle","Pagination","currentPage","totalPages","onPageChange","handlePrev","handleNext","disabled","SuccessToaster","message","AnimatePresence","motion","div","initial","x","animate","exit","transition","duration","ease","App","capturedDeviceUuid","setCapturedDeviceUuid","useState","boolRegisteredDevice","setBoolRegisteredDevice","isLoading","setIsLoading","console","log","sessionTracker","Tracker","autorun","deviceInfo","Session","get","uuid","subscriber","Meteor","subscribe","onStop","error","onReady","storedDeviceInfo","DeviceLogs","find","deviceUUID","fetch","JSON","stringify","length","stop","Router","Routes","Route","path","element","Navigate","to","replace","LoginPage","deviceDetails","RegistrationPage","LandingPage","WelcomePage","userProfile","capturedDeviceInfo","notificationHistory","setNotificationHistory","successMessage","setSuccessMessage","profile","setProfile","firstName","lastName","email","isEditing","setIsEditing","filter","setFilter","searchTerm","setSearchTerm","hasFetchedData","setHasFetchedData","isSaving","setIsSaving","isActionsModalOpen","setIsActionsModalOpen","isResultModalOpen","setIsResultModalOpen","notificationId","setNotificationId","setCurrentPage","setDeviceInfo","model","platform","isDarkMode","setIsDarkMode","tracker","newNotification","appId","status","notfId","getNotificationId","handleStatusUpdate","fetchNotificationHistory","warn","darkModePreference","localStorage","getItem","document","documentElement","classList","add","remove","callAsync","userId","id","newStatus","result","toggleDarkMode","newMode","setItem","response","isMounted","fetchUserDetails","err","handleProfileUpdate","alert","set","_objectSpread","handleLogout","logout","clear","window","location","href","renderProfileSection","type","value","onChange","e","target","placeholder","concat","Edit","Mail","sendUserAction","action","handleCloseResultModal","handleCloseActionModal","handleApprove","handleReject","filteredNotifications","notification","_notification$message","_notification$title","matchesFilter","normalizedSearchTerm","toLowerCase","trim","matchesSearch","includes","title","Math","ceil","PAGE_SIZE","paginatedNotifications","reverse","slice","handlePageChange","newPage","today","Date","toISOString","split","todayCount","createdAtDate","createdAt","String","Shield","Sun","Moon","LogOut","User","Fragment","Search","Filter","Clock","map","key","_id","formatDateTime","Smartphone","RotateCcw","setEmail","pin","setPin","setError","isLoggingIn","setIsLoggingIn","navigate","useNavigate","connectionCheck","setInterval","connected","clearInterval","handleLogin","preventDefault","Promise","resolve","reject","loginWithPassword","reason","onSubmit","htmlFor","FiMail","required","autoComplete","FiLock","maxLength","minLength","pattern","inputMode","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","formData","setFormData","loading","setLoading","handleSubmit","sessionDeviceInfo","fcmDeviceToken","inputFields","name","icon","FiUser","opacity","y","delay","h2","field","index","charAt","toUpperCase","_extends","prev","button","whileHover","scale","whileTap","FiLogIn","FiUserPlus","Mongo","Collection","generateAppId","creationTime","combinedString","SHA256","substring","isServer","startup","createIndex","methods","deviceLogs.upsert","data","check","fcmToken","Object","upsertAsync","$set","lastUpdated","$setOnInsert","deviceLogs.updateToken","updateAsync","deviceLogs.getFCMTokenByAppId","deviceLog","findOneAsync","Error","deviceLogs.getFCMTokenByDeviceId","deviceLogs.getByAppId","publish","isoString","date","formattedDate","formattedTime","toLocaleTimeString","hour","minute","hour12","container","getElementById","root","createRoot","isCordova","device","cordova","version","manufacturer","addEventListener","PushNotification","createChannel","description","importance","vibration","sound","push","init","android","forceShow","clearNotifications","iconColor","actions","priority","vibrate","channel","ios","badge","foreground","on","registrationId","additionalData","coldstart","render"],"mappings":"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","file":"/app.js","sourcesContent":["import React from 'react';\n\nconst ActionsModal = ({ isOpen, onApprove, onReject, onClose }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n      <div className=\"bg-white rounded-lg shadow-lg w-11/12 max-w-md\">\n        <div className=\"p-4 border-b\">\n          <h2 className=\"text-lg font-bold text-center\">Authenticate?</h2>\n        </div>\n        <div className=\"p-4 flex flex-col items-center space-y-4\">\n          <button\n            className=\"w-full py-2 text-white bg-green-500 rounded-lg hover:bg-green-600\"\n            onClick={onApprove}\n          >\n            Approve\n          </button>\n          <button\n            className=\"w-full py-2 text-white bg-red-500 rounded-lg hover:bg-red-600\"\n            onClick={onReject}\n          >\n            Reject\n          </button>\n        </div>\n        <button\n          className=\"absolute top-2 right-2 text-gray-500 hover:text-gray-700\"\n          onClick={onClose}\n        >\n          âœ•\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ActionsModal;\n","import React, {useEffect} from 'react';\nimport { CheckCircle } from 'lucide-react';\n\nconst ResultModal = ({ isOpen, onClose }) => {\n  useEffect(() => {\n    if (isOpen) {\n      const timer = setTimeout(() => {\n        onClose();\n      }, 3000); \n      return () => clearTimeout(timer);\n    }\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n      <div className=\"bg-white rounded-lg shadow-lg w-11/12 max-w-md p-6 text-center\">\n        <div className=\"flex justify-center mb-4\">\n          <div className=\"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full\">\n            <CheckCircle className=\"h-10 w-10 text-green-500\" />\n          </div>\n        </div>\n        <h2 className=\"text-lg font-bold text-gray-800 mb-4\">\n          You have been successfully authenticated.\n        </h2>\n        <button\n          className=\"w-full py-2 mt-4 text-white bg-blue-500 rounded-lg hover:bg-blue-600\"\n          onClick={onClose}\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultModal;\n","import React from \"react\";\n\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\n  if (totalPages <= 1) return null;\n  const handlePrev = () => {\n    if (currentPage > 1) onPageChange(currentPage - 1);\n  };\n\n  const handleNext = () => {\n    if (currentPage < totalPages) onPageChange(currentPage + 1);\n  };\n\n  return (\n    <div className=\"flex justify-center items-center mt-4 w-full\">\n      <button\n        onClick={handlePrev}\n        disabled={currentPage === 1}\n        className=\"px-3 py-1 bg-gray-300 dark:bg-gray-600/80 dark:text-gray-400 rounded disabled:bg-gray-400\"\n      >\n        Prev\n      </button>\n      <span className=\"px-2 dark:text-gray-300\">\n        Page {currentPage} of {totalPages}\n      </span>\n      <button\n        onClick={handleNext}\n        disabled={currentPage === totalPages}\n        className=\"px-3 py-1 bg-gray-300 dark:bg-gray-600/80 dark:text-gray-400 rounded disabled:bg-gray-400\"\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nconst SuccessToaster = ({ message, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  return (\n    <AnimatePresence>\n      {message && (\n        <motion.div\n          initial={{ x: \"100%\" }}\n          animate={{ x: 0 }}\n          exit={{ x: \"150%\" }}\n          transition={{ duration: 0.5, ease: \"easeInOut\" }}\n          className=\"fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded shadow-lg\"\n        >\n          {message}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default SuccessToaster;\n","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Meteor } from 'meteor/meteor';\nimport { DeviceLogs } from '../api/deviceLogs'\nimport { Session } from 'meteor/session';\nimport { Tracker } from 'meteor/tracker';\nimport { LoginPage } from './Login';\nimport { RegistrationPage } from './Registration';\nimport { WelcomePage } from './Welcome';\nimport { LandingPage } from './LandingPage';\n\nexport const App = () => {\n  \n  const [capturedDeviceUuid, setCapturedDeviceUuid] = useState(null);\n  const [boolRegisteredDevice, setBoolRegisteredDevice] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    console.log('Initializing App component...');\n    \n    // Setup Tracker autorun for Session changes\n    const sessionTracker = Tracker.autorun(() => {\n      const deviceInfo = Session.get('capturedDeviceInfo');\n      console.log('Session deviceInfo:', deviceInfo);\n\n      if (!deviceInfo || !deviceInfo.uuid) {\n        console.log('No valid device info in session');\n        setCapturedDeviceUuid(null);\n        setBoolRegisteredDevice(false);\n        setIsLoading(false);\n        return;\n      }\n\n      setCapturedDeviceUuid(deviceInfo.uuid);\n      \n      // Subscribe to deviceLogs\n      const subscriber = Meteor.subscribe('deviceLogs.byDevice', deviceInfo.uuid, {\n        onStop: (error) => {\n          if (error) {\n            console.error('Subscription error:', error);\n          }\n        },\n        onReady: () => {\n          console.log('Subscription is ready');\n          // Query the collection\n          const storedDeviceInfo = DeviceLogs.find({ \n            deviceUUID: deviceInfo.uuid \n          }).fetch();\n          \n          console.log('Fetched Device Info:', JSON.stringify({storedDeviceInfo}));\n          setBoolRegisteredDevice(storedDeviceInfo.length > 0);\n          setIsLoading(false);\n        }\n      });\n\n      // Cleanup function\n      return () => {\n        console.log('Cleaning up subscription...');\n        if (subscriber) {\n          subscriber.stop();\n        }\n      };\n    });\n\n    // Cleanup function for the effect\n    return () => {\n      console.log('Cleaning up session tracker...');\n      sessionTracker.stop();\n    };\n  }, []); // Empty dependency array - only run on mount\n\n  // Debug logging for state changes\n  useEffect(() => {\n    console.log('State updated:', {\n      capturedDeviceUuid,\n      boolRegisteredDevice,\n      isLoading\n    });\n  }, [capturedDeviceUuid, boolRegisteredDevice, isLoading]);\n\n\n  // Show loading spinner while checking registration\n  if (isLoading) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500\"></div>\n        <p className=\"mt-4 text-lg font-semibold text-blue-600\">\n          Checking device registration...\n        </p>\n      </div>\n    );\n  }\n\n  // Main routing logic\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\">\n      <Router>\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              boolRegisteredDevice ? (\n                <Navigate to=\"/login\" replace />\n              ) : (\n                <Navigate to=\"/register\" replace />\n              )\n            }\n          />\n          <Route \n            path=\"/login\" \n            element={<LoginPage deviceDetails={capturedDeviceUuid} />} \n          />\n          <Route \n            path=\"/register\" \n            element={<RegistrationPage deviceDetails={capturedDeviceUuid} />} \n          />\n          <Route \n            path=\"/dashboard\" \n            element={<LandingPage deviceDetails={capturedDeviceUuid} />} \n          />\n          <Route \n            path=\"/welcome\" \n            element={<WelcomePage deviceDetails={capturedDeviceUuid} />} \n          />\n        </Routes>\n      </Router>\n    </div>\n  );\n};","import React, { useState, useEffect } from \"react\";\nimport {\n  Shield,\n  LogOut,\n  User,\n  Mail,\n  CheckCircle,\n  XCircle,\n  Clock,\n  Smartphone,\n  Edit,\n  Filter,\n  Search,\n  BellRing,\n  Moon,\n  Sun,\n  RotateCcw,\n} from \"lucide-react\";\nimport { Session } from \"meteor/session\";\nimport { Meteor } from \"meteor/meteor\";\nimport ActionsModal from \"./Modal/ActionsModal\";\nimport ResultModal from \"./Modal/ResultModal\";\nimport { Tracker } from \"meteor/tracker\";\nimport { formatDateTime } from \"../../utils/utils\";\nimport SuccessToaster from \"./Toasters/SuccessToaster\";\nimport Pagination from \"./Pagination/Pagination\";\nimport { PAGE_SIZE } from \"../../utils/constants\";\n\nexport const LandingPage = () => {\n  const userProfile = Session.get(\"userProfile\") || {};\n  const capturedDeviceInfo = Session.get(\"capturedDeviceInfo\") || {};\n  const [notificationHistory, setNotificationHistory] = useState([]);\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  const [profile, setProfile] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: userProfile.email || \"\",\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [filter, setFilter] = useState(\"all\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [hasFetchedData, setHasFetchedData] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isActionsModalOpen, setIsActionsModalOpen] = useState(false);\n  const [isResultModalOpen, setIsResultModalOpen] = useState(false);\n  const [notificationId, setNotificationId] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const [deviceInfo, setDeviceInfo] = useState({\n    model: capturedDeviceInfo.model || \"\",\n    platform: capturedDeviceInfo.platform || \"\",\n  });\n\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  useEffect(() => {\n    console.log(\"Initializing Tracker\");\n\n    const tracker = Tracker.autorun(async () => {\n      const newNotification = Session.get(\"notificationReceivedId\");\n\n      console.log(\"Tracker detected change:\", newNotification?.appId);\n\n      if (!newNotification) return;\n\n      setNotificationId(newNotification.appId);\n\n      if (newNotification.status === \"pending\") {\n        setIsActionsModalOpen(true);\n      } else {\n        try {\n          const notfId = await getNotificationId();\n          if (notfId) {\n            console.log(\"Resolved Notification ID:\", notfId);\n            await handleStatusUpdate(notfId, newNotification.status);\n            fetchNotificationHistory();\n          } else {\n            console.warn(\"No notification ID found.\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching notification ID:\", error);\n        }\n      }\n    });\n\n    return () => {\n      console.log(\"Stopping Tracker\");\n      tracker.stop();\n    };\n  }, []);\n\n  // Dark mode persistence\n  useEffect(() => {\n    const darkModePreference = localStorage.getItem(\"darkMode\") === \"true\";\n    setIsDarkMode(darkModePreference);\n    if (darkModePreference) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  }, []);\n\n  const getNotificationId = async () => {\n    const notificationId = await Meteor.callAsync(\n      \"notificationHistory.getLastIdByUser\",\n      Meteor.userId()\n    );\n    return notificationId;\n  };\n\n  const handleStatusUpdate = async (id, newStatus) => {\n    if (!id) {\n      return;\n    }\n\n    await Meteor.call(\n      \"notificationHistory.updateStatus\",\n      id,\n      newStatus,\n      (error, result) => {\n        if (error) {\n          console.error(\"Error updating status:\", error);\n        } else {\n          console.log(\"Status updated successfully!\");\n        }\n      }\n    );\n  };\n\n  const toggleDarkMode = () => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    localStorage.setItem(\"darkMode\", newMode);\n    if (newMode) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  };\n\n  useEffect(() => {\n    fetchNotificationHistory();\n  }, []);\n\n  const fetchNotificationHistory = async () => {\n    const response = await Meteor.callAsync(\n      \"notificationHistory.getByUser\",\n      Meteor.userId()\n    );\n    setNotificationHistory(response);\n  };\n\n  // User profile data fetching\n  useEffect(() => {\n    let isMounted = true;\n\n    const fetchUserDetails = async () => {\n      if (!hasFetchedData && userProfile.email) {\n        try {\n          const result = await Meteor.callAsync(\n            \"getUserDetails\",\n            userProfile.email\n          );\n          if (isMounted) {\n            setProfile({\n              firstName: result.firstName || \"\",\n              lastName: result.lastName || \"\",\n              email: result.email || \"\",\n            });\n            setHasFetchedData(true);\n          }\n        } catch (err) {\n          console.error(\"Error fetching user details:\", err);\n        }\n      }\n    };\n\n    fetchUserDetails();\n\n    if (capturedDeviceInfo) {\n      setDeviceInfo({\n        model: capturedDeviceInfo.model || \"\",\n        platform: capturedDeviceInfo.platform || \"\",\n      });\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [userProfile.email, hasFetchedData]);\n\n  // Handle profile updates\n  const handleProfileUpdate = async () => {\n    if (!Meteor.userId()) {\n      alert(\"Please login to perform this action\");\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      await Meteor.callAsync(\"updateUserProfile\", {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n      });\n      setIsEditing(false);\n      // Update session\n      Session.set(\"userProfile\", { ...userProfile, ...profile });\n      setSuccessMessage(\"Profile updated successfully!\");\n      setTimeout(() => setSuccessMessage(\"\"), 3000);\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      alert(\"Failed to update profile. Please try again.\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    Meteor.logout((error) => {\n      if (error) {\n        console.error(\"Logout error:\", error);\n        alert(\"Failed to logout. Please try again.\");\n      } else {\n        // Clear session data\n        Session.clear();\n        // Redirect to login page (assuming you're using React Router)\n        window.location.href = \"/login\";\n      }\n    });\n  };\n\n  // Modified profile editing section in the JSX\n  const renderProfileSection = () => (\n    <div className=\"flex-1\">\n      {isEditing ? (\n        <div className=\"space-y-2\">\n          <input\n            type=\"text\"\n            value={profile.firstName}\n            onChange={(e) =>\n              setProfile({ ...profile, firstName: e.target.value })\n            }\n            className=\"w-full px-2 py-1 rounded border dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600\"\n            placeholder=\"First Name\"\n          />\n          <input\n            type=\"text\"\n            value={profile.lastName}\n            onChange={(e) =>\n              setProfile({ ...profile, lastName: e.target.value })\n            }\n            className=\"w-full px-2 py-1 rounded border dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600\"\n            placeholder=\"Last Name\"\n          />\n          <div className=\"flex space-x-2 mt-2\">\n            <button\n              onClick={handleProfileUpdate}\n              disabled={isSaving}\n              className=\"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50\"\n            >\n              {isSaving ? \"Saving...\" : \"Save\"}\n            </button>\n            <button\n              onClick={() => setIsEditing(false)}\n              disabled={isSaving}\n              className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      ) : (\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white flex items-center justify-between\">\n          {`${profile.firstName} ${profile.lastName}`}\n          <button\n            onClick={() => setIsEditing(true)}\n            className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full\"\n          >\n            <Edit className=\"h-4 w-4 text-gray-500\" />\n          </button>\n        </h2>\n      )}\n      <p className=\"text-gray-600 dark:text-gray-300 flex items-center\">\n        <Mail className=\"h-4 w-4 mr-2\" />\n        {profile.email}\n      </p>\n    </div>\n  );\n\n  const sendUserAction = (appId, action) => {\n    console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n    Meteor.call(\n      \"notifications.handleResponse\",\n      appId,\n      action,\n      (error, result) => {\n        if (error) {\n          console.error(\"Error sending notification response:\", error);\n        } else {\n          console.log(\"Server processed action:\", result);\n          setNotificationId(null);\n          Session.set(\"notificationReceivedId\", null);\n        }\n      }\n    );\n  };\n\n  const handleCloseResultModal = () => {\n    setIsResultModalOpen(false);\n  };\n  const handleCloseActionModal = () => {\n    setIsActionsModalOpen(false);\n  };\n\n  const handleApprove = async () => {\n    sendUserAction(notificationId, \"approve\");\n\n    const notfId = await getNotificationId();\n    await handleStatusUpdate(notfId, \"approved\");\n    setIsResultModalOpen(true);\n    setIsActionsModalOpen(false);\n    fetchNotificationHistory();\n  };\n\n  const handleReject = async () => {\n    sendUserAction(notificationId, \"reject\");\n    const notfId = await getNotificationId();\n\n    await handleStatusUpdate(notfId, \"rejected\");\n    setIsActionsModalOpen(false);\n    fetchNotificationHistory();\n  };\n\n  const filteredNotifications = notificationHistory.filter((notification) => {\n    const matchesFilter = filter === \"all\" || notification.status === filter;\n    const normalizedSearchTerm = searchTerm.toLowerCase().trim();\n    const matchesSearch =\n      normalizedSearchTerm === \"\" ||\n      notification.message?.toLowerCase().includes(normalizedSearchTerm) ||\n      notification.title?.toLowerCase().includes(normalizedSearchTerm);\n    return matchesFilter && matchesSearch;\n  });\n\n  const totalPages = Math.ceil(filteredNotifications?.length / PAGE_SIZE);\n\n  const paginatedNotifications = filteredNotifications\n    .reverse()\n    .slice((currentPage - 1) * PAGE_SIZE, currentPage * PAGE_SIZE);\n\n  console.log(\"paginatedNotifications:\", paginatedNotifications);\n\n  const handlePageChange = (newPage) => {\n    setCurrentPage(newPage);\n  };\n\n  const today = new Date().toISOString().split(\"T\")[0];\n  const todayCount = filteredNotifications.filter((notification) => {\n    const createdAtDate =\n      notification.createdAt instanceof Date\n        ? notification.createdAt.toISOString().split(\"T\")[0]\n        : String(notification.createdAt).split(\"T\")[0];\n\n    return createdAtDate === today;\n  }).length;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 dark:from-gray-900 dark:to-gray-800\">\n      {/* Header section */}\n      <header className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 shadow-lg sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3\">\n              <Shield className=\"h-8 w-8 text-indigo-600 dark:text-indigo-400\" />\n              <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                MieSecure\n              </h1>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={toggleDarkMode}\n                className=\"flex items-center justify-center p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition\"\n                aria-label=\"Toggle Night Mode\"\n              >\n                {isDarkMode ? (\n                  <Sun className=\"h-6 w-6 text-yellow-400\" />\n                ) : (\n                  <Moon className=\"h-6 w-6 text-gray-600 dark:text-gray-400\" />\n                )}\n              </button>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center space-x-2 px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors\"\n              >\n                <LogOut className=\"h-4 w-4\" />\n                <span>Logout</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Profile Card */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6\">\n              <SuccessToaster\n                message={successMessage}\n                onClose={() => setSuccessMessage(\"\")}\n              />\n              <div className=\"flex items-center space-x-4 mb-6\">\n                <div className=\"h-16 w-16 rounded-full bg-gradient-to-r from-indigo-500 to-blue-500 flex items-center justify-center\">\n                  <User className=\"h-8 w-8 text-white\" />\n                </div>\n                {renderProfileSection()}\n              </div>\n\n              {/* Rest of the profile card content remains the same */}\n              <div className=\"space-y-4\">\n                <div className=\"border-t dark:border-gray-700 pt-4\">\n                  <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\">\n                    Device Information\n                  </h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-600 dark:text-gray-300\">\n                        Model\n                      </span>\n                      <span className=\"font-medium text-gray-900 dark:text-white\">\n                        {deviceInfo.model || \"iPhone 13 Pro\"}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-600 dark:text-gray-300\">\n                        Platform\n                      </span>\n                      <span className=\"font-medium text-gray-900 dark:text-white\">\n                        {deviceInfo.platform || \"iOS 15.0\"}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"border-t dark:border-gray-700 pt-4\">\n                  <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\">\n                    Activity Summary\n                  </h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between dark:text-gray-300\">\n                      <span className=\"text-gray-600 dark:text-gray-300\">\n                        Today's Activity\n                      </span>\n                      {todayCount}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"lg:col-span-2 space-y-6\">\n            {filteredNotifications.length > 0 ? (\n              <>\n                <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-4\">\n                  <div className=\"flex flex-wrap gap-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"relative\">\n                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search requests...\"\n                          className=\"w-full pl-10 pr-4 py-2 text-gray-400 rounded-lg border dark:bg-gray-700 dark:border-gray-600\"\n                          value={searchTerm}\n                          onChange={(e) => setSearchTerm(e.target.value)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Filter className=\"h-4 w-4 text-gray-500\" />\n                      <select\n                        className=\"bg-transparent text-gray-400 border rounded-lg px-3 py-2 dark:bg-gray-700 dark:border-gray-600\"\n                        value={filter}\n                        onChange={(e) => setFilter(e.target.value)}\n                      >\n                        <option value=\"all\">All</option>\n                        <option value=\"pending\">Pending</option>\n                        <option value=\"approved\">Approved</option>\n                        <option value=\"rejected\">Rejected</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Clock className=\"h-5 w-5 text-indigo-600 dark:text-indigo-400\" />\n                    <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                      History\n                    </h2>\n                  </div>\n                  {paginatedNotifications.map((notification) => (\n                    <div\n                      key={notification._id}\n                      className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6\"\n                    >\n                      <div className=\"flex justify-between items-start mb-4\">\n                        <div>\n                          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">\n                            {notification.title}\n                          </h3>\n                          <div className=\"space-y-1\">\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300 flex items-center\">\n                              <Clock className=\"h-4 w-4 mr-2\" />\n                              {formatDateTime(notification.createdAt)}\n                            </p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300 flex items-center\">\n                              <Smartphone className=\"h-4 w-4 mr-2\" />\n                              Iphone 16\n                            </p>\n                          </div>\n                        </div>\n                        <div\n                          className={`px-3 py-1 rounded-full text-sm font-medium capitalize ${\n                            notification.status === \"approved\"\n                              ? \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\"\n                              : notification.status === \"rejected\"\n                              ? \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\"\n                              : \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\"\n                          }`}\n                        >\n                          {notification.status}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  <Pagination\n                    currentPage={currentPage}\n                    totalPages={totalPages}\n                    onPageChange={handlePageChange}\n                  />\n                </div>\n              </>\n            ) : (\n              <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6 min-h-[100px] flex items-center justify-center text-center flex-col\">\n                <RotateCcw className=\"h-10 w-10 mt-4 text-gray-600\" />\n                <p>No Notification History.</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n      <ActionsModal\n        isOpen={isActionsModalOpen}\n        onApprove={handleApprove}\n        onReject={handleReject}\n        onClose={handleCloseActionModal}\n      />\n      <ResultModal\n        isOpen={isResultModalOpen}\n        onClose={handleCloseResultModal}\n      />\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiMail, FiLock } from 'react-icons/fi';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nexport const LoginPage = ({ deviceDetails }) => {\n  const [email, setEmail] = useState('');\n  const [pin, setPin] = useState('');\n  const [error, setError] = useState('');\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check for device details on component mount\n    if (!deviceDetails) {\n      console.warn('No device details available');\n    }\n\n    // Check for Meteor connection\n    const connectionCheck = setInterval(() => {\n      if (!Meteor.status().connected) {\n        setError('Connection to server lost. Attempting to reconnect...');\n      } else if (error.includes('Connection to server lost')) {\n        setError('');\n      }\n    }, 3000);\n\n    return () => clearInterval(connectionCheck);\n  }, [deviceDetails, error]);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    \n    // Validate device details\n    if (!deviceDetails) {\n      setError('Device information not available. Please refresh the page.');\n      return;\n    }\n\n    // Validate connection\n    if (!Meteor.status().connected) {\n      setError('Unable to connect to server. Please check your connection.');\n      return;\n    }\n\n    setIsLoggingIn(true);\n    setError('');\n\n    try {\n      await new Promise((resolve, reject) => {\n        Meteor.loginWithPassword(email, pin, (err) => {\n          if (err) {\n            console.error('Login Error:', err);\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      });\n      Session.set('userProfile', {\n        email: email,\n      });\n\n      navigate('/dashboard');\n\n      \n    } catch (err) {\n      setError(err.reason || 'Login failed. Please try again.');\n    } finally {\n      setIsLoggingIn(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50\">\n      <div className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg\">\n        <div className=\"text-center\">\n          <h2 className=\"text-3xl font-bold text-gray-900\">Welcome Back</h2>\n          <p className=\"mt-2 text-gray-600\">Sign in to your account</p>\n        </div>\n\n        <form onSubmit={handleLogin} className=\"space-y-6\">\n          {error && (\n            <div className=\"text-red-600 text-sm text-center bg-red-100 p-3 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n              Email\n            </label>\n            <div className=\"mt-1 relative\">\n              <FiMail className=\"absolute top-3 left-3 text-gray-400\" />\n              <input\n                id=\"email\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter your email\"\n                autoComplete=\"email\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"pin\" className=\"block text-sm font-medium text-gray-700\">\n              PIN\n            </label>\n            <div className=\"mt-1 relative\">\n              <FiLock className=\"absolute top-3 left-3 text-gray-400\" />\n              <input\n                id=\"pin\"\n                type=\"password\"\n                required\n                value={pin}\n                onChange={(e) => setPin(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter your PIN\"\n                maxLength={6}\n                minLength={4}\n                pattern=\"[0-9]*\"\n                inputMode=\"numeric\"\n                autoComplete=\"current-password\"\n              />\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isLoggingIn}\n            className=\"w-full py-3 px-4 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out transform hover:scale-[1.02]\"\n          >\n            {isLoggingIn ? (\n              <div className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Signing In...\n              </div>\n            ) : (\n              'Sign In'\n            )}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiUser, FiMail, FiLock } from 'react-icons/fi';\nimport { motion } from 'framer-motion';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nexport const RegistrationPage = ({ deviceDetails }) => {\n  const [formData, setFormData] = useState({\n    email: '', firstName: '', lastName: '', pin: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!deviceDetails) {\n      alert('Device information not available');\n      return;\n    }\n\n    setLoading(true);\n    const sessionDeviceInfo = Session.get('capturedDeviceInfo');\n    const fcmDeviceToken = Session.get('deviceToken'); // Get FCM token from session\n\n    if (sessionDeviceInfo.uuid === deviceDetails) {\n      try {\n        // First register the user with deviceInfo\n        await new Promise((resolve, reject) => {\n          Meteor.call('users.register', \n            { \n              ...formData,\n              sessionDeviceInfo, fcmDeviceToken\n            }, \n            (err, result) => {\n              if (err) {\n                console.error(\"Registration error:\", err);\n                reject(err);\n              } else {\n                console.log(\"Registration success:\", result);\n                resolve(result);\n              }\n            }\n          );\n        });\n\n        // Navigate to login after successful registration\n        navigate('/login');\n      } catch (err) {\n        console.error('Registration failed:', err);\n        alert(err.reason || 'Registration failed. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n\n    } else {\n      alert('Registration failed. Device uuid is not matched or tampered.');\n      setLoading(false);\n    }\n  };\n\n  const inputFields = [\n    { name: 'email', icon: FiMail, type: 'email', placeholder: 'Enter your email' },\n    { name: 'firstName', icon: FiUser, type: 'text', placeholder: 'First Name' },\n    { name: 'lastName', icon: FiUser, type: 'text', placeholder: 'Last Name' },\n    { \n      name: 'pin', \n      icon: FiLock, \n      type: 'password', \n      placeholder: 'Create a PIN (4-6 digits)',\n      minLength: \"4\",\n      maxLength: \"6\",\n      pattern: \"\\\\d*\"\n    }\n  ];\n\n  return (\n    <motion.div \n      initial={{ opacity: 0 }} \n      animate={{ opacity: 1 }}\n      className=\"min-h-screen flex flex-col items-center justify-center p-4\"\n    >\n\n      <motion.div\n        initial={{ y: 20, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        transition={{ delay: 0.2 }}\n        className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg\"\n      >\n        <div className=\"text-center space-y-2\">\n          <motion.h2 \n            initial={{ y: -20 }}\n            animate={{ y: 0 }}\n            className=\"text-3xl font-bold text-gray-900\"\n          >\n            Create Account\n          </motion.h2>\n          <p className=\"text-gray-600\">Join our community today</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {inputFields.map((field, index) => (\n              <motion.div\n                key={field.name}\n                initial={{ x: -20, opacity: 0 }}\n                animate={{ x: 0, opacity: 1 }}\n                transition={{ delay: index * 0.1 }}\n                className={field.name === 'email' ? 'md:col-span-2' : ''}\n              >\n                <label className=\"text-sm font-medium text-gray-700\">\n                  {field.name.charAt(0).toUpperCase() + field.name.slice(1)}\n                </label>\n                <div className=\"mt-1 relative\">\n                  <field.icon className=\"absolute top-3 left-3 text-gray-400\" />\n                  <input\n                    {...field}\n                    required\n                    value={formData[field.name]}\n                    onChange={e => setFormData(prev => ({\n                      ...prev,\n                      [e.target.name]: e.target.value\n                    }))}\n                    className=\"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n              </motion.div>\n            ))}\n          </div>\n\n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full py-3 px-4 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 transition-colors\"\n          >\n            {loading ? 'Creating Account...' : 'Create Account'}\n          </motion.button>\n        </form>\n      </motion.div>\n    </motion.div>\n  );\n};","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiLogIn, FiUserPlus } from 'react-icons/fi';\n\nexport const WelcomePage = () => {\n  const navigate = useNavigate();\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600\">\n          MieSecure\n          </h1>\n          <p className=\"mt-4 text-gray-600\">Your secure mobile companion</p>\n        </div>\n        \n        <div className=\"mt-12 space-y-4\">\n          <button\n            onClick={() => navigate('/login')}\n            className=\"group relative w-full flex justify-center items-center px-4 py-3 border border-transparent text-lg font-medium rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition hover:scale-105\"\n          >\n            <FiLogIn className=\"mr-2\" /> Sign In\n          </button>\n          \n          <button\n            onClick={() => navigate('/register')}\n            className=\"group relative w-full flex justify-center items-center px-4 py-3 border-2 border-blue-600 text-lg font-medium rounded-xl text-blue-600 bg-transparent hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition hover:scale-105\"\n          >\n            <FiUserPlus className=\"mr-2\" /> Create Account\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\nimport { SHA256 } from 'meteor/sha'; \n\nexport const DeviceLogs = new Mongo.Collection('deviceLogs');\n\n\n\n// Add generateAppId utility function\nconst generateAppId = (deviceUUID, email, creationTime) => {\n    const combinedString = `${deviceUUID}:${email}:${creationTime}`;\n    return SHA256(combinedString).substring(0, 32);\n  };\n  \n\n// Create indexes for better query performance\nif (Meteor.isServer) {\n  Meteor.startup(() => {\n    DeviceLogs.createIndex({ userId: 1 });\n    DeviceLogs.createIndex({ deviceUUID: 1 });\n    DeviceLogs.createIndex({ email: 1 });\n    DeviceLogs.createIndex({ appId: 1 });\n  });\n}\n\n// Define methods for DeviceLogs\nMeteor.methods({\n    'deviceLogs.upsert': async function(data) {\n        check(data, {\n          userId: String,\n          email: String,\n          deviceUUID: String,\n          fcmToken: String,\n          deviceInfo: Object,\n        });\n      \n        const creationTime = new Date().toISOString();\n        const appId = generateAppId(data.deviceUUID, data.email, creationTime);\n        console.log('Generated appId during upsert:', appId); // Add this log\n        \n        return DeviceLogs.upsertAsync(\n          {\n            userId: data.userId,\n            deviceUUID: data.deviceUUID,\n          },\n          {\n            $set: {\n              email: data.email,\n              fcmToken: data.fcmToken,\n              appId: appId,\n              lastUpdated: new Date(),\n            },\n            $setOnInsert: {\n              createdAt: new Date(),\n            },\n          }\n        );\n      },\n  'deviceLogs.updateToken'(userId, deviceUUID, fcmToken) {\n    check(userId, String);\n    check(deviceUUID, String);\n    check(fcmToken, String);\n\n    return DeviceLogs.updateAsync(\n      { \n        userId: userId,\n        deviceUUID: deviceUUID \n      },\n      {\n        $set: {\n          fcmToken: fcmToken,\n          lastUpdated: new Date()\n        }\n      }\n    );\n  },\n  'deviceLogs.getFCMTokenByAppId': async function(appId) {\n    check(appId, String);\n    \n    const deviceLog = await DeviceLogs.findOneAsync({ appId: appId });\n    \n    if (!deviceLog) {\n      throw new Meteor.Error('invalid-app-id', 'No device found with this App ID');\n    }\n    \n    return deviceLog.fcmToken;\n  },\n  'deviceLogs.getFCMTokenByDeviceId': async function(deviceUUID) {\n    check(deviceUUID, String);\n    \n    const deviceLog = await DeviceLogs.findOneAsync({ deviceUUID: deviceUUID });\n    \n    if (!deviceLog) {\n      throw new Meteor.Error('invalid-app-id', 'No device found with this Device ID');\n    }\n    \n    return deviceLog.fcmToken;\n  },\n  \n  // Also fix the debug method\n  'deviceLogs.getByAppId': async function(appId) {\n    check(appId, String);\n    const result = await DeviceLogs.findOneAsync({ appId });\n    console.log('Looking for appId:', appId);\n    console.log('Found device log:', result);\n    return result;\n  }\n});\n\n// Publish device logs\nif (Meteor.isServer) {\n  Meteor.publish('deviceLogs.byUser', function(userId) {\n    check(userId, String);\n    return DeviceLogs.find({ userId: userId });\n  });\n\n  Meteor.publish('deviceLogs.byDevice', function(deviceUUID) {\n    check(deviceUUID, String);\n    return DeviceLogs.find({ deviceUUID: deviceUUID });\n  });\n}","export const PAGE_SIZE = 5;\n","export const formatDateTime = (isoString) => {\n    if (!isoString) return \"\";\n  \n    const date = new Date(isoString);\n    \n    // Extracting date in YYYY-MM-DD format\n    const formattedDate = date.toISOString().split(\"T\")[0];\n  \n    // Extracting time in HH:MM format\n    const formattedTime = date.toLocaleTimeString(\"en-US\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true,\n    });\n  \n    return `${formattedDate} ${formattedTime}`;\n  };\n  ","import React, { useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { Meteor } from 'meteor/meteor';\nimport './main.css';\nimport '../imports/api/deviceLogs';\nimport { App } from '../imports/ui/App';\nimport { Session } from 'meteor/session';\n\nconst sendUserAction = (appId, action) => {\n  console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n  Meteor.call('notifications.handleResponse', appId, action, (error, result) => {\n    if (error) {\n      console.error('Error sending notification response:', error);\n    } else {\n      console.log('Server processed action:', result);\n    }\n  });\n}\n\nMeteor.startup(() => {\n  const container = document.getElementById('react-target');\n  const root = createRoot(container);\n\n\n  if (Meteor.isCordova) {\n    if (device.cordova) {\n      Session.set('capturedDeviceInfo', {\n        model: device.model,\n        platform: device.platform,\n        uuid: device.uuid,\n        version: device.version,\n        manufacturer: device.manufacturer,\n      });\n    }\n  }\n\n\n  if (Meteor.isCordova) {\n    document.addEventListener('deviceready', () => {\n      console.log(\"Cordova device is ready\");\n\n      // Create notification channel\n      PushNotification.createChannel(\n        () => {\n          console.log('Channel created successfully');\n        },\n        () => {\n          console.error('Channel creation failed');\n        },\n        {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        }\n      );\n\n      const push = PushNotification.init({\n        android: {\n          forceShow: true,\n          clearNotifications: false,\n          icon: \"ic_launcher\",\n          iconColor: \"#4CAF50\",\n          actions: [\n            { id: 'approve', title: 'Approve' },\n            { id: 'reject', title: 'Reject' }\n          ],\n          priority: \"high\",\n          sound: true,\n          vibrate: true,\n          channel: {\n            id: \"default\",\n            importance: \"high\",\n            sound: \"default\",\n            vibration: true\n          }\n        },\n        ios: {\n          alert: true,\n          badge: true,\n          sound: true,\n          priority: \"high\",\n          foreground: true\n        }\n      });\n\n      try {\n        // Handle registration\n        push.on('registration', (data) => {\n          console.log(\"Registration handler attached\");\n          console.log('Registration data:', data);\n          Session.set('deviceToken', data.registrationId);\n        });\n\n        push.on('notification', (notification) => {\n          console.log('Notification received:', notification);\n          \n          // Handle cold start (app launched from notification)\n          if (notification.additionalData.coldstart) {\n            // Process action from cold start here\n            const action = notification.additionalData.action;\n            if(action) {\n              sendUserAction(notification.additionalData.appId, action);\n            }\n          }\n          \n          // Handle foreground/background processing\n          if (notification.additionalData.appId) {\n            Session.set('notificationReceivedId', {\n              appId: notification.additionalData.appId, \n              status: \"pending\"\n            });\n          }\n        });\n        push.on('reject', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'reject');  \n              Session.set('notificationReceivedId', {appId, status:\"rejected\"})  \n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        push.on('approve', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'approve');    \n              Session.set('notificationReceivedId', {appId, status:\"approved\"})\n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        // Handle errors\n        push.on('error', (error) => {\n          console.log(\"Error handler attached\");\n          console.error('Push notification error:', error);\n        });\n\n        console.log(\"All handlers attached successfully\");\n\n      } catch (error) {\n        console.error(\"Error attaching push notification handlers:\", error);\n\n      }\n\n    }, false);\n  }\n  root.render(<App />);\n});"]}