{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/anshul/Masters/Internship/POC/Meteor_Mobile/mieweb_push_auth/client/main.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","topLevelAwait","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.cordova"},"sourceFileName":"client/main.jsx","filename":"/Users/anshul/Masters/Internship/POC/Meteor_Mobile/mieweb_push_auth/client/main.jsx","inputSourceMap":{"version":3,"names":["React","useEffect","createRoot","Meteor","App","Session","sendUserAction","appId","action","console","log","call","error","result","startup","container","document","getElementById","root","isCordova","device","cordova","set","model","platform","uuid","version","manufacturer","addEventListener","PushNotification","createChannel","id","description","importance","vibration","sound","push","init","android","forceShow","clearNotifications","icon","iconColor","actions","title","priority","vibrate","channel","ios","alert","badge","foreground","on","data","registrationId","notification","additionalData","coldstart","status","get","render"],"sources":["client/main.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { Meteor } from 'meteor/meteor';\nimport './main.css';\nimport '../imports/api/deviceLogs';\nimport { App } from '../imports/ui/App';\nimport { Session } from 'meteor/session';\n\nconst sendUserAction = (appId, action) => {\n  console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n  Meteor.call('notifications.handleResponse', appId, action, (error, result) => {\n    if (error) {\n      console.error('Error sending notification response:', error);\n    } else {\n      console.log('Server processed action:', result);\n    }\n  });\n}\n\nMeteor.startup(() => {\n  const container = document.getElementById('react-target');\n  const root = createRoot(container);\n\n\n  if (Meteor.isCordova) {\n    if (device.cordova) {\n      Session.set('capturedDeviceInfo', {\n        model: device.model,\n        platform: device.platform,\n        uuid: device.uuid,\n        version: device.version,\n        manufacturer: device.manufacturer,\n      });\n    }\n  }\n\n\n  if (Meteor.isCordova) {\n    document.addEventListener('deviceready', () => {\n      console.log(\"Cordova device is ready\");\n\n      // Create notification channel\n      PushNotification.createChannel(\n        () => {\n          console.log('Channel created successfully');\n        },\n        () => {\n          console.error('Channel creation failed');\n        },\n        {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        }\n      );\n\n      const push = PushNotification.init({\n        android: {\n          forceShow: true,\n          clearNotifications: false,\n          icon: \"ic_launcher\",\n          iconColor: \"#4CAF50\",\n          actions: [\n            { id: 'approve', title: 'Approve' },\n            { id: 'reject', title: 'Reject' }\n          ],\n          priority: \"high\",\n          sound: true,\n          vibrate: true,\n          channel: {\n            id: \"default\",\n            importance: \"high\",\n            sound: \"default\",\n            vibration: true\n          }\n        },\n        ios: {\n          alert: true,\n          badge: true,\n          sound: true,\n          priority: \"high\",\n          foreground: true\n        }\n      });\n\n      try {\n        // Handle registration\n        push.on('registration', (data) => {\n          console.log(\"Registration handler attached\");\n          console.log('Registration data:', data);\n          Session.set('deviceToken', data.registrationId);\n        });\n\n        push.on('notification', (notification) => {\n          console.log('Notification received:', notification);\n          \n          // Handle cold start (app launched from notification)\n          if (notification.additionalData.coldstart) {\n            // Process action from cold start here\n            const action = notification.additionalData.action;\n            if(action) {\n              sendUserAction(notification.additionalData.appId, action);\n            }\n          }\n          \n          // Handle foreground/background processing\n          if (notification.additionalData.appId) {\n            Session.set('notificationReceivedId', {\n              appId: notification.additionalData.appId, \n              status: \"pending\"\n            });\n          }\n        });\n        push.on('reject', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'reject');  \n              Session.set('notificationReceivedId', {appId, status:\"rejected\"})  \n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        push.on('approve', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'approve');    \n              Session.set('notificationReceivedId', {appId, status:\"approved\"})\n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        // Handle errors\n        push.on('error', (error) => {\n          console.log(\"Error handler attached\");\n          console.error('Push notification error:', error);\n        });\n\n        console.log(\"All handlers attached successfully\");\n\n      } catch (error) {\n        console.error(\"Error attaching push notification handlers:\", error);\n\n      }\n\n    }, false);\n  }\n  root.render(<App />);\n});"],"mappings":"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","ignoreList":[]},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/anshul/Masters/Internship/POC/Meteor_Mobile/mieweb_push_auth","root":"/Users/anshul/Masters/Internship/POC/Meteor_Mobile/mieweb_push_auth","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"CallExpression":{"enter":[null]}},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/anshul/Masters/Internship/POC/Meteor_Mobile/mieweb_push_auth/client/main.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/main.jsx","inputSourceMap":{"version":3,"names":["React","useEffect","createRoot","Meteor","App","Session","sendUserAction","appId","action","console","log","call","error","result","startup","container","document","getElementById","root","isCordova","device","cordova","set","model","platform","uuid","version","manufacturer","addEventListener","PushNotification","createChannel","id","description","importance","vibration","sound","push","init","android","forceShow","clearNotifications","icon","iconColor","actions","title","priority","vibrate","channel","ios","alert","badge","foreground","on","data","registrationId","notification","additionalData","coldstart","status","get","render"],"sources":["client/main.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { Meteor } from 'meteor/meteor';\nimport './main.css';\nimport '../imports/api/deviceLogs';\nimport { App } from '../imports/ui/App';\nimport { Session } from 'meteor/session';\n\nconst sendUserAction = (appId, action) => {\n  console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n  Meteor.call('notifications.handleResponse', appId, action, (error, result) => {\n    if (error) {\n      console.error('Error sending notification response:', error);\n    } else {\n      console.log('Server processed action:', result);\n    }\n  });\n}\n\nMeteor.startup(() => {\n  const container = document.getElementById('react-target');\n  const root = createRoot(container);\n\n\n  if (Meteor.isCordova) {\n    if (device.cordova) {\n      Session.set('capturedDeviceInfo', {\n        model: device.model,\n        platform: device.platform,\n        uuid: device.uuid,\n        version: device.version,\n        manufacturer: device.manufacturer,\n      });\n    }\n  }\n\n\n  if (Meteor.isCordova) {\n    document.addEventListener('deviceready', () => {\n      console.log(\"Cordova device is ready\");\n\n      // Create notification channel\n      PushNotification.createChannel(\n        () => {\n          console.log('Channel created successfully');\n        },\n        () => {\n          console.error('Channel creation failed');\n        },\n        {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        }\n      );\n\n      const push = PushNotification.init({\n        android: {\n          forceShow: true,\n          clearNotifications: false,\n          icon: \"ic_launcher\",\n          iconColor: \"#4CAF50\",\n          actions: [\n            { id: 'approve', title: 'Approve' },\n            { id: 'reject', title: 'Reject' }\n          ],\n          priority: \"high\",\n          sound: true,\n          vibrate: true,\n          channel: {\n            id: \"default\",\n            importance: \"high\",\n            sound: \"default\",\n            vibration: true\n          }\n        },\n        ios: {\n          alert: true,\n          badge: true,\n          sound: true,\n          priority: \"high\",\n          foreground: true\n        }\n      });\n\n      try {\n        // Handle registration\n        push.on('registration', (data) => {\n          console.log(\"Registration handler attached\");\n          console.log('Registration data:', data);\n          Session.set('deviceToken', data.registrationId);\n        });\n\n        push.on('notification', (notification) => {\n          console.log('Notification received:', notification);\n          \n          // Handle cold start (app launched from notification)\n          if (notification.additionalData.coldstart) {\n            // Process action from cold start here\n            const action = notification.additionalData.action;\n            if(action) {\n              sendUserAction(notification.additionalData.appId, action);\n            }\n          }\n          \n          // Handle foreground/background processing\n          if (notification.additionalData.appId) {\n            Session.set('notificationReceivedId', {\n              appId: notification.additionalData.appId, \n              status: \"pending\"\n            });\n          }\n        });\n        push.on('reject', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'reject');  \n              Session.set('notificationReceivedId', {appId, status:\"rejected\"})  \n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        push.on('approve', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'approve');    \n              Session.set('notificationReceivedId', {appId, status:\"approved\"})\n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        // Handle errors\n        push.on('error', (error) => {\n          console.log(\"Error handler attached\");\n          console.error('Push notification error:', error);\n        });\n\n        console.log(\"All handlers attached successfully\");\n\n      } catch (error) {\n        console.error(\"Error attaching push notification handlers:\", error);\n\n      }\n\n    }, false);\n  }\n  root.render(<App />);\n});"],"mappings":"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","ignoreList":[]}}},"code":"!function (module1) {\n  var React, useEffect;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    }\n  }, 0);\n  var createRoot;\n  module1.link(\"react-dom/client\", {\n    createRoot: function (v) {\n      createRoot = v;\n    }\n  }, 1);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 2);\n  module1.link(\"./main.css\");\n  module1.link(\"../imports/api/deviceLogs\");\n  var App;\n  module1.link(\"../imports/ui/App\", {\n    App: function (v) {\n      App = v;\n    }\n  }, 3);\n  var Session;\n  module1.link(\"meteor/session\", {\n    Session: function (v) {\n      Session = v;\n    }\n  }, 4);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var sendUserAction = function (appId, action) {\n    console.log(\"Sending user action: \" + action + \" for appId: \" + appId);\n    Meteor.call('notifications.handleResponse', appId, action, function (error, result) {\n      if (error) {\n        console.error('Error sending notification response:', error);\n      } else {\n        console.log('Server processed action:', result);\n      }\n    });\n  };\n  Meteor.startup(function () {\n    var container = document.getElementById('react-target');\n    var root = createRoot(container);\n    if (Meteor.isCordova) {\n      if (device.cordova) {\n        Session.set('capturedDeviceInfo', {\n          model: device.model,\n          platform: device.platform,\n          uuid: device.uuid,\n          version: device.version,\n          manufacturer: device.manufacturer\n        });\n      }\n    }\n    if (Meteor.isCordova) {\n      document.addEventListener('deviceready', function () {\n        console.log(\"Cordova device is ready\");\n\n        // Create notification channel\n        PushNotification.createChannel(function () {\n          console.log('Channel created successfully');\n        }, function () {\n          console.error('Channel creation failed');\n        }, {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        });\n        var push = PushNotification.init({\n          android: {\n            forceShow: true,\n            clearNotifications: false,\n            icon: \"ic_launcher\",\n            iconColor: \"#4CAF50\",\n            actions: [{\n              id: 'approve',\n              title: 'Approve'\n            }, {\n              id: 'reject',\n              title: 'Reject'\n            }],\n            priority: \"high\",\n            sound: true,\n            vibrate: true,\n            channel: {\n              id: \"default\",\n              importance: \"high\",\n              sound: \"default\",\n              vibration: true\n            }\n          },\n          ios: {\n            alert: true,\n            badge: true,\n            sound: true,\n            priority: \"high\",\n            foreground: true\n          }\n        });\n        try {\n          // Handle registration\n          push.on('registration', function (data) {\n            console.log(\"Registration handler attached\");\n            console.log('Registration data:', data);\n            Session.set('deviceToken', data.registrationId);\n          });\n          push.on('notification', function (notification) {\n            console.log('Notification received:', notification);\n\n            // Handle cold start (app launched from notification)\n            if (notification.additionalData.coldstart) {\n              // Process action from cold start here\n              var action = notification.additionalData.action;\n              if (action) {\n                sendUserAction(notification.additionalData.appId, action);\n              }\n            }\n\n            // Handle foreground/background processing\n            if (notification.additionalData.appId) {\n              Session.set('notificationReceivedId', {\n                appId: notification.additionalData.appId,\n                status: \"pending\"\n              });\n            }\n          });\n          push.on('reject', function (notification) {\n            if (notification.additionalData) {\n              var appId = notification.additionalData.appId;\n              if (Session.get(\"userProfile\")) {\n                sendUserAction(appId, 'reject');\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"rejected\"\n                });\n              } else {\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"pending\"\n                });\n              }\n            }\n          });\n          push.on('approve', function (notification) {\n            if (notification.additionalData) {\n              var appId = notification.additionalData.appId;\n              if (Session.get(\"userProfile\")) {\n                sendUserAction(appId, 'approve');\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"approved\"\n                });\n              } else {\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"pending\"\n                });\n              }\n            }\n          });\n\n          // Handle errors\n          push.on('error', function (error) {\n            console.log(\"Error handler attached\");\n            console.error('Push notification error:', error);\n          });\n          console.log(\"All handlers attached successfully\");\n        } catch (error) {\n          console.error(\"Error attaching push notification handlers:\", error);\n        }\n      }, false);\n    }\n    root.render(/*#__PURE__*/React.createElement(App, null));\n  });\n}.call(this, module);","map":{"version":3,"names":["sendUserAction","appId","action","console","log","Meteor","call","error","result","startup","container","document","getElementById","root","createRoot","isCordova","device","cordova","Session","set","model","platform","uuid","version","manufacturer","addEventListener","PushNotification","createChannel","id","description","importance","vibration","sound","push","init","android","forceShow","clearNotifications","icon","iconColor","actions","title","priority","vibrate","channel","ios","alert","badge","foreground","on","data","registrationId","notification","additionalData","coldstart","status","get","render","React","createElement","App","module"],"sources":["client/main.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { Meteor } from 'meteor/meteor';\nimport './main.css';\nimport '../imports/api/deviceLogs';\nimport { App } from '../imports/ui/App';\nimport { Session } from 'meteor/session';\n\nconst sendUserAction = (appId, action) => {\n  console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n  Meteor.call('notifications.handleResponse', appId, action, (error, result) => {\n    if (error) {\n      console.error('Error sending notification response:', error);\n    } else {\n      console.log('Server processed action:', result);\n    }\n  });\n}\n\nMeteor.startup(() => {\n  const container = document.getElementById('react-target');\n  const root = createRoot(container);\n\n\n  if (Meteor.isCordova) {\n    if (device.cordova) {\n      Session.set('capturedDeviceInfo', {\n        model: device.model,\n        platform: device.platform,\n        uuid: device.uuid,\n        version: device.version,\n        manufacturer: device.manufacturer,\n      });\n    }\n  }\n\n\n  if (Meteor.isCordova) {\n    document.addEventListener('deviceready', () => {\n      console.log(\"Cordova device is ready\");\n\n      // Create notification channel\n      PushNotification.createChannel(\n        () => {\n          console.log('Channel created successfully');\n        },\n        () => {\n          console.error('Channel creation failed');\n        },\n        {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        }\n      );\n\n      const push = PushNotification.init({\n        android: {\n          forceShow: true,\n          clearNotifications: false,\n          icon: \"ic_launcher\",\n          iconColor: \"#4CAF50\",\n          actions: [\n            { id: 'approve', title: 'Approve' },\n            { id: 'reject', title: 'Reject' }\n          ],\n          priority: \"high\",\n          sound: true,\n          vibrate: true,\n          channel: {\n            id: \"default\",\n            importance: \"high\",\n            sound: \"default\",\n            vibration: true\n          }\n        },\n        ios: {\n          alert: true,\n          badge: true,\n          sound: true,\n          priority: \"high\",\n          foreground: true\n        }\n      });\n\n      try {\n        // Handle registration\n        push.on('registration', (data) => {\n          console.log(\"Registration handler attached\");\n          console.log('Registration data:', data);\n          Session.set('deviceToken', data.registrationId);\n        });\n\n        push.on('notification', (notification) => {\n          console.log('Notification received:', notification);\n          \n          // Handle cold start (app launched from notification)\n          if (notification.additionalData.coldstart) {\n            // Process action from cold start here\n            const action = notification.additionalData.action;\n            if(action) {\n              sendUserAction(notification.additionalData.appId, action);\n            }\n          }\n          \n          // Handle foreground/background processing\n          if (notification.additionalData.appId) {\n            Session.set('notificationReceivedId', {\n              appId: notification.additionalData.appId, \n              status: \"pending\"\n            });\n          }\n        });\n        push.on('reject', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'reject');  \n              Session.set('notificationReceivedId', {appId, status:\"rejected\"})  \n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        push.on('approve', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'approve');    \n              Session.set('notificationReceivedId', {appId, status:\"approved\"})\n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        // Handle errors\n        push.on('error', (error) => {\n          console.log(\"Error handler attached\");\n          console.error('Push notification error:', error);\n        });\n\n        console.log(\"All handlers attached successfully\");\n\n      } catch (error) {\n        console.error(\"Error attaching push notification handlers:\", error);\n\n      }\n\n    }, false);\n  }\n  root.render(<App />);\n});"],"mappings":"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","ignoreList":[]},"sourceType":"module","externalDependencies":{},"hash":"77d262894ffdded556cf79c213184ea56605ef0f"}
