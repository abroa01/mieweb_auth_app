[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nHTTP = Package.http.HTTP;\nAccounts = Package['accounts-base'].Accounts;\ncheck = Package.check.check;\nMatch = Package.check.Match;\nSession = Package.session.Session;\nSHA256 = Package.sha.SHA256;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package.modules.meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"ui\":{\"Modal\":{\"ActionsModal.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Modal/ActionsModal.jsx                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var React;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    }\n  }, 0);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var ActionsModal = function (_ref) {\n    var isOpen = _ref.isOpen,\n      onApprove = _ref.onApprove,\n      onReject = _ref.onReject,\n      onClose = _ref.onClose;\n    if (!isOpen) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg w-11/12 max-w-md\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4 border-b\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-lg font-bold text-center\"\n    }, \"Authenticate?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4 flex flex-col items-center space-y-4\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"w-full py-2 text-white bg-green-500 rounded-lg hover:bg-green-600\",\n      onClick: onApprove\n    }, \"Approve\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"w-full py-2 text-white bg-red-500 rounded-lg hover:bg-red-600\",\n      onClick: onReject\n    }, \"Reject\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"absolute top-2 right-2 text-gray-500 hover:text-gray-700\",\n      onClick: onClose\n    }, \"\\u2715\")));\n  };\n  _c = ActionsModal;\n  module1.exportDefault(ActionsModal);\n  var _c;\n  $RefreshReg$(_c, \"ActionsModal\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ResultModal.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Modal/ResultModal.jsx                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var React, useEffect;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    }\n  }, 0);\n  var CheckCircle;\n  module1.link(\"lucide-react\", {\n    CheckCircle: function (v) {\n      CheckCircle = v;\n    }\n  }, 1);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var ResultModal = function (_ref) {\n    var isOpen = _ref.isOpen,\n      onClose = _ref.onClose;\n    _s();\n    useEffect(function () {\n      if (isOpen) {\n        var timer = setTimeout(function () {\n          onClose();\n        }, 3000);\n        return function () {\n          return clearTimeout(timer);\n        };\n      }\n    }, [isOpen, onClose]);\n    if (!isOpen) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg w-11/12 max-w-md p-6 text-center\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex justify-center mb-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full\"\n    }, /*#__PURE__*/React.createElement(CheckCircle, {\n      className: \"h-10 w-10 text-green-500\"\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-lg font-bold text-gray-800 mb-4\"\n    }, \"You have been successfully authenticated.\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"w-full py-2 mt-4 text-white bg-blue-500 rounded-lg hover:bg-blue-600\",\n      onClick: onClose\n    }, \"Close\")));\n  };\n  _s(ResultModal, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  _c = ResultModal;\n  module1.exportDefault(ResultModal);\n  var _c;\n  $RefreshReg$(_c, \"ResultModal\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"Pagination\":{\"Pagination.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Pagination/Pagination.jsx                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var React;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    }\n  }, 0);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var Pagination = function (_ref) {\n    var currentPage = _ref.currentPage,\n      totalPages = _ref.totalPages,\n      onPageChange = _ref.onPageChange;\n    if (totalPages <= 1) return null;\n    var handlePrev = function () {\n      if (currentPage > 1) onPageChange(currentPage - 1);\n    };\n    var handleNext = function () {\n      if (currentPage < totalPages) onPageChange(currentPage + 1);\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex justify-center items-center mt-4 w-full\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handlePrev,\n      disabled: currentPage === 1,\n      className: \"px-3 py-1 bg-gray-300 dark:bg-gray-600/80 dark:text-gray-400 rounded disabled:bg-gray-400\"\n    }, \"Prev\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"px-2 dark:text-gray-300\"\n    }, \"Page \", currentPage, \" of \", totalPages), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handleNext,\n      disabled: currentPage === totalPages,\n      className: \"px-3 py-1 bg-gray-300 dark:bg-gray-600/80 dark:text-gray-400 rounded disabled:bg-gray-400\"\n    }, \"Next\"));\n  };\n  _c = Pagination;\n  module1.exportDefault(Pagination);\n  var _c;\n  $RefreshReg$(_c, \"Pagination\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"Toasters\":{\"SuccessToaster.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Toasters/SuccessToaster.jsx                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var React, useEffect;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    }\n  }, 0);\n  var motion, AnimatePresence;\n  module1.link(\"framer-motion\", {\n    motion: function (v) {\n      motion = v;\n    },\n    AnimatePresence: function (v) {\n      AnimatePresence = v;\n    }\n  }, 1);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var SuccessToaster = function (_ref) {\n    var message = _ref.message,\n      onClose = _ref.onClose;\n    _s();\n    useEffect(function () {\n      var timer = setTimeout(function () {\n        onClose();\n      }, 3000);\n      return function () {\n        return clearTimeout(timer);\n      };\n    }, [onClose]);\n    return /*#__PURE__*/React.createElement(AnimatePresence, null, message && /*#__PURE__*/React.createElement(motion.div, {\n      initial: {\n        x: \"100%\"\n      },\n      animate: {\n        x: 0\n      },\n      exit: {\n        x: \"150%\"\n      },\n      transition: {\n        duration: 0.5,\n        ease: \"easeInOut\"\n      },\n      className: \"fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded shadow-lg\"\n    }, message));\n  };\n  _s(SuccessToaster, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  _c = SuccessToaster;\n  module1.exportDefault(SuccessToaster);\n  var _c;\n  $RefreshReg$(_c, \"SuccessToaster\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"App.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/App.jsx                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var _slicedToArray;\n  module1.link(\"@babel/runtime/helpers/slicedToArray\", {\n    default: function (v) {\n      _slicedToArray = v;\n    }\n  }, 0);\n  module1.export({\n    App: function () {\n      return App;\n    }\n  });\n  var React, useEffect, useState;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    },\n    useState: function (v) {\n      useState = v;\n    }\n  }, 0);\n  var Router, Routes, Route, Navigate;\n  module1.link(\"react-router-dom\", {\n    BrowserRouter: function (v) {\n      Router = v;\n    },\n    Routes: function (v) {\n      Routes = v;\n    },\n    Route: function (v) {\n      Route = v;\n    },\n    Navigate: function (v) {\n      Navigate = v;\n    }\n  }, 1);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 2);\n  var DeviceLogs;\n  module1.link(\"../api/deviceLogs\", {\n    DeviceLogs: function (v) {\n      DeviceLogs = v;\n    }\n  }, 3);\n  var Session;\n  module1.link(\"meteor/session\", {\n    Session: function (v) {\n      Session = v;\n    }\n  }, 4);\n  var Tracker;\n  module1.link(\"meteor/tracker\", {\n    Tracker: function (v) {\n      Tracker = v;\n    }\n  }, 5);\n  var LoginPage;\n  module1.link(\"./Login\", {\n    LoginPage: function (v) {\n      LoginPage = v;\n    }\n  }, 6);\n  var RegistrationPage;\n  module1.link(\"./Registration\", {\n    RegistrationPage: function (v) {\n      RegistrationPage = v;\n    }\n  }, 7);\n  var WelcomePage;\n  module1.link(\"./Welcome\", {\n    WelcomePage: function (v) {\n      WelcomePage = v;\n    }\n  }, 8);\n  var LandingPage;\n  module1.link(\"./LandingPage\", {\n    LandingPage: function (v) {\n      LandingPage = v;\n    }\n  }, 9);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var App = function () {\n    _s();\n    var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      capturedDeviceUuid = _useState2[0],\n      setCapturedDeviceUuid = _useState2[1];\n    var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      boolRegisteredDevice = _useState4[0],\n      setBoolRegisteredDevice = _useState4[1];\n    var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n    useEffect(function () {\n      console.log('Initializing App component...');\n\n      // Setup Tracker autorun for Session changes\n      var sessionTracker = Tracker.autorun(function () {\n        var deviceInfo = Session.get('capturedDeviceInfo');\n        console.log('Session deviceInfo:', deviceInfo);\n        if (!deviceInfo || !deviceInfo.uuid) {\n          console.log('No valid device info in session');\n          setCapturedDeviceUuid(null);\n          setBoolRegisteredDevice(false);\n          setIsLoading(false);\n          return;\n        }\n        setCapturedDeviceUuid(deviceInfo.uuid);\n\n        // Subscribe to deviceLogs\n        var subscriber = Meteor.subscribe('deviceLogs.byDevice', deviceInfo.uuid, {\n          onStop: function (error) {\n            if (error) {\n              console.error('Subscription error:', error);\n            }\n          },\n          onReady: function () {\n            console.log('Subscription is ready');\n            // Query the collection\n            var storedDeviceInfo = DeviceLogs.find({\n              deviceUUID: deviceInfo.uuid\n            }).fetch();\n            console.log('Fetched Device Info:', JSON.stringify({\n              storedDeviceInfo: storedDeviceInfo\n            }));\n            setBoolRegisteredDevice(storedDeviceInfo.length > 0);\n            setIsLoading(false);\n          }\n        });\n\n        // Cleanup function\n        return function () {\n          console.log('Cleaning up subscription...');\n          if (subscriber) {\n            subscriber.stop();\n          }\n        };\n      });\n\n      // Cleanup function for the effect\n      return function () {\n        console.log('Cleaning up session tracker...');\n        sessionTracker.stop();\n      };\n    }, []); // Empty dependency array - only run on mount\n\n    // Debug logging for state changes\n    useEffect(function () {\n      console.log('State updated:', {\n        capturedDeviceUuid: capturedDeviceUuid,\n        boolRegisteredDevice: boolRegisteredDevice,\n        isLoading: isLoading\n      });\n    }, [capturedDeviceUuid, boolRegisteredDevice, isLoading]);\n\n    // Show loading spinner while checking registration\n    if (isLoading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500\"\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mt-4 text-lg font-semibold text-blue-600\"\n      }, \"Checking device registration...\"));\n    }\n\n    // Main routing logic\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\"\n    }, /*#__PURE__*/React.createElement(Router, null, /*#__PURE__*/React.createElement(Routes, null, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      element: boolRegisteredDevice ? /*#__PURE__*/React.createElement(Navigate, {\n        to: \"/login\",\n        replace: true\n      }) : /*#__PURE__*/React.createElement(Navigate, {\n        to: \"/register\",\n        replace: true\n      })\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/React.createElement(LoginPage, {\n        deviceDetails: capturedDeviceUuid\n      })\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      element: /*#__PURE__*/React.createElement(RegistrationPage, {\n        deviceDetails: capturedDeviceUuid\n      })\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/dashboard\",\n      element: /*#__PURE__*/React.createElement(LandingPage, {\n        deviceDetails: capturedDeviceUuid\n      })\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/welcome\",\n      element: /*#__PURE__*/React.createElement(WelcomePage, {\n        deviceDetails: capturedDeviceUuid\n      })\n    }))));\n  };\n  _s(App, \"RbQzJ8kJ4BhIkaRRQCNz8/GWKDU=\");\n  _c = App;\n  var _c;\n  $RefreshReg$(_c, \"App\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"LandingPage.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/LandingPage.jsx                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var _regeneratorRuntime;\n  module1.link(\"@babel/runtime/regenerator\", {\n    default: function (v) {\n      _regeneratorRuntime = v;\n    }\n  }, 0);\n  var _objectSpread;\n  module1.link(\"@babel/runtime/helpers/objectSpread2\", {\n    default: function (v) {\n      _objectSpread = v;\n    }\n  }, 1);\n  var _slicedToArray;\n  module1.link(\"@babel/runtime/helpers/slicedToArray\", {\n    default: function (v) {\n      _slicedToArray = v;\n    }\n  }, 2);\n  module1.export({\n    LandingPage: function () {\n      return LandingPage;\n    }\n  });\n  var React, useState, useEffect;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useState: function (v) {\n      useState = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    }\n  }, 0);\n  var Shield, LogOut, User, Mail, CheckCircle, XCircle, Clock, Smartphone, Edit, Filter, Search, BellRing, Moon, Sun, RotateCcw;\n  module1.link(\"lucide-react\", {\n    Shield: function (v) {\n      Shield = v;\n    },\n    LogOut: function (v) {\n      LogOut = v;\n    },\n    User: function (v) {\n      User = v;\n    },\n    Mail: function (v) {\n      Mail = v;\n    },\n    CheckCircle: function (v) {\n      CheckCircle = v;\n    },\n    XCircle: function (v) {\n      XCircle = v;\n    },\n    Clock: function (v) {\n      Clock = v;\n    },\n    Smartphone: function (v) {\n      Smartphone = v;\n    },\n    Edit: function (v) {\n      Edit = v;\n    },\n    Filter: function (v) {\n      Filter = v;\n    },\n    Search: function (v) {\n      Search = v;\n    },\n    BellRing: function (v) {\n      BellRing = v;\n    },\n    Moon: function (v) {\n      Moon = v;\n    },\n    Sun: function (v) {\n      Sun = v;\n    },\n    RotateCcw: function (v) {\n      RotateCcw = v;\n    }\n  }, 1);\n  var Session;\n  module1.link(\"meteor/session\", {\n    Session: function (v) {\n      Session = v;\n    }\n  }, 2);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 3);\n  var ActionsModal;\n  module1.link(\"./Modal/ActionsModal\", {\n    \"default\": function (v) {\n      ActionsModal = v;\n    }\n  }, 4);\n  var ResultModal;\n  module1.link(\"./Modal/ResultModal\", {\n    \"default\": function (v) {\n      ResultModal = v;\n    }\n  }, 5);\n  var Tracker;\n  module1.link(\"meteor/tracker\", {\n    Tracker: function (v) {\n      Tracker = v;\n    }\n  }, 6);\n  var formatDateTime;\n  module1.link(\"../../utils/utils\", {\n    formatDateTime: function (v) {\n      formatDateTime = v;\n    }\n  }, 7);\n  var SuccessToaster;\n  module1.link(\"./Toasters/SuccessToaster\", {\n    \"default\": function (v) {\n      SuccessToaster = v;\n    }\n  }, 8);\n  var Pagination;\n  module1.link(\"./Pagination/Pagination\", {\n    \"default\": function (v) {\n      Pagination = v;\n    }\n  }, 9);\n  var PAGE_SIZE;\n  module1.link(\"../../utils/constants\", {\n    PAGE_SIZE: function (v) {\n      PAGE_SIZE = v;\n    }\n  }, 10);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var LandingPage = function () {\n    _s();\n    var userProfile = Session.get(\"userProfile\") || {};\n    var capturedDeviceInfo = Session.get(\"capturedDeviceInfo\") || {};\n    var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      notificationHistory = _useState2[0],\n      setNotificationHistory = _useState2[1];\n    var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      successMessage = _useState4[0],\n      setSuccessMessage = _useState4[1];\n    var _useState5 = useState({\n        firstName: \"\",\n        lastName: \"\",\n        email: userProfile.email || \"\"\n      }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      profile = _useState6[0],\n      setProfile = _useState6[1];\n    var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isEditing = _useState8[0],\n      setIsEditing = _useState8[1];\n    var _useState9 = useState(\"all\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      filter = _useState10[0],\n      setFilter = _useState10[1];\n    var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      searchTerm = _useState12[0],\n      setSearchTerm = _useState12[1];\n    var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      hasFetchedData = _useState14[0],\n      setHasFetchedData = _useState14[1];\n    var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      isSaving = _useState16[0],\n      setIsSaving = _useState16[1];\n    var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      isActionsModalOpen = _useState18[0],\n      setIsActionsModalOpen = _useState18[1];\n    var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      isResultModalOpen = _useState20[0],\n      setIsResultModalOpen = _useState20[1];\n    var _useState21 = useState(null),\n      _useState22 = _slicedToArray(_useState21, 2),\n      notificationId = _useState22[0],\n      setNotificationId = _useState22[1];\n    var _useState23 = useState(1),\n      _useState24 = _slicedToArray(_useState23, 2),\n      currentPage = _useState24[0],\n      setCurrentPage = _useState24[1];\n    var _useState25 = useState({\n        model: capturedDeviceInfo.model || \"\",\n        platform: capturedDeviceInfo.platform || \"\"\n      }),\n      _useState26 = _slicedToArray(_useState25, 2),\n      deviceInfo = _useState26[0],\n      setDeviceInfo = _useState26[1];\n    var _useState27 = useState(false),\n      _useState28 = _slicedToArray(_useState27, 2),\n      isDarkMode = _useState28[0],\n      setIsDarkMode = _useState28[1];\n    useEffect(function () {\n      console.log(\"Initializing Tracker\");\n      var tracker = Tracker.autorun(function () {\n        function _callee() {\n          var newNotification, notfId;\n          return _regeneratorRuntime.async(function () {\n            function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  newNotification = Session.get(\"notificationReceivedId\");\n                  console.log(\"Tracker detected change:\", newNotification === null || newNotification === void 0 ? void 0 : newNotification.appId);\n                  if (newNotification) {\n                    _context.next = 4;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 4:\n                  setNotificationId(newNotification.appId);\n                  if (!(newNotification.status === \"pending\")) {\n                    _context.next = 9;\n                    break;\n                  }\n                  setIsActionsModalOpen(true);\n                  _context.next = 26;\n                  break;\n                case 9:\n                  _context.prev = 9;\n                  _context.next = 12;\n                  return _regeneratorRuntime.awrap(getNotificationId());\n                case 12:\n                  notfId = _context.sent;\n                  if (!notfId) {\n                    _context.next = 20;\n                    break;\n                  }\n                  console.log(\"Resolved Notification ID:\", notfId);\n                  _context.next = 17;\n                  return _regeneratorRuntime.awrap(handleStatusUpdate(notfId, newNotification.status));\n                case 17:\n                  fetchNotificationHistory();\n                  _context.next = 21;\n                  break;\n                case 20:\n                  console.warn(\"No notification ID found.\");\n                case 21:\n                  _context.next = 26;\n                  break;\n                case 23:\n                  _context.prev = 23;\n                  _context.t0 = _context[\"catch\"](9);\n                  console.error(\"Error fetching notification ID:\", _context.t0);\n                case 26:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n            return _callee$;\n          }(), null, null, [[9, 23]], Promise);\n        }\n        return _callee;\n      }());\n      return function () {\n        console.log(\"Stopping Tracker\");\n        tracker.stop();\n      };\n    }, []);\n\n    // Dark mode persistence\n    useEffect(function () {\n      var darkModePreference = localStorage.getItem(\"darkMode\") === \"true\";\n      setIsDarkMode(darkModePreference);\n      if (darkModePreference) {\n        document.documentElement.classList.add(\"dark\");\n      } else {\n        document.documentElement.classList.remove(\"dark\");\n      }\n    }, []);\n    var getNotificationId = function () {\n      function _callee2() {\n        var notificationId;\n        return _regeneratorRuntime.async(function () {\n          function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regeneratorRuntime.awrap(Meteor.callAsync(\"notificationHistory.getLastIdByUser\", Meteor.userId()));\n              case 2:\n                notificationId = _context2.sent;\n                return _context2.abrupt(\"return\", notificationId);\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n          return _callee2$;\n        }(), null, null, null, Promise);\n      }\n      return _callee2;\n    }();\n    var handleStatusUpdate = function () {\n      function _callee3(id, newStatus) {\n        return _regeneratorRuntime.async(function () {\n          function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                if (id) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 2:\n                _context3.next = 4;\n                return _regeneratorRuntime.awrap(Meteor.call(\"notificationHistory.updateStatus\", id, newStatus, function (error, result) {\n                  if (error) {\n                    console.error(\"Error updating status:\", error);\n                  } else {\n                    console.log(\"Status updated successfully!\");\n                  }\n                }));\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n          return _callee3$;\n        }(), null, null, null, Promise);\n      }\n      return _callee3;\n    }();\n    var toggleDarkMode = function () {\n      var newMode = !isDarkMode;\n      setIsDarkMode(newMode);\n      localStorage.setItem(\"darkMode\", newMode);\n      if (newMode) {\n        document.documentElement.classList.add(\"dark\");\n      } else {\n        document.documentElement.classList.remove(\"dark\");\n      }\n    };\n    useEffect(function () {\n      fetchNotificationHistory();\n    }, []);\n    var fetchNotificationHistory = function () {\n      function _callee4() {\n        var response;\n        return _regeneratorRuntime.async(function () {\n          function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _regeneratorRuntime.awrap(Meteor.callAsync(\"notificationHistory.getByUser\", Meteor.userId()));\n              case 2:\n                response = _context4.sent;\n                setNotificationHistory(response);\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n          return _callee4$;\n        }(), null, null, null, Promise);\n      }\n      return _callee4;\n    }();\n\n    // User profile data fetching\n    useEffect(function () {\n      var isMounted = true;\n      var fetchUserDetails = function () {\n        function _callee5() {\n          var result;\n          return _regeneratorRuntime.async(function () {\n            function _callee5$(_context5) {\n              while (1) switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!(!hasFetchedData && userProfile.email)) {\n                    _context5.next = 11;\n                    break;\n                  }\n                  _context5.prev = 1;\n                  _context5.next = 4;\n                  return _regeneratorRuntime.awrap(Meteor.callAsync(\"getUserDetails\", userProfile.email));\n                case 4:\n                  result = _context5.sent;\n                  if (isMounted) {\n                    setProfile({\n                      firstName: result.firstName || \"\",\n                      lastName: result.lastName || \"\",\n                      email: result.email || \"\"\n                    });\n                    setHasFetchedData(true);\n                  }\n                  _context5.next = 11;\n                  break;\n                case 8:\n                  _context5.prev = 8;\n                  _context5.t0 = _context5[\"catch\"](1);\n                  console.error(\"Error fetching user details:\", _context5.t0);\n                case 11:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n            return _callee5$;\n          }(), null, null, [[1, 8]], Promise);\n        }\n        return _callee5;\n      }();\n      fetchUserDetails();\n      if (capturedDeviceInfo) {\n        setDeviceInfo({\n          model: capturedDeviceInfo.model || \"\",\n          platform: capturedDeviceInfo.platform || \"\"\n        });\n      }\n      return function () {\n        isMounted = false;\n      };\n    }, [userProfile.email, hasFetchedData]);\n\n    // Handle profile updates\n    var handleProfileUpdate = function () {\n      function _callee6() {\n        return _regeneratorRuntime.async(function () {\n          function _callee6$(_context6) {\n            while (1) switch (_context6.prev = _context6.next) {\n              case 0:\n                if (Meteor.userId()) {\n                  _context6.next = 3;\n                  break;\n                }\n                alert(\"Please login to perform this action\");\n                return _context6.abrupt(\"return\");\n              case 3:\n                setIsSaving(true);\n                _context6.prev = 4;\n                _context6.next = 7;\n                return _regeneratorRuntime.awrap(Meteor.callAsync(\"updateUserProfile\", {\n                  firstName: profile.firstName,\n                  lastName: profile.lastName,\n                  email: profile.email\n                }));\n              case 7:\n                setIsEditing(false);\n                // Update session\n                Session.set(\"userProfile\", _objectSpread(_objectSpread({}, userProfile), profile));\n                setSuccessMessage(\"Profile updated successfully!\");\n                setTimeout(function () {\n                  return setSuccessMessage(\"\");\n                }, 3000);\n                _context6.next = 17;\n                break;\n              case 13:\n                _context6.prev = 13;\n                _context6.t0 = _context6[\"catch\"](4);\n                console.error(\"Error updating profile:\", _context6.t0);\n                alert(\"Failed to update profile. Please try again.\");\n              case 17:\n                _context6.prev = 17;\n                setIsSaving(false);\n                return _context6.finish(17);\n              case 20:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n          return _callee6$;\n        }(), null, null, [[4, 13, 17, 20]], Promise);\n      }\n      return _callee6;\n    }();\n\n    // Handle logout\n    var handleLogout = function () {\n      Meteor.logout(function (error) {\n        if (error) {\n          console.error(\"Logout error:\", error);\n          alert(\"Failed to logout. Please try again.\");\n        } else {\n          // Clear session data\n          Session.clear();\n          // Redirect to login page (assuming you're using React Router)\n          window.location.href = \"/login\";\n        }\n      });\n    };\n\n    // Modified profile editing section in the JSX\n    var renderProfileSection = function () {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-1\"\n      }, isEditing ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"space-y-2\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: profile.firstName,\n        onChange: function (e) {\n          return setProfile(_objectSpread(_objectSpread({}, profile), {}, {\n            firstName: e.target.value\n          }));\n        },\n        className: \"w-full px-2 py-1 rounded border dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600\",\n        placeholder: \"First Name\"\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: profile.lastName,\n        onChange: function (e) {\n          return setProfile(_objectSpread(_objectSpread({}, profile), {}, {\n            lastName: e.target.value\n          }));\n        },\n        className: \"w-full px-2 py-1 rounded border dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600\",\n        placeholder: \"Last Name\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex space-x-2 mt-2\"\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: handleProfileUpdate,\n        disabled: isSaving,\n        className: \"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50\"\n      }, isSaving ? \"Saving...\" : \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function () {\n          return setIsEditing(false);\n        },\n        disabled: isSaving,\n        className: \"px-3 py-1 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200\"\n      }, \"Cancel\"))) : /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"text-xl font-semibold text-gray-900 dark:text-white flex items-center justify-between\"\n      }, profile.firstName + \" \" + profile.lastName, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function () {\n          return setIsEditing(true);\n        },\n        className: \"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full\"\n      }, /*#__PURE__*/React.createElement(Edit, {\n        className: \"h-4 w-4 text-gray-500\"\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-gray-600 dark:text-gray-300 flex items-center\"\n      }, /*#__PURE__*/React.createElement(Mail, {\n        className: \"h-4 w-4 mr-2\"\n      }), profile.email));\n    };\n    var sendUserAction = function (appId, action) {\n      console.log(\"Sending user action: \" + action + \" for appId: \" + appId);\n      Meteor.call(\"notifications.handleResponse\", appId, action, function (error, result) {\n        if (error) {\n          console.error(\"Error sending notification response:\", error);\n        } else {\n          console.log(\"Server processed action:\", result);\n          setNotificationId(null);\n          Session.set(\"notificationReceivedId\", null);\n        }\n      });\n    };\n    var handleCloseResultModal = function () {\n      setIsResultModalOpen(false);\n    };\n    var handleCloseActionModal = function () {\n      setIsActionsModalOpen(false);\n    };\n    var handleApprove = function () {\n      function _callee7() {\n        var notfId;\n        return _regeneratorRuntime.async(function () {\n          function _callee7$(_context7) {\n            while (1) switch (_context7.prev = _context7.next) {\n              case 0:\n                sendUserAction(notificationId, \"approve\");\n                _context7.next = 3;\n                return _regeneratorRuntime.awrap(getNotificationId());\n              case 3:\n                notfId = _context7.sent;\n                _context7.next = 6;\n                return _regeneratorRuntime.awrap(handleStatusUpdate(notfId, \"approved\"));\n              case 6:\n                setIsResultModalOpen(true);\n                setIsActionsModalOpen(false);\n                fetchNotificationHistory();\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n          return _callee7$;\n        }(), null, null, null, Promise);\n      }\n      return _callee7;\n    }();\n    var handleReject = function () {\n      function _callee8() {\n        var notfId;\n        return _regeneratorRuntime.async(function () {\n          function _callee8$(_context8) {\n            while (1) switch (_context8.prev = _context8.next) {\n              case 0:\n                sendUserAction(notificationId, \"reject\");\n                _context8.next = 3;\n                return _regeneratorRuntime.awrap(getNotificationId());\n              case 3:\n                notfId = _context8.sent;\n                _context8.next = 6;\n                return _regeneratorRuntime.awrap(handleStatusUpdate(notfId, \"rejected\"));\n              case 6:\n                setIsActionsModalOpen(false);\n                fetchNotificationHistory();\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n          return _callee8$;\n        }(), null, null, null, Promise);\n      }\n      return _callee8;\n    }();\n    var filteredNotifications = notificationHistory.filter(function (notification) {\n      var _notification$message, _notification$title;\n      var matchesFilter = filter === \"all\" || notification.status === filter;\n      var normalizedSearchTerm = searchTerm.toLowerCase().trim();\n      var matchesSearch = normalizedSearchTerm === \"\" || ((_notification$message = notification.message) === null || _notification$message === void 0 ? void 0 : _notification$message.toLowerCase().includes(normalizedSearchTerm)) || ((_notification$title = notification.title) === null || _notification$title === void 0 ? void 0 : _notification$title.toLowerCase().includes(normalizedSearchTerm));\n      return matchesFilter && matchesSearch;\n    });\n    var totalPages = Math.ceil((filteredNotifications === null || filteredNotifications === void 0 ? void 0 : filteredNotifications.length) / PAGE_SIZE);\n    var paginatedNotifications = filteredNotifications.reverse().slice((currentPage - 1) * PAGE_SIZE, currentPage * PAGE_SIZE);\n    console.log(\"paginatedNotifications:\", paginatedNotifications);\n    var handlePageChange = function (newPage) {\n      setCurrentPage(newPage);\n    };\n    var today = new Date().toISOString().split(\"T\")[0];\n    var todayCount = filteredNotifications.filter(function (notification) {\n      var createdAtDate = notification.createdAt instanceof Date ? notification.createdAt.toISOString().split(\"T\")[0] : String(notification.createdAt).split(\"T\")[0];\n      return createdAtDate === today;\n    }).length;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 dark:from-gray-900 dark:to-gray-800\"\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 shadow-lg sticky top-0 z-10\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex justify-between items-center\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-3\"\n    }, /*#__PURE__*/React.createElement(Shield, {\n      className: \"h-8 w-8 text-indigo-600 dark:text-indigo-400\"\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-xl font-bold text-gray-900 dark:text-white\"\n    }, \"MieSecure\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-4\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: toggleDarkMode,\n      className: \"flex items-center justify-center p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition\",\n      \"aria-label\": \"Toggle Night Mode\"\n    }, isDarkMode ? /*#__PURE__*/React.createElement(Sun, {\n      className: \"h-6 w-6 text-yellow-400\"\n    }) : /*#__PURE__*/React.createElement(Moon, {\n      className: \"h-6 w-6 text-gray-600 dark:text-gray-400\"\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handleLogout,\n      className: \"flex items-center space-x-2 px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors\"\n    }, /*#__PURE__*/React.createElement(LogOut, {\n      className: \"h-4 w-4\"\n    }), /*#__PURE__*/React.createElement(\"span\", null, \"Logout\")))))), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"max-w-7xl mx-auto px-4 py-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lg:col-span-1\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6\"\n    }, /*#__PURE__*/React.createElement(SuccessToaster, {\n      message: successMessage,\n      onClose: function () {\n        return setSuccessMessage(\"\");\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-4 mb-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h-16 w-16 rounded-full bg-gradient-to-r from-indigo-500 to-blue-500 flex items-center justify-center\"\n    }, /*#__PURE__*/React.createElement(User, {\n      className: \"h-8 w-8 text-white\"\n    })), renderProfileSection()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"space-y-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-t dark:border-gray-700 pt-4\"\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\"\n    }, \"Device Information\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"space-y-2\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-between\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-600 dark:text-gray-300\"\n    }, \"Model\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-medium text-gray-900 dark:text-white\"\n    }, deviceInfo.model || \"iPhone 13 Pro\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-between\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-600 dark:text-gray-300\"\n    }, \"Platform\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-medium text-gray-900 dark:text-white\"\n    }, deviceInfo.platform || \"iOS 15.0\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-t dark:border-gray-700 pt-4\"\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\"\n    }, \"Activity Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"space-y-2\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-between dark:text-gray-300\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-600 dark:text-gray-300\"\n    }, \"Today's Activity\"), todayCount)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lg:col-span-2 space-y-6\"\n    }, filteredNotifications.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-wrap gap-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-1\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative\"\n    }, /*#__PURE__*/React.createElement(Search, {\n      className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search requests...\",\n      className: \"w-full pl-10 pr-4 py-2 text-gray-400 rounded-lg border dark:bg-gray-700 dark:border-gray-600\",\n      value: searchTerm,\n      onChange: function (e) {\n        return setSearchTerm(e.target.value);\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-2\"\n    }, /*#__PURE__*/React.createElement(Filter, {\n      className: \"h-4 w-4 text-gray-500\"\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"bg-transparent text-gray-400 border rounded-lg px-3 py-2 dark:bg-gray-700 dark:border-gray-600\",\n      value: filter,\n      onChange: function (e) {\n        return setFilter(e.target.value);\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"all\"\n    }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"pending\"\n    }, \"Pending\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"approved\"\n    }, \"Approved\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"rejected\"\n    }, \"Rejected\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"space-y-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-2\"\n    }, /*#__PURE__*/React.createElement(Clock, {\n      className: \"h-5 w-5 text-indigo-600 dark:text-indigo-400\"\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-lg font-semibold text-gray-900 dark:text-white\"\n    }, \"History\")), paginatedNotifications.map(function (notification) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: notification._id,\n        className: \"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex justify-between items-start mb-4\"\n      }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 dark:text-white mb-1\"\n      }, notification.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"space-y-1\"\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-300 flex items-center\"\n      }, /*#__PURE__*/React.createElement(Clock, {\n        className: \"h-4 w-4 mr-2\"\n      }), formatDateTime(notification.createdAt)), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-300 flex items-center\"\n      }, /*#__PURE__*/React.createElement(Smartphone, {\n        className: \"h-4 w-4 mr-2\"\n      }), \"Iphone 16\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"px-3 py-1 rounded-full text-sm font-medium capitalize \" + (notification.status === \"approved\" ? \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\" : notification.status === \"rejected\" ? \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\" : \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\")\n      }, notification.status)));\n    }), /*#__PURE__*/React.createElement(Pagination, {\n      currentPage: currentPage,\n      totalPages: totalPages,\n      onPageChange: handlePageChange\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6 min-h-[100px] flex items-center justify-center text-center flex-col\"\n    }, /*#__PURE__*/React.createElement(RotateCcw, {\n      className: \"h-10 w-10 mt-4 text-gray-600\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"No Notification History.\"))))), /*#__PURE__*/React.createElement(ActionsModal, {\n      isOpen: isActionsModalOpen,\n      onApprove: handleApprove,\n      onReject: handleReject,\n      onClose: handleCloseActionModal\n    }), /*#__PURE__*/React.createElement(ResultModal, {\n      isOpen: isResultModalOpen,\n      onClose: handleCloseResultModal\n    }));\n  };\n  _s(LandingPage, \"CZLYOWEuYi2XYp/A8E+aHWeKMNY=\");\n  _c = LandingPage;\n  var _c;\n  $RefreshReg$(_c, \"LandingPage\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Login.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Login.jsx                                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var _regeneratorRuntime;\n  module1.link(\"@babel/runtime/regenerator\", {\n    default: function (v) {\n      _regeneratorRuntime = v;\n    }\n  }, 0);\n  var _slicedToArray;\n  module1.link(\"@babel/runtime/helpers/slicedToArray\", {\n    default: function (v) {\n      _slicedToArray = v;\n    }\n  }, 1);\n  module1.export({\n    LoginPage: function () {\n      return LoginPage;\n    }\n  });\n  var React, useState, useEffect;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useState: function (v) {\n      useState = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    }\n  }, 0);\n  var useNavigate;\n  module1.link(\"react-router-dom\", {\n    useNavigate: function (v) {\n      useNavigate = v;\n    }\n  }, 1);\n  var FiMail, FiLock;\n  module1.link(\"react-icons/fi\", {\n    FiMail: function (v) {\n      FiMail = v;\n    },\n    FiLock: function (v) {\n      FiLock = v;\n    }\n  }, 2);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 3);\n  var Session;\n  module1.link(\"meteor/session\", {\n    Session: function (v) {\n      Session = v;\n    }\n  }, 4);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var LoginPage = function (_ref) {\n    var deviceDetails = _ref.deviceDetails;\n    _s();\n    var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n    var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pin = _useState4[0],\n      setPin = _useState4[1];\n    var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n    var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isLoggingIn = _useState8[0],\n      setIsLoggingIn = _useState8[1];\n    var navigate = useNavigate();\n    useEffect(function () {\n      // Check for device details on component mount\n      if (!deviceDetails) {\n        console.warn('No device details available');\n      }\n\n      // Check for Meteor connection\n      var connectionCheck = setInterval(function () {\n        if (!Meteor.status().connected) {\n          setError('Connection to server lost. Attempting to reconnect...');\n        } else if (error.includes('Connection to server lost')) {\n          setError('');\n        }\n      }, 3000);\n      return function () {\n        return clearInterval(connectionCheck);\n      };\n    }, [deviceDetails, error]);\n    var handleLogin = function () {\n      function _callee(e) {\n        return _regeneratorRuntime.async(function () {\n          function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n\n                // Validate device details\n                if (deviceDetails) {\n                  _context.next = 4;\n                  break;\n                }\n                setError('Device information not available. Please refresh the page.');\n                return _context.abrupt(\"return\");\n              case 4:\n                if (Meteor.status().connected) {\n                  _context.next = 7;\n                  break;\n                }\n                setError('Unable to connect to server. Please check your connection.');\n                return _context.abrupt(\"return\");\n              case 7:\n                setIsLoggingIn(true);\n                setError('');\n                _context.prev = 9;\n                _context.next = 12;\n                return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                  Meteor.loginWithPassword(email, pin, function (err) {\n                    if (err) {\n                      console.error('Login Error:', err);\n                      reject(err);\n                    } else {\n                      resolve();\n                    }\n                  });\n                }));\n              case 12:\n                Session.set('userProfile', {\n                  email: email\n                });\n                navigate('/dashboard');\n                _context.next = 19;\n                break;\n              case 16:\n                _context.prev = 16;\n                _context.t0 = _context[\"catch\"](9);\n                setError(_context.t0.reason || 'Login failed. Please try again.');\n              case 19:\n                _context.prev = 19;\n                setIsLoggingIn(false);\n                return _context.finish(19);\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n          return _callee$;\n        }(), null, null, [[9, 16, 19, 22]], Promise);\n      }\n      return _callee;\n    }();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-3xl font-bold text-gray-900\"\n    }, \"Welcome Back\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-2 text-gray-600\"\n    }, \"Sign in to your account\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleLogin,\n      className: \"space-y-6\"\n    }, error && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-red-600 text-sm text-center bg-red-100 p-3 rounded-lg\"\n    }, error), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"block text-sm font-medium text-gray-700\"\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-1 relative\"\n    }, /*#__PURE__*/React.createElement(FiMail, {\n      className: \"absolute top-3 left-3 text-gray-400\"\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"email\",\n      type: \"email\",\n      required: true,\n      value: email,\n      onChange: function (e) {\n        return setEmail(e.target.value);\n      },\n      className: \"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n      placeholder: \"Enter your email\",\n      autoComplete: \"email\"\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"pin\",\n      className: \"block text-sm font-medium text-gray-700\"\n    }, \"PIN\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-1 relative\"\n    }, /*#__PURE__*/React.createElement(FiLock, {\n      className: \"absolute top-3 left-3 text-gray-400\"\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"pin\",\n      type: \"password\",\n      required: true,\n      value: pin,\n      onChange: function (e) {\n        return setPin(e.target.value);\n      },\n      className: \"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n      placeholder: \"Enter your PIN\",\n      maxLength: 6,\n      minLength: 4,\n      pattern: \"[0-9]*\",\n      inputMode: \"numeric\",\n      autoComplete: \"current-password\"\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: isLoggingIn,\n      className: \"w-full py-3 px-4 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out transform hover:scale-[1.02]\"\n    }, isLoggingIn ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-center\"\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\"\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      className: \"opacity-25\",\n      cx: \"12\",\n      cy: \"12\",\n      r: \"10\",\n      stroke: \"currentColor\",\n      strokeWidth: \"4\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      className: \"opacity-75\",\n      fill: \"currentColor\",\n      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n    })), \"Signing In...\") : 'Sign In'))));\n  };\n  _s(LoginPage, \"MtfjbUFJrqs2dfV48S4oXboFhcY=\", false, function () {\n    return [useNavigate];\n  });\n  _c = LoginPage;\n  var _c;\n  $RefreshReg$(_c, \"LoginPage\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Registration.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Registration.jsx                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var _regeneratorRuntime;\n  module1.link(\"@babel/runtime/regenerator\", {\n    default: function (v) {\n      _regeneratorRuntime = v;\n    }\n  }, 0);\n  var _extends;\n  module1.link(\"@babel/runtime/helpers/extends\", {\n    default: function (v) {\n      _extends = v;\n    }\n  }, 1);\n  var _objectSpread;\n  module1.link(\"@babel/runtime/helpers/objectSpread2\", {\n    default: function (v) {\n      _objectSpread = v;\n    }\n  }, 2);\n  var _slicedToArray;\n  module1.link(\"@babel/runtime/helpers/slicedToArray\", {\n    default: function (v) {\n      _slicedToArray = v;\n    }\n  }, 3);\n  module1.export({\n    RegistrationPage: function () {\n      return RegistrationPage;\n    }\n  });\n  var React, useState;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useState: function (v) {\n      useState = v;\n    }\n  }, 0);\n  var useNavigate;\n  module1.link(\"react-router-dom\", {\n    useNavigate: function (v) {\n      useNavigate = v;\n    }\n  }, 1);\n  var FiUser, FiMail, FiLock;\n  module1.link(\"react-icons/fi\", {\n    FiUser: function (v) {\n      FiUser = v;\n    },\n    FiMail: function (v) {\n      FiMail = v;\n    },\n    FiLock: function (v) {\n      FiLock = v;\n    }\n  }, 2);\n  var motion;\n  module1.link(\"framer-motion\", {\n    motion: function (v) {\n      motion = v;\n    }\n  }, 3);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 4);\n  var Session;\n  module1.link(\"meteor/session\", {\n    Session: function (v) {\n      Session = v;\n    }\n  }, 5);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var RegistrationPage = function (_ref) {\n    var deviceDetails = _ref.deviceDetails;\n    _s();\n    var _useState = useState({\n        email: '',\n        firstName: '',\n        lastName: '',\n        pin: ''\n      }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n    var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var navigate = useNavigate();\n    var handleSubmit = function () {\n      function _callee(e) {\n        var sessionDeviceInfo, fcmDeviceToken;\n        return _regeneratorRuntime.async(function () {\n          function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                if (deviceDetails) {\n                  _context.next = 4;\n                  break;\n                }\n                alert('Device information not available');\n                return _context.abrupt(\"return\");\n              case 4:\n                setLoading(true);\n                sessionDeviceInfo = Session.get('capturedDeviceInfo');\n                fcmDeviceToken = Session.get('deviceToken'); // Get FCM token from session\n                if (!(sessionDeviceInfo.uuid === deviceDetails)) {\n                  _context.next = 23;\n                  break;\n                }\n                _context.prev = 8;\n                _context.next = 11;\n                return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                  Meteor.call('users.register', _objectSpread(_objectSpread({}, formData), {}, {\n                    sessionDeviceInfo: sessionDeviceInfo,\n                    fcmDeviceToken: fcmDeviceToken\n                  }), function (err, result) {\n                    if (err) {\n                      console.error(\"Registration error:\", err);\n                      reject(err);\n                    } else {\n                      console.log(\"Registration success:\", result);\n                      resolve(result);\n                    }\n                  });\n                }));\n              case 11:\n                // Navigate to login after successful registration\n                navigate('/login');\n                _context.next = 18;\n                break;\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](8);\n                console.error('Registration failed:', _context.t0);\n                alert(_context.t0.reason || 'Registration failed. Please try again.');\n              case 18:\n                _context.prev = 18;\n                setLoading(false);\n                return _context.finish(18);\n              case 21:\n                _context.next = 25;\n                break;\n              case 23:\n                alert('Registration failed. Device uuid is not matched or tampered.');\n                setLoading(false);\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n          return _callee$;\n        }(), null, null, [[8, 14, 18, 21]], Promise);\n      }\n      return _callee;\n    }();\n    var inputFields = [{\n      name: 'email',\n      icon: FiMail,\n      type: 'email',\n      placeholder: 'Enter your email'\n    }, {\n      name: 'firstName',\n      icon: FiUser,\n      type: 'text',\n      placeholder: 'First Name'\n    }, {\n      name: 'lastName',\n      icon: FiUser,\n      type: 'text',\n      placeholder: 'Last Name'\n    }, {\n      name: 'pin',\n      icon: FiLock,\n      type: 'password',\n      placeholder: 'Create a PIN (4-6 digits)',\n      minLength: \"4\",\n      maxLength: \"6\",\n      pattern: \"\\\\d*\"\n    }];\n    return /*#__PURE__*/React.createElement(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"min-h-screen flex flex-col items-center justify-center p-4\"\n    }, /*#__PURE__*/React.createElement(motion.div, {\n      initial: {\n        y: 20,\n        opacity: 0\n      },\n      animate: {\n        y: 0,\n        opacity: 1\n      },\n      transition: {\n        delay: 0.2\n      },\n      className: \"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center space-y-2\"\n    }, /*#__PURE__*/React.createElement(motion.h2, {\n      initial: {\n        y: -20\n      },\n      animate: {\n        y: 0\n      },\n      className: \"text-3xl font-bold text-gray-900\"\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-gray-600\"\n    }, \"Join our community today\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\"\n    }, inputFields.map(function (field, index) {\n      return /*#__PURE__*/React.createElement(motion.div, {\n        key: field.name,\n        initial: {\n          x: -20,\n          opacity: 0\n        },\n        animate: {\n          x: 0,\n          opacity: 1\n        },\n        transition: {\n          delay: index * 0.1\n        },\n        className: field.name === 'email' ? 'md:col-span-2' : ''\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"text-sm font-medium text-gray-700\"\n      }, field.name.charAt(0).toUpperCase() + field.name.slice(1)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-1 relative\"\n      }, /*#__PURE__*/React.createElement(field.icon, {\n        className: \"absolute top-3 left-3 text-gray-400\"\n      }), /*#__PURE__*/React.createElement(\"input\", _extends({}, field, {\n        required: true,\n        value: formData[field.name],\n        onChange: function (e) {\n          return setFormData(function (prev) {\n            var _objectSpread2;\n            return _objectSpread(_objectSpread({}, prev), {}, (_objectSpread2 = {}, _objectSpread2[e.target.name] = e.target.value, _objectSpread2));\n          });\n        },\n        className: \"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500\"\n      }))));\n    })), /*#__PURE__*/React.createElement(motion.button, {\n      whileHover: {\n        scale: 1.02\n      },\n      whileTap: {\n        scale: 0.98\n      },\n      type: \"submit\",\n      disabled: loading,\n      className: \"w-full py-3 px-4 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 transition-colors\"\n    }, loading ? 'Creating Account...' : 'Create Account'))));\n  };\n  _s(RegistrationPage, \"fH7r+AjIZkvWjag6Zube6/X3748=\", false, function () {\n    return [useNavigate];\n  });\n  _c = RegistrationPage;\n  var _c;\n  $RefreshReg$(_c, \"RegistrationPage\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Welcome.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/Welcome.jsx                                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  module1.export({\n    WelcomePage: function () {\n      return WelcomePage;\n    }\n  });\n  var React;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    }\n  }, 0);\n  var useNavigate;\n  module1.link(\"react-router-dom\", {\n    useNavigate: function (v) {\n      useNavigate = v;\n    }\n  }, 1);\n  var FiLogIn, FiUserPlus;\n  module1.link(\"react-icons/fi\", {\n    FiLogIn: function (v) {\n      FiLogIn = v;\n    },\n    FiUserPlus: function (v) {\n      FiUserPlus = v;\n    }\n  }, 2);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  var WelcomePage = function () {\n    _s();\n    var navigate = useNavigate();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"min-h-screen flex items-center justify-center p-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"max-w-md w-full space-y-8\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\"\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600\"\n    }, \"MieSecure\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-4 text-gray-600\"\n    }, \"Your secure mobile companion\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-12 space-y-4\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function () {\n        return navigate('/login');\n      },\n      className: \"group relative w-full flex justify-center items-center px-4 py-3 border border-transparent text-lg font-medium rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition hover:scale-105\"\n    }, /*#__PURE__*/React.createElement(FiLogIn, {\n      className: \"mr-2\"\n    }), \" Sign In\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function () {\n        return navigate('/register');\n      },\n      className: \"group relative w-full flex justify-center items-center px-4 py-3 border-2 border-blue-600 text-lg font-medium rounded-xl text-blue-600 bg-transparent hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition hover:scale-105\"\n    }, /*#__PURE__*/React.createElement(FiUserPlus, {\n      className: \"mr-2\"\n    }), \" Create Account\"))));\n  };\n  _s(WelcomePage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n    return [useNavigate];\n  });\n  _c = WelcomePage;\n  var _c;\n  $RefreshReg$(_c, \"WelcomePage\");\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"api\":{\"deviceLogs.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/api/deviceLogs.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var _regeneratorRuntime;\n  module1.link(\"@babel/runtime/regenerator\", {\n    default: function (v) {\n      _regeneratorRuntime = v;\n    }\n  }, 0);\n  module1.export({\n    DeviceLogs: function () {\n      return DeviceLogs;\n    }\n  });\n  var Mongo;\n  module1.link(\"meteor/mongo\", {\n    Mongo: function (v) {\n      Mongo = v;\n    }\n  }, 0);\n  var check;\n  module1.link(\"meteor/check\", {\n    check: function (v) {\n      check = v;\n    }\n  }, 1);\n  var SHA256;\n  module1.link(\"meteor/sha\", {\n    SHA256: function (v) {\n      SHA256 = v;\n    }\n  }, 2);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var DeviceLogs = new Mongo.Collection('deviceLogs');\n  // Add generateAppId utility function\n  var generateAppId = function (deviceUUID, email, creationTime) {\n    var combinedString = deviceUUID + \":\" + email + \":\" + creationTime;\n    return SHA256(combinedString).substring(0, 32);\n  };\n\n  // Create indexes for better query performance\n  if (Meteor.isServer) {\n    Meteor.startup(function () {\n      DeviceLogs.createIndex({\n        userId: 1\n      });\n      DeviceLogs.createIndex({\n        deviceUUID: 1\n      });\n      DeviceLogs.createIndex({\n        email: 1\n      });\n      DeviceLogs.createIndex({\n        appId: 1\n      });\n    });\n  }\n\n  // Define methods for DeviceLogs\n  Meteor.methods({\n    'deviceLogs.upsert': function () {\n      function _callee(data) {\n        var creationTime, appId;\n        return _regeneratorRuntime.async(function () {\n          function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                check(data, {\n                  userId: String,\n                  email: String,\n                  deviceUUID: String,\n                  fcmToken: String,\n                  deviceInfo: Object\n                });\n                creationTime = new Date().toISOString();\n                appId = generateAppId(data.deviceUUID, data.email, creationTime);\n                console.log('Generated appId during upsert:', appId); // Add this log\n                return _context.abrupt(\"return\", DeviceLogs.upsertAsync({\n                  userId: data.userId,\n                  deviceUUID: data.deviceUUID\n                }, {\n                  $set: {\n                    email: data.email,\n                    fcmToken: data.fcmToken,\n                    appId: appId,\n                    lastUpdated: new Date()\n                  },\n                  $setOnInsert: {\n                    createdAt: new Date()\n                  }\n                }));\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n          return _callee$;\n        }(), null, null, null, Promise);\n      }\n      return _callee;\n    }(),\n    'deviceLogs.updateToken': function (userId, deviceUUID, fcmToken) {\n      check(userId, String);\n      check(deviceUUID, String);\n      check(fcmToken, String);\n      return DeviceLogs.updateAsync({\n        userId: userId,\n        deviceUUID: deviceUUID\n      }, {\n        $set: {\n          fcmToken: fcmToken,\n          lastUpdated: new Date()\n        }\n      });\n    },\n    'deviceLogs.getFCMTokenByAppId': function () {\n      function _callee2(appId) {\n        var deviceLog;\n        return _regeneratorRuntime.async(function () {\n          function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                check(appId, String);\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(DeviceLogs.findOneAsync({\n                  appId: appId\n                }));\n              case 3:\n                deviceLog = _context2.sent;\n                if (deviceLog) {\n                  _context2.next = 6;\n                  break;\n                }\n                throw new Meteor.Error('invalid-app-id', 'No device found with this App ID');\n              case 6:\n                return _context2.abrupt(\"return\", deviceLog.fcmToken);\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n          return _callee2$;\n        }(), null, null, null, Promise);\n      }\n      return _callee2;\n    }(),\n    'deviceLogs.getFCMTokenByDeviceId': function () {\n      function _callee3(deviceUUID) {\n        var deviceLog;\n        return _regeneratorRuntime.async(function () {\n          function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                check(deviceUUID, String);\n                _context3.next = 3;\n                return _regeneratorRuntime.awrap(DeviceLogs.findOneAsync({\n                  deviceUUID: deviceUUID\n                }));\n              case 3:\n                deviceLog = _context3.sent;\n                if (deviceLog) {\n                  _context3.next = 6;\n                  break;\n                }\n                throw new Meteor.Error('invalid-app-id', 'No device found with this Device ID');\n              case 6:\n                return _context3.abrupt(\"return\", deviceLog.fcmToken);\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n          return _callee3$;\n        }(), null, null, null, Promise);\n      }\n      return _callee3;\n    }(),\n    // Also fix the debug method\n    'deviceLogs.getByAppId': function () {\n      function _callee4(appId) {\n        var result;\n        return _regeneratorRuntime.async(function () {\n          function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                check(appId, String);\n                _context4.next = 3;\n                return _regeneratorRuntime.awrap(DeviceLogs.findOneAsync({\n                  appId: appId\n                }));\n              case 3:\n                result = _context4.sent;\n                console.log('Looking for appId:', appId);\n                console.log('Found device log:', result);\n                return _context4.abrupt(\"return\", result);\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n          return _callee4$;\n        }(), null, null, null, Promise);\n      }\n      return _callee4;\n    }()\n  });\n\n  // Publish device logs\n  if (Meteor.isServer) {\n    Meteor.publish('deviceLogs.byUser', function (userId) {\n      check(userId, String);\n      return DeviceLogs.find({\n        userId: userId\n      });\n    });\n    Meteor.publish('deviceLogs.byDevice', function (deviceUUID) {\n      check(deviceUUID, String);\n      return DeviceLogs.find({\n        deviceUUID: deviceUUID\n      });\n    });\n  }\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"utils\":{\"constants.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// utils/constants.js                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  module1.export({\n    PAGE_SIZE: function () {\n      return PAGE_SIZE;\n    }\n  });\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var PAGE_SIZE = 5;\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"utils.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// utils/utils.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  module1.export({\n    formatDateTime: function () {\n      return formatDateTime;\n    }\n  });\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var formatDateTime = function (isoString) {\n    if (!isoString) return \"\";\n    var date = new Date(isoString);\n\n    // Extracting date in YYYY-MM-DD format\n    var formattedDate = date.toISOString().split(\"T\")[0];\n\n    // Extracting time in HH:MM format\n    var formattedTime = date.toLocaleTimeString(\"en-US\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true\n    });\n    return formattedDate + \" \" + formattedTime;\n  };\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"client\":{\"main.css\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.css                                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n// These styles have already been applied to the document.\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.jsx                                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  var React, useEffect;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    useEffect: function (v) {\n      useEffect = v;\n    }\n  }, 0);\n  var createRoot;\n  module1.link(\"react-dom/client\", {\n    createRoot: function (v) {\n      createRoot = v;\n    }\n  }, 1);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 2);\n  module1.link(\"./main.css\");\n  module1.link(\"../imports/api/deviceLogs\");\n  var App;\n  module1.link(\"../imports/ui/App\", {\n    App: function (v) {\n      App = v;\n    }\n  }, 3);\n  var Session;\n  module1.link(\"meteor/session\", {\n    Session: function (v) {\n      Session = v;\n    }\n  }, 4);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var sendUserAction = function (appId, action) {\n    console.log(\"Sending user action: \" + action + \" for appId: \" + appId);\n    Meteor.call('notifications.handleResponse', appId, action, function (error, result) {\n      if (error) {\n        console.error('Error sending notification response:', error);\n      } else {\n        console.log('Server processed action:', result);\n      }\n    });\n  };\n  Meteor.startup(function () {\n    var container = document.getElementById('react-target');\n    var root = createRoot(container);\n    if (Meteor.isCordova) {\n      if (device.cordova) {\n        Session.set('capturedDeviceInfo', {\n          model: device.model,\n          platform: device.platform,\n          uuid: device.uuid,\n          version: device.version,\n          manufacturer: device.manufacturer\n        });\n      }\n    }\n    if (Meteor.isCordova) {\n      document.addEventListener('deviceready', function () {\n        console.log(\"Cordova device is ready\");\n\n        // Create notification channel\n        PushNotification.createChannel(function () {\n          console.log('Channel created successfully');\n        }, function () {\n          console.error('Channel creation failed');\n        }, {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        });\n        var push = PushNotification.init({\n          android: {\n            forceShow: true,\n            clearNotifications: false,\n            icon: \"ic_launcher\",\n            iconColor: \"#4CAF50\",\n            actions: [{\n              id: 'approve',\n              title: 'Approve'\n            }, {\n              id: 'reject',\n              title: 'Reject'\n            }],\n            priority: \"high\",\n            sound: true,\n            vibrate: true,\n            channel: {\n              id: \"default\",\n              importance: \"high\",\n              sound: \"default\",\n              vibration: true\n            }\n          },\n          ios: {\n            alert: true,\n            badge: true,\n            sound: true,\n            priority: \"high\",\n            foreground: true\n          }\n        });\n        try {\n          // Handle registration\n          push.on('registration', function (data) {\n            console.log(\"Registration handler attached\");\n            console.log('Registration data:', data);\n            Session.set('deviceToken', data.registrationId);\n          });\n          push.on('notification', function (notification) {\n            console.log('Notification received:', notification);\n\n            // Handle cold start (app launched from notification)\n            if (notification.additionalData.coldstart) {\n              // Process action from cold start here\n              var action = notification.additionalData.action;\n              if (action) {\n                sendUserAction(notification.additionalData.appId, action);\n              }\n            }\n\n            // Handle foreground/background processing\n            if (notification.additionalData.appId) {\n              Session.set('notificationReceivedId', {\n                appId: notification.additionalData.appId,\n                status: \"pending\"\n              });\n            }\n          });\n          push.on('reject', function (notification) {\n            if (notification.additionalData) {\n              var appId = notification.additionalData.appId;\n              if (Session.get(\"userProfile\")) {\n                sendUserAction(appId, 'reject');\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"rejected\"\n                });\n              } else {\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"pending\"\n                });\n              }\n            }\n          });\n          push.on('approve', function (notification) {\n            if (notification.additionalData) {\n              var appId = notification.additionalData.appId;\n              if (Session.get(\"userProfile\")) {\n                sendUserAction(appId, 'approve');\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"approved\"\n                });\n              } else {\n                Session.set('notificationReceivedId', {\n                  appId: appId,\n                  status: \"pending\"\n                });\n              }\n            }\n          });\n\n          // Handle errors\n          push.on('error', function (error) {\n            console.log(\"Error handler attached\");\n            console.error('Push notification error:', error);\n          });\n          console.log(\"All handlers attached successfully\");\n        } catch (error) {\n          console.error(\"Error attaching push notification handlers:\", error);\n        }\n      }, false);\n    }\n    root.render(/*#__PURE__*/React.createElement(App, null));\n  });\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".ts\",\n    \".css\",\n    \".mjs\",\n    \".jsx\"\n  ]\n});\n\nrequire(\"/client/main.jsx\");","hash":"2064dab73664f2b77fdae6c29a157feb881b47c6","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/ui/Modal/ActionsModal.jsx","imports/ui/Modal/ResultModal.jsx","imports/ui/Pagination/Pagination.jsx","imports/ui/Toasters/SuccessToaster.jsx","imports/ui/App.jsx","imports/ui/LandingPage.jsx","imports/ui/Login.jsx","imports/ui/Registration.jsx","imports/ui/Welcome.jsx","imports/api/deviceLogs.js","utils/constants.js","utils/utils.js","client/main.jsx"],"names":["ActionsModal","_ref","isOpen","onApprove","onReject","onClose","React","createElement","className","onClick","_c","$RefreshReg$","call","module","ResultModal","_s","useEffect","timer","setTimeout","clearTimeout","CheckCircle","Pagination","currentPage","totalPages","onPageChange","handlePrev","handleNext","disabled","SuccessToaster","message","AnimatePresence","motion","div","initial","x","animate","exit","transition","duration","ease","App","_useState","useState","_useState2","_slicedToArray","capturedDeviceUuid","setCapturedDeviceUuid","_useState3","_useState4","boolRegisteredDevice","setBoolRegisteredDevice","_useState5","_useState6","isLoading","setIsLoading","console","log","sessionTracker","Tracker","autorun","deviceInfo","Session","get","uuid","subscriber","Meteor","subscribe","onStop","error","onReady","storedDeviceInfo","DeviceLogs","find","deviceUUID","fetch","JSON","stringify","length","stop","Router","Routes","Route","path","element","Navigate","to","replace","LoginPage","deviceDetails","RegistrationPage","LandingPage","WelcomePage","userProfile","capturedDeviceInfo","notificationHistory","setNotificationHistory","successMessage","setSuccessMessage","firstName","lastName","email","profile","setProfile","_useState7","_useState8","isEditing","setIsEditing","_useState9","_useState10","filter","setFilter","_useState11","_useState12","searchTerm","setSearchTerm","_useState13","_useState14","hasFetchedData","setHasFetchedData","_useState15","_useState16","isSaving","setIsSaving","_useState17","_useState18","isActionsModalOpen","setIsActionsModalOpen","_useState19","_useState20","isResultModalOpen","setIsResultModalOpen","_useState21","_useState22","notificationId","setNotificationId","_useState23","_useState24","setCurrentPage","_useState25","model","platform","_useState26","setDeviceInfo","_useState27","_useState28","isDarkMode","setIsDarkMode","tracker","_callee","newNotification","notfId","_regeneratorRuntime","async","_callee$","_context","prev","next","appId","abrupt","status","awrap","getNotificationId","sent","handleStatusUpdate","fetchNotificationHistory","warn","t0","Promise","darkModePreference","localStorage","getItem","document","documentElement","classList","add","remove","_callee2","_callee2$","_context2","callAsync","userId","_callee3","id","newStatus","_callee3$","_context3","result","toggleDarkMode","newMode","setItem","_callee4","response","_callee4$","_context4","isMounted","fetchUserDetails","_callee5","_callee5$","_context5","handleProfileUpdate","_callee6","_callee6$","_context6","alert","set","_objectSpread","finish","handleLogout","logout","clear","window","location","href","renderProfileSection","type","value","onChange","e","target","placeholder","Edit","Mail","sendUserAction","action","handleCloseResultModal","handleCloseActionModal","handleApprove","_callee7","_callee7$","_context7","handleReject","_callee8","_callee8$","_context8","filteredNotifications","notification","_notification$message","_notification$title","matchesFilter","normalizedSearchTerm","toLowerCase","trim","matchesSearch","includes","title","Math","ceil","PAGE_SIZE","paginatedNotifications","reverse","slice","handlePageChange","newPage","today","Date","toISOString","split","todayCount","createdAtDate","createdAt","String","Shield","Sun","Moon","LogOut","User","Fragment","Search","Filter","Clock","map","key","_id","formatDateTime","Smartphone","RotateCcw","setEmail","pin","setPin","setError","isLoggingIn","setIsLoggingIn","navigate","useNavigate","connectionCheck","setInterval","connected","clearInterval","handleLogin","preventDefault","resolve","reject","loginWithPassword","err","reason","onSubmit","htmlFor","FiMail","required","autoComplete","FiLock","maxLength","minLength","pattern","inputMode","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","formData","setFormData","loading","setLoading","handleSubmit","sessionDeviceInfo","fcmDeviceToken","inputFields","name","icon","FiUser","opacity","y","delay","h2","field","index","charAt","toUpperCase","_extends","_objectSpread2","button","whileHover","scale","whileTap","FiLogIn","FiUserPlus","Mongo","Collection","generateAppId","creationTime","combinedString","SHA256","substring","isServer","startup","createIndex","methods","data","check","fcmToken","Object","upsertAsync","$set","lastUpdated","$setOnInsert","deviceLogs.updateToken","updateAsync","deviceLog","findOneAsync","Error","publish","isoString","date","formattedDate","formattedTime","toLocaleTimeString","hour","minute","hour12","container","getElementById","root","createRoot","isCordova","device","cordova","version","manufacturer","addEventListener","PushNotification","createChannel","description","importance","vibration","sound","push","init","android","forceShow","clearNotifications","iconColor","actions","priority","vibrate","channel","ios","badge","foreground","on","registrationId","additionalData","coldstart","render"],"mappings":";;;;;;;;;;;;;;;;EAEA,IAAMA,YAAY,GAAG,SAAAA,CAAAC,IAAA,EAA8C;IAAA,IAA3CC,MAAM,GAAAD,IAAA,CAANC,MAAM;MAAEC,SAAS,GAAAF,IAAA,CAATE,SAAS;MAAEC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;MAAEC,OAAA,GAAAJ,IAAA,CAAAI,OAAA;IACnD,IAAI,CAACH,MAAM,EAAE,OAAO,IAAI;IAExB,oBACEI,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA4E,gBACzFF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAgD,gBAC7DF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAc,gBAC3BF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAA+B,GAAC,eAAiB,CAC5D,gBACLF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA0C,gBACvDF,KAAA,CAAAC,aAAA;MACEC,SAAS,EAAC,mEAAmE;MAC7EC,OAAO,EAAEN;IAAU,YAGb,gBACRG,KAAA,CAAAC,aAAA;MACEC,SAAS,EAAC,+DAA+D;MACzEC,OAAO,EAAEL;IAAS,WAGZ,CACL,gBACLE,KAAA,CAAAC,aAAA;MACEC,SAAS,EAAC,0DAA0D;MACpEC,OAAO,EAAEJ;IAAQ,WAGX,CACL,CACF,CAAC;EAEV,CAAC;EAACK,EAAA,GAhCIV,YAAY;wBAkCHA,Y;EAAa,IAAAU,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECjC5B,IAAMC,WAAW,GAAG,SAAAA,CAAAb,IAAA,EAAyB;IAAA,IAAtBC,MAAM,GAAAD,IAAA,CAANC,MAAM;MAAEG,OAAA,GAAAJ,IAAA,CAAAI,OAAA;IAAcU,EAAA;IAC3CC,SAAS,CAAC,YAAM;MACd,IAAId,MAAM,EAAE;QACV,IAAMe,KAAK,GAAGC,UAAU,CAAC,YAAM;UAC7Bb,OAAO,CAAC,CAAC;QACX,CAAC,EAAE,IAAI,CAAC;QACR,OAAO;UAAA,OAAMc,YAAY,CAACF,KAAK,CAAC;QAAA;MAClC;IACF,CAAC,EAAE,CAACf,MAAM,EAAEG,OAAO,CAAC,CAAC;IAErB,IAAI,CAACH,MAAM,EAAE,OAAO,IAAI;IAExB,oBACEI,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA4E,gBACzFF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAgE,gBAC7EF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA0B,gBACvCF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAsE,gBACnFF,KAAA,CAAAC,aAAA,CAACa,WAAW;MAACZ,SAAS,EAAC;IAA0B,EAC9C,CACF,gBACLF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAAsC,8CAEhD,gBACJF,KAAA,CAAAC,aAAA;MACEC,SAAS,EAAC,sEAAsE;MAChFC,OAAO,EAAEJ;IAAQ,UAGX,CACL,CACF,CAAC;EAEV,CAAC;EAACU,EAAA,CAhCID,WAAW;EAAAJ,EAAA,GAAXI,WAAW;wBAkCFA,W;EAAY,IAAAJ,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;ECnC3B,IAAMQ,UAAU,GAAG,SAAAA,CAAApB,IAAA,EAA+C;IAAA,IAA5CqB,WAAW,GAAArB,IAAA,CAAXqB,WAAW;MAAEC,UAAU,GAAAtB,IAAA,CAAVsB,UAAU;MAAEC,YAAA,GAAAvB,IAAA,CAAAuB,YAAA;IAC7C,IAAID,UAAU,IAAI,CAAC,EAAE,OAAO,IAAI;IAChC,IAAME,UAAU,GAAG,SAAAA,CAAA,EAAM;MACvB,IAAIH,WAAW,GAAG,CAAC,EAAEE,YAAY,CAACF,WAAW,GAAG,CAAC,CAAC;IACpD,CAAC;IAED,IAAMI,UAAU,GAAG,SAAAA,CAAA,EAAM;MACvB,IAAIJ,WAAW,GAAGC,UAAU,EAAEC,YAAY,CAACF,WAAW,GAAG,CAAC,CAAC;IAC7D,CAAC;IAED,oBACEhB,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA8C,gBAC3DF,KAAA,CAAAC,aAAA;MACEE,OAAO,EAAEgB,UAAW;MACpBE,QAAQ,EAAEL,WAAW,KAAK,CAAE;MAC5Bd,SAAS,EAAC;IAA2F,SAG/F,gBACRF,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAAyB,UAClC,EAACc,WAAW,EAAC,MAAI,EAACC,UACnB,gBACNjB,KAAA,CAAAC,aAAA;MACEE,OAAO,EAAEiB,UAAW;MACpBC,QAAQ,EAAEL,WAAW,KAAKC,UAAW;MACrCf,SAAS,EAAC;IAA2F,SAG/F,CACL,CAAC;EAEV,CAAC;EAACE,EAAA,GA/BIW,UAAU;wBAiCDA,U;EAAW,IAAAX,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EChC1B,IAAMe,cAAc,GAAG,SAAAA,CAAA3B,IAAA,EAA0B;IAAA,IAAvB4B,OAAO,GAAA5B,IAAA,CAAP4B,OAAO;MAAExB,OAAA,GAAAJ,IAAA,CAAAI,OAAA;IAAcU,EAAA;IAC/CC,SAAS,CAAC,YAAM;MACd,IAAMC,KAAK,GAAGC,UAAU,CAAC,YAAM;QAC7Bb,OAAO,CAAC,CAAC;MACX,CAAC,EAAE,IAAI,CAAC;MACR,OAAO;QAAA,OAAMc,YAAY,CAACF,KAAK,CAAC;MAAA;IAClC,CAAC,EAAE,CAACZ,OAAO,CAAC,CAAC;IAEb,oBACEC,KAAA,CAAAC,aAAA,CAACuB,eAAe,QACbD,OAAO,iBACNvB,KAAA,CAAAC,aAAA,CAACwB,MAAM,CAACC,GAAG;MACTC,OAAO,EAAE;QAAEC,CAAC,EAAE;MAAO,CAAE;MACvBC,OAAO,EAAE;QAAED,CAAC,EAAE;MAAE,CAAE;MAClBE,IAAI,EAAE;QAAEF,CAAC,EAAE;MAAO,CAAE;MACpBG,UAAU,EAAE;QAAEC,QAAQ,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAY,CAAE;MACjD/B,SAAS,EAAC;IAAyE,GAElFqB,OACS,CAEC,CAAC;EAEtB,CAAC;EAACd,EAAA,CAvBIa,cAAc;EAAAlB,EAAA,GAAdkB,cAAc;wBAyBLA,c;EAAe,IAAAlB,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECjBvB,IAAM2B,GAAG,GAAG,SAAAA,CAAA,EAAM;IAAAzB,EAAA;IAEvB,IAAA0B,SAAA,GAAoDC,QAAQ,CAAC,IAAI,CAAC;MAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;MAA3DI,kBAAkB,GAAAF,UAAA;MAAEG,qBAAqB,GAAAH,UAAA;IAChD,IAAAI,UAAA,GAAwDL,QAAQ,CAAC,IAAI,CAAC;MAAAM,UAAA,GAAAJ,cAAA,CAAAG,UAAA;MAA/DE,oBAAoB,GAAAD,UAAA;MAAEE,uBAAuB,GAAAF,UAAA;IACpD,IAAAG,UAAA,GAAkCT,QAAQ,CAAC,IAAI,CAAC;MAAAU,UAAA,GAAAR,cAAA,CAAAO,UAAA;MAAzCE,SAAS,GAAAD,UAAA;MAAEE,YAAY,GAAAF,UAAA;IAE9BpC,SAAS,CAAC,YAAM;MACduC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;;MAE5C;MACA,IAAMC,cAAc,GAAGC,OAAO,CAACC,OAAO,CAAC,YAAM;QAC3C,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;QACpDP,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEI,UAAU,CAAC;QAE9C,IAAI,CAACA,UAAU,IAAI,CAACA,UAAU,CAACG,IAAI,EAAE;UACnCR,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;UAC9CV,qBAAqB,CAAC,IAAI,CAAC;UAC3BI,uBAAuB,CAAC,KAAK,CAAC;UAC9BI,YAAY,CAAC,KAAK,CAAC;UACnB;QACF;QAEAR,qBAAqB,CAACc,UAAU,CAACG,IAAI,CAAC;;QAEtC;QACA,IAAMC,UAAU,GAAGC,MAAM,CAACC,SAAS,CAAC,qBAAqB,EAAEN,UAAU,CAACG,IAAI,EAAE;UAC1EI,MAAM,EAAG,SAAAA,CAAAC,KAAK,EAAK;YACjB,IAAIA,KAAK,EAAE;cACTb,OAAO,CAACa,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;YAC7C;UACF,CAAC;UACDC,OAAO,EAAE,SAAAA,CAAA,EAAM;YACbd,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;YACpC;YACA,IAAMc,gBAAgB,GAAGC,UAAU,CAACC,IAAI,CAAC;cACvCC,UAAU,EAAEb,UAAU,CAACG;YACzB,CAAC,CAAC,CAACW,KAAK,CAAC,CAAC;YAEVnB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEmB,IAAI,CAACC,SAAS,CAAC;cAACN,gBAAA,EAAAA;YAAgB,CAAC,CAAC,CAAC;YACvEpB,uBAAuB,CAACoB,gBAAgB,CAACO,MAAM,GAAG,CAAC,CAAC;YACpDvB,YAAY,CAAC,KAAK,CAAC;UACrB;QACF,CAAC,CAAC;;QAEF;QACA,OAAO,YAAM;UACXC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;UAC1C,IAAIQ,UAAU,EAAE;YACdA,UAAU,CAACc,IAAI,CAAC,CAAC;UACnB;QACF,CAAC;MACH,CAAC,CAAC;;MAEF;MACA,OAAO,YAAM;QACXvB,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;QAC7CC,cAAc,CAACqB,IAAI,CAAC,CAAC;MACvB,CAAC;IACH,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;IAER;IACA9D,SAAS,CAAC,YAAM;MACduC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE;QAC5BX,kBAAkB,EAAlBA,kBAAkB;QAClBI,oBAAoB,EAApBA,oBAAoB;QACpBI,SAAA,EAAAA;MACF,CAAC,CAAC;IACJ,CAAC,EAAE,CAACR,kBAAkB,EAAEI,oBAAoB,EAAEI,SAAS,CAAC,CAAC;;IAGzD;IACA,IAAIA,SAAS,EAAE;MACb,oBACE/C,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAoG,gBACjHF,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAgE,CAAM,gBACrFF,KAAA,CAAAC,aAAA;QAAGC,SAAS,EAAC;MAA0C,oCAEpD,CACA,CAAC;IAEV;;IAEA;IACA,oBACEF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA0D,gBACvEF,KAAA,CAAAC,aAAA,CAACwE,MAAM,qBACLzE,KAAA,CAAAC,aAAA,CAACyE,MAAM,qBACL1E,KAAA,CAAAC,aAAA,CAAC0E,KAAK;MACJC,IAAI,EAAC,GAAG;MACRC,OAAO,EACLlC,oBAAoB,gBAClB3C,KAAA,CAAAC,aAAA,CAAC6E,QAAQ;QAACC,EAAE,EAAC,QAAQ;QAACC,OAAO;MAAA,EAAG,gBAEhChF,KAAA,CAAAC,aAAA,CAAC6E,QAAQ;QAACC,EAAE,EAAC,WAAW;QAACC,OAAO;MAAA;IAEnC,iBAEHhF,KAAA,CAAAC,aAAA,CAAC0E,KAAK;MACJC,IAAI,EAAC,QAAQ;MACbC,OAAO,eAAE7E,KAAA,CAAAC,aAAA,CAACgF,SAAS;QAACC,aAAa,EAAE3C;MAAmB;IAAI,iBAE5DvC,KAAA,CAAAC,aAAA,CAAC0E,KAAK;MACJC,IAAI,EAAC,WAAW;MAChBC,OAAO,eAAE7E,KAAA,CAAAC,aAAA,CAACkF,gBAAgB;QAACD,aAAa,EAAE3C;MAAmB;IAAI,iBAEnEvC,KAAA,CAAAC,aAAA,CAAC0E,KAAK;MACJC,IAAI,EAAC,YAAY;MACjBC,OAAO,eAAE7E,KAAA,CAAAC,aAAA,CAACmF,WAAW;QAACF,aAAa,EAAE3C;MAAmB;IAAI,iBAE9DvC,KAAA,CAAAC,aAAA,CAAC0E,KAAK;MACJC,IAAI,EAAC,UAAU;MACfC,OAAO,eAAE7E,KAAA,CAAAC,aAAA,CAACoF,WAAW;QAACH,aAAa,EAAE3C;MAAmB;IAAI,EAExD,CACF,CACL,CAAC;EAEV,CAAC;EAAC9B,EAAA,CArHWyB,GAAG;EAAA9B,EAAA,GAAH8B,GAAG;EAAA,IAAA9B,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECiBT,IAAM6E,WAAW,GAAG,SAAAA,CAAA,EAAM;IAAA3E,EAAA;IAC/B,IAAM6E,WAAW,GAAG/B,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACpD,IAAM+B,kBAAkB,GAAGhC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;IAClE,IAAArB,SAAA,GAAsDC,QAAQ,CAAC,EAAE,CAAC;MAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;MAA3DqD,mBAAmB,GAAAnD,UAAA;MAAEoD,sBAAsB,GAAApD,UAAA;IAClD,IAAAI,UAAA,GAA4CL,QAAQ,CAAC,EAAE,CAAC;MAAAM,UAAA,GAAAJ,cAAA,CAAAG,UAAA;MAAjDiD,cAAc,GAAAhD,UAAA;MAAEiD,iBAAiB,GAAAjD,UAAA;IAExC,IAAAG,UAAA,GAA8BT,QAAQ,CAAC;QACrCwD,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAER,WAAW,CAACQ,KAAK,IAAI;MAC9B,CAAC,CAAC;MAAAhD,UAAA,GAAAR,cAAA,CAAAO,UAAA;MAJKkD,OAAO,GAAAjD,UAAA;MAAEkD,UAAU,GAAAlD,UAAA;IAK1B,IAAAmD,UAAA,GAAkC7D,QAAQ,CAAC,KAAK,CAAC;MAAA8D,UAAA,GAAA5D,cAAA,CAAA2D,UAAA;MAA1CE,SAAS,GAAAD,UAAA;MAAEE,YAAY,GAAAF,UAAA;IAC9B,IAAAG,UAAA,GAA4BjE,QAAQ,CAAC,KAAK,CAAC;MAAAkE,WAAA,GAAAhE,cAAA,CAAA+D,UAAA;MAApCE,MAAM,GAAAD,WAAA;MAAEE,SAAS,GAAAF,WAAA;IACxB,IAAAG,WAAA,GAAoCrE,QAAQ,CAAC,EAAE,CAAC;MAAAsE,WAAA,GAAApE,cAAA,CAAAmE,WAAA;MAAzCE,UAAU,GAAAD,WAAA;MAAEE,aAAa,GAAAF,WAAA;IAChC,IAAAG,WAAA,GAA4CzE,QAAQ,CAAC,KAAK,CAAC;MAAA0E,WAAA,GAAAxE,cAAA,CAAAuE,WAAA;MAApDE,cAAc,GAAAD,WAAA;MAAEE,iBAAiB,GAAAF,WAAA;IACxC,IAAAG,WAAA,GAAgC7E,QAAQ,CAAC,KAAK,CAAC;MAAA8E,WAAA,GAAA5E,cAAA,CAAA2E,WAAA;MAAxCE,QAAQ,GAAAD,WAAA;MAAEE,WAAW,GAAAF,WAAA;IAC5B,IAAAG,WAAA,GAAoDjF,QAAQ,CAAC,KAAK,CAAC;MAAAkF,WAAA,GAAAhF,cAAA,CAAA+E,WAAA;MAA5DE,kBAAkB,GAAAD,WAAA;MAAEE,qBAAqB,GAAAF,WAAA;IAChD,IAAAG,WAAA,GAAkDrF,QAAQ,CAAC,KAAK,CAAC;MAAAsF,WAAA,GAAApF,cAAA,CAAAmF,WAAA;MAA1DE,iBAAiB,GAAAD,WAAA;MAAEE,oBAAoB,GAAAF,WAAA;IAC9C,IAAAG,WAAA,GAA4CzF,QAAQ,CAAC,IAAI,CAAC;MAAA0F,WAAA,GAAAxF,cAAA,CAAAuF,WAAA;MAAnDE,cAAc,GAAAD,WAAA;MAAEE,iBAAiB,GAAAF,WAAA;IACxC,IAAAG,WAAA,GAAsC7F,QAAQ,CAAC,CAAC,CAAC;MAAA8F,WAAA,GAAA5F,cAAA,CAAA2F,WAAA;MAA1CjH,WAAW,GAAAkH,WAAA;MAAEC,cAAc,GAAAD,WAAA;IAElC,IAAAE,WAAA,GAAoChG,QAAQ,CAAC;QAC3CiG,KAAK,EAAE9C,kBAAkB,CAAC8C,KAAK,IAAI,EAAE;QACrCC,QAAQ,EAAE/C,kBAAkB,CAAC+C,QAAQ,IAAI;MAC3C,CAAC,CAAC;MAAAC,WAAA,GAAAjG,cAAA,CAAA8F,WAAA;MAHK9E,UAAU,GAAAiF,WAAA;MAAEC,aAAa,GAAAD,WAAA;IAKhC,IAAAE,WAAA,GAAoCrG,QAAQ,CAAC,KAAK,CAAC;MAAAsG,WAAA,GAAApG,cAAA,CAAAmG,WAAA;MAA5CE,UAAU,GAAAD,WAAA;MAAEE,aAAa,GAAAF,WAAA;IAEhChI,SAAS,CAAC,YAAM;MACduC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MAEnC,IAAM2F,OAAO,GAAGzF,OAAO,CAACC,OAAO;QAAC,SAAAyF,QAAA;UAAA,IAAAC,eAAA,EAAAC,MAAA;UAAA,OAAAC,mBAAA,CAAAC,KAAA;YAAA,SAAAC,SAAAC,QAAA;cAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;kBACxBP,eAAe,GAAGxF,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;kBAE7DP,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE6F,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEQ,KAAK,CAAC;kBAAA,IAE1DR,eAAe;oBAAAK,QAAA,CAAAE,IAAA;oBAAA;kBAAA;kBAAA,OAAAF,QAAA,CAAAI,MAAA;gBAAA;kBAEpBxB,iBAAiB,CAACe,eAAe,CAACQ,KAAK,CAAC;kBAAA,MAEpCR,eAAe,CAACU,MAAM,KAAK,SAAS;oBAAAL,QAAA,CAAAE,IAAA;oBAAA;kBAAA;kBACtC9B,qBAAqB,CAAC,IAAI,CAAC;kBAAA4B,QAAA,CAAAE,IAAA;kBAAA;gBAAA;kBAAAF,QAAA,CAAAC,IAAA;kBAAAD,QAAA,CAAAE,IAAA;kBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAGJC,iBAAiB,CAAC,CAAC;gBAAA;kBAAlCX,MAAM,GAAAI,QAAA,CAAAQ,IAAA;kBAAA,KACRZ,MAAM;oBAAAI,QAAA,CAAAE,IAAA;oBAAA;kBAAA;kBACRrG,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAE8F,MAAM,CAAC;kBAAAI,QAAA,CAAAE,IAAA;kBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAC1CG,kBAAkB,CAACb,MAAM,EAAED,eAAe,CAACU,MAAM,CAAC;gBAAA;kBACxDK,wBAAwB,CAAC,CAAC;kBAAAV,QAAA,CAAAE,IAAA;kBAAA;gBAAA;kBAE1BrG,OAAO,CAAC8G,IAAI,CAAC,2BAA2B,CAAC;gBAAA;kBAAAX,QAAA,CAAAE,IAAA;kBAAA;gBAAA;kBAAAF,QAAA,CAAAC,IAAA;kBAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;kBAG3CnG,OAAO,CAACa,KAAK,CAAC,iCAAiC,EAAAsF,QAAA,CAAAY,EAAO,CAAC;gBAAA;gBAAA;kBAAA,OAAAZ,QAAA,CAAA5E,IAAA;cAAA;YAAA;YAAA,OAAA2E,QAAA;UAAA,4BAAAc,OAAA;QAAA;QAG5D,OAAAnB,OAAA;MAAA,IAAC;MAEF,OAAO,YAAM;QACX7F,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QAC/B2F,OAAO,CAACrE,IAAI,CAAC,CAAC;MAChB,CAAC;IACH,CAAC,EAAE,EAAE,CAAC;;IAEN;IACA9D,SAAS,CAAC,YAAM;MACd,IAAMwJ,kBAAkB,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,MAAM;MACtExB,aAAa,CAACsB,kBAAkB,CAAC;MACjC,IAAIA,kBAAkB,EAAE;QACtBG,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;MAChD,CAAC,MAAM;QACLH,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;MACnD;IACF,CAAC,EAAE,EAAE,CAAC;IAEN,IAAMd,iBAAiB;MAAG,SAAAe,SAAA;QAAA,IAAA3C,cAAA;QAAA,OAAAkB,mBAAA,CAAAC,KAAA;UAAA,SAAAyB,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAvB,IAAA,GAAAuB,SAAA,CAAAtB,IAAA;cAAA;gBAAAsB,SAAA,CAAAtB,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CACK/F,MAAM,CAACkH,SAAS,CAC3C,qCAAqC,EACrClH,MAAM,CAACmH,MAAM,CAAC,CAChB,CAAC;cAAA;gBAHK/C,cAAc,GAAA6C,SAAA,CAAAhB,IAAA;gBAAA,OAAAgB,SAAA,CAAApB,MAAA,WAIbzB,cAAc;cAAA;cAAA;gBAAA,OAAA6C,SAAA,CAAApG,IAAA;YAAA;UAAA;UAAA,OAAAmG,SAAA;QAAA,uBAAAV,OAAA;MAAA;MACtB,OAAAS,QAAA;IAAA;IAED,IAAMb,kBAAkB;MAAG,SAAAkB,SAAOC,EAAE,EAAEC,SAAS;QAAA,OAAAhC,mBAAA,CAAAC,KAAA;UAAA,SAAAgC,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAA9B,IAAA,GAAA8B,SAAA,CAAA7B,IAAA;cAAA;gBAAA,IACxC0B,EAAE;kBAAAG,SAAA,CAAA7B,IAAA;kBAAA;gBAAA;gBAAA,OAAA6B,SAAA,CAAA3B,MAAA;cAAA;gBAAA2B,SAAA,CAAA7B,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAID/F,MAAM,CAACrD,IAAI,CACf,kCAAkC,EAClC0K,EAAE,EACFC,SAAS,EACT,UAACnH,KAAK,EAAEsH,MAAM,EAAK;kBACjB,IAAItH,KAAK,EAAE;oBACTb,OAAO,CAACa,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;kBAChD,CAAC,MAAM;oBACLb,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;kBAC7C;gBACF,CACF,CAAC;cAAA;cAAA;gBAAA,OAAAiI,SAAA,CAAA3G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA;QAAA,uBAAAjB,OAAA;MAAA;MACF,OAAAc,QAAA;IAAA;IAED,IAAMM,cAAc,GAAG,SAAAA,CAAA,EAAM;MAC3B,IAAMC,OAAO,GAAG,CAAC3C,UAAU;MAC3BC,aAAa,CAAC0C,OAAO,CAAC;MACtBnB,YAAY,CAACoB,OAAO,CAAC,UAAU,EAAED,OAAO,CAAC;MACzC,IAAIA,OAAO,EAAE;QACXjB,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;MAChD,CAAC,MAAM;QACLH,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;MACnD;IACF,CAAC;IAED/J,SAAS,CAAC,YAAM;MACdoJ,wBAAwB,CAAC,CAAC;IAC5B,CAAC,EAAE,EAAE,CAAC;IAEN,IAAMA,wBAAwB;MAAG,SAAA0B,SAAA;QAAA,IAAAC,QAAA;QAAA,OAAAxC,mBAAA,CAAAC,KAAA;UAAA,SAAAwC,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAtC,IAAA,GAAAsC,SAAA,CAAArC,IAAA;cAAA;gBAAAqC,SAAA,CAAArC,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CACR/F,MAAM,CAACkH,SAAS,CACrC,+BAA+B,EAC/BlH,MAAM,CAACmH,MAAM,CAAC,CAChB,CAAC;cAAA;gBAHKW,QAAQ,GAAAE,SAAA,CAAA/B,IAAA;gBAIdnE,sBAAsB,CAACgG,QAAQ,CAAC;cAAA;cAAA;gBAAA,OAAAE,SAAA,CAAAnH,IAAA;YAAA;UAAA;UAAA,OAAAkH,SAAA;QAAA,uBAAAzB,OAAA;MAAA;MACjC,OAAAuB,QAAA;IAAA;;IAED;IACA9K,SAAS,CAAC,YAAM;MACd,IAAIkL,SAAS,GAAG,IAAI;MAEpB,IAAMC,gBAAgB;QAAG,SAAAC,SAAA;UAAA,IAAAV,MAAA;UAAA,OAAAnC,mBAAA,CAAAC,KAAA;YAAA,SAAA6C,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAA3C,IAAA,GAAA2C,SAAA,CAAA1C,IAAA;gBAAA;kBAAA,MACnB,CAACvC,cAAc,IAAIzB,WAAW,CAACQ,KAAK;oBAAAkG,SAAA,CAAA1C,IAAA;oBAAA;kBAAA;kBAAA0C,SAAA,CAAA3C,IAAA;kBAAA2C,SAAA,CAAA1C,IAAA;kBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAEf/F,MAAM,CAACkH,SAAS,CACnC,gBAAgB,EAChBvF,WAAW,CAACQ,KACd,CAAC;gBAAA;kBAHKsF,MAAM,GAAAY,SAAA,CAAApC,IAAA;kBAIZ,IAAIgC,SAAS,EAAE;oBACb5F,UAAU,CAAC;sBACTJ,SAAS,EAAEwF,MAAM,CAACxF,SAAS,IAAI,EAAE;sBACjCC,QAAQ,EAAEuF,MAAM,CAACvF,QAAQ,IAAI,EAAE;sBAC/BC,KAAK,EAAEsF,MAAM,CAACtF,KAAK,IAAI;oBACzB,CAAC,CAAC;oBACFkB,iBAAiB,CAAC,IAAI,CAAC;kBACzB;kBAAAgF,SAAA,CAAA1C,IAAA;kBAAA;gBAAA;kBAAA0C,SAAA,CAAA3C,IAAA;kBAAA2C,SAAA,CAAAhC,EAAA,GAAAgC,SAAA;kBAEA/I,OAAO,CAACa,KAAK,CAAC,8BAA8B,EAAAkI,SAAA,CAAAhC,EAAK,CAAC;gBAAA;gBAAA;kBAAA,OAAAgC,SAAA,CAAAxH,IAAA;cAAA;YAAA;YAAA,OAAAuH,SAAA;UAAA,2BAAA9B,OAAA;QAAA;QAGvD,OAAA6B,QAAA;MAAA;MAEDD,gBAAgB,CAAC,CAAC;MAElB,IAAItG,kBAAkB,EAAE;QACtBiD,aAAa,CAAC;UACZH,KAAK,EAAE9C,kBAAkB,CAAC8C,KAAK,IAAI,EAAE;UACrCC,QAAQ,EAAE/C,kBAAkB,CAAC+C,QAAQ,IAAI;QAC3C,CAAC,CAAC;MACJ;MAEA,OAAO,YAAM;QACXsD,SAAS,GAAG,KAAK;MACnB,CAAC;IACH,CAAC,EAAE,CAACtG,WAAW,CAACQ,KAAK,EAAEiB,cAAc,CAAC,CAAC;;IAEvC;IACA,IAAMkF,mBAAmB;MAAG,SAAAC,SAAA;QAAA,OAAAjD,mBAAA,CAAAC,KAAA;UAAA,SAAAiD,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAA/C,IAAA,GAAA+C,SAAA,CAAA9C,IAAA;cAAA;gBAAA,IACrB3F,MAAM,CAACmH,MAAM,CAAC,CAAC;kBAAAsB,SAAA,CAAA9C,IAAA;kBAAA;gBAAA;gBAClB+C,KAAK,CAAC,qCAAqC,CAAC;gBAAA,OAAAD,SAAA,CAAA5C,MAAA;cAAA;gBAI9CpC,WAAW,CAAC,IAAI,CAAC;gBAAAgF,SAAA,CAAA/C,IAAA;gBAAA+C,SAAA,CAAA9C,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAET/F,MAAM,CAACkH,SAAS,CAAC,mBAAmB,EAAE;kBAC1CjF,SAAS,EAAEG,OAAO,CAACH,SAAS;kBAC5BC,QAAQ,EAAEE,OAAO,CAACF,QAAQ;kBAC1BC,KAAK,EAAEC,OAAO,CAACD;gBACjB,CAAC,CAAC;cAAA;gBACFM,YAAY,CAAC,KAAK,CAAC;gBACnB;gBACA7C,OAAO,CAAC+I,GAAG,CAAC,aAAa,EAAAC,aAAA,CAAAA,aAAA,KAAOjH,WAAW,GAAKS,OAAA,CAAS,CAAC;gBAC1DJ,iBAAiB,CAAC,+BAA+B,CAAC;gBAClD/E,UAAU,CAAC;kBAAA,OAAM+E,iBAAiB,CAAC,EAAE,CAAC;gBAAA,GAAE,IAAI,CAAC;gBAAAyG,SAAA,CAAA9C,IAAA;gBAAA;cAAA;gBAAA8C,SAAA,CAAA/C,IAAA;gBAAA+C,SAAA,CAAApC,EAAA,GAAAoC,SAAA;gBAE7CnJ,OAAO,CAACa,KAAK,CAAC,yBAAyB,EAAAsI,SAAA,CAAApC,EAAO,CAAC;gBAC/CqC,KAAK,CAAC,6CAA6C,CAAC;cAAA;gBAAAD,SAAA,CAAA/C,IAAA;gBAEpDjC,WAAW,CAAC,KAAK,CAAC;gBAAA,OAAAgF,SAAA,CAAAI,MAAA;cAAA;cAAA;gBAAA,OAAAJ,SAAA,CAAA5H,IAAA;YAAA;UAAA;UAAA,OAAA2H,SAAA;QAAA,oCAAAlC,OAAA;MAAA;MAErB,OAAAiC,QAAA;IAAA;;IAED;IACA,IAAMO,YAAY,GAAG,SAAAA,CAAA,EAAM;MACzB9I,MAAM,CAAC+I,MAAM,CAAE,UAAA5I,KAAK,EAAK;QACvB,IAAIA,KAAK,EAAE;UACTb,OAAO,CAACa,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;UACrCuI,KAAK,CAAC,qCAAqC,CAAC;QAC9C,CAAC,MAAM;UACL;UACA9I,OAAO,CAACoJ,KAAK,CAAC,CAAC;UACf;UACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;QACjC;MACF,CAAC,CAAC;IACJ,CAAC;;IAED;IACA,IAAMC,oBAAoB,GAAG,SAAAA,CAAA;MAAA,oBAC3B/M,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAQ,GACpBiG,SAAS,gBACRnG,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAW,gBACxBF,KAAA,CAAAC,aAAA;QACE+M,IAAI,EAAC,MAAM;QACXC,KAAK,EAAElH,OAAO,CAACH,SAAU;QACzBsH,QAAQ,EAAG,SAAAA,CAAAC,CAAC;UAAA,OACVnH,UAAU,CAAAuG,aAAA,CAAAA,aAAA,KAAMxG,OAAO;YAAEH,SAAS,EAAEuH,CAAC,CAACC,MAAM,CAACH;UAAA,EAAO,CACtD;QAAA,CAAC;QACD/M,SAAS,EAAC,0FAA0F;QACpGmN,WAAW,EAAC;MAAY,iBAE1BrN,KAAA,CAAAC,aAAA;QACE+M,IAAI,EAAC,MAAM;QACXC,KAAK,EAAElH,OAAO,CAACF,QAAS;QACxBqH,QAAQ,EAAG,SAAAA,CAAAC,CAAC;UAAA,OACVnH,UAAU,CAAAuG,aAAA,CAAAA,aAAA,KAAMxG,OAAO;YAAEF,QAAQ,EAAEsH,CAAC,CAACC,MAAM,CAACH;UAAA,EAAO,CACrD;QAAA,CAAC;QACD/M,SAAS,EAAC,0FAA0F;QACpGmN,WAAW,EAAC;MAAW,iBAEzBrN,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAqB,gBAClCF,KAAA,CAAAC,aAAA;QACEE,OAAO,EAAE8L,mBAAoB;QAC7B5K,QAAQ,EAAE8F,QAAS;QACnBjH,SAAS,EAAC;MAAoF,GAE7FiH,QAAQ,GAAG,WAAW,GAAG,MACpB,gBACRnH,KAAA,CAAAC,aAAA;QACEE,OAAO,EAAE,SAAAA,CAAA;UAAA,OAAMiG,YAAY,CAAC,KAAK,CAAC;QAAA,CAAC;QACnC/E,QAAQ,EAAE8F,QAAS;QACnBjH,SAAS,EAAC;MAAmG,WAGvG,CACL,CACF,CAAC,gBAENF,KAAA,CAAAC,aAAA;QAAIC,SAAS,EAAC;MAAuF,GAC/F6F,OAAO,CAACH,SAAS,SAAIG,OAAO,CAACF,QAAQ,eACzC7F,KAAA,CAAAC,aAAA;QACEE,OAAO,EAAE,SAAAA,CAAA;UAAA,OAAMiG,YAAY,CAAC,IAAI,CAAC;QAAA,CAAC;QAClClG,SAAS,EAAC;MAA2D,gBAErEF,KAAA,CAAAC,aAAA,CAACqN,IAAI;QAACpN,SAAS,EAAC;MAAuB,EACjC,CACN,CACL,eACDF,KAAA,CAAAC,aAAA;QAAGC,SAAS,EAAC;MAAoD,gBAC/DF,KAAA,CAAAC,aAAA,CAACsN,IAAI;QAACrN,SAAS,EAAC;MAAc,IAC7B6F,OAAO,CAACD,KACR,CACA,CACN;IAAA;IAED,IAAM0H,cAAc,GAAG,SAAAA,CAACjE,KAAK,EAAEkE,MAAM,EAAK;MACxCxK,OAAO,CAACC,GAAG,2BAAyBuK,MAAM,oBAAelE,KAAO,CAAC;MAEjE5F,MAAM,CAACrD,IAAI,CACT,8BAA8B,EAC9BiJ,KAAK,EACLkE,MAAM,EACN,UAAC3J,KAAK,EAAEsH,MAAM,EAAK;QACjB,IAAItH,KAAK,EAAE;UACTb,OAAO,CAACa,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;QAC9D,CAAC,MAAM;UACLb,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEkI,MAAM,CAAC;UAC/CpD,iBAAiB,CAAC,IAAI,CAAC;UACvBzE,OAAO,CAAC+I,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC;QAC7C;MACF,CACF,CAAC;IACH,CAAC;IAED,IAAMoB,sBAAsB,GAAG,SAAAA,CAAA,EAAM;MACnC9F,oBAAoB,CAAC,KAAK,CAAC;IAC7B,CAAC;IACD,IAAM+F,sBAAsB,GAAG,SAAAA,CAAA,EAAM;MACnCnG,qBAAqB,CAAC,KAAK,CAAC;IAC9B,CAAC;IAED,IAAMoG,aAAa;MAAG,SAAAC,SAAA;QAAA,IAAA7E,MAAA;QAAA,OAAAC,mBAAA,CAAAC,KAAA;UAAA,SAAA4E,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAA1E,IAAA,GAAA0E,SAAA,CAAAzE,IAAA;cAAA;gBACpBkE,cAAc,CAACzF,cAAc,EAAE,SAAS,CAAC;gBAAAgG,SAAA,CAAAzE,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAEpBC,iBAAiB,CAAC,CAAC;cAAA;gBAAlCX,MAAM,GAAA+E,SAAA,CAAAnE,IAAA;gBAAAmE,SAAA,CAAAzE,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CACNG,kBAAkB,CAACb,MAAM,EAAE,UAAU,CAAC;cAAA;gBAC5CpB,oBAAoB,CAAC,IAAI,CAAC;gBAC1BJ,qBAAqB,CAAC,KAAK,CAAC;gBAC5BsC,wBAAwB,CAAC,CAAC;cAAA;cAAA;gBAAA,OAAAiE,SAAA,CAAAvJ,IAAA;YAAA;UAAA;UAAA,OAAAsJ,SAAA;QAAA,uBAAA7D,OAAA;MAAA;MAC3B,OAAA4D,QAAA;IAAA;IAED,IAAMG,YAAY;MAAG,SAAAC,SAAA;QAAA,IAAAjF,MAAA;QAAA,OAAAC,mBAAA,CAAAC,KAAA;UAAA,SAAAgF,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAA9E,IAAA,GAAA8E,SAAA,CAAA7E,IAAA;cAAA;gBACnBkE,cAAc,CAACzF,cAAc,EAAE,QAAQ,CAAC;gBAAAoG,SAAA,CAAA7E,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CACnBC,iBAAiB,CAAC,CAAC;cAAA;gBAAlCX,MAAM,GAAAmF,SAAA,CAAAvE,IAAA;gBAAAuE,SAAA,CAAA7E,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAENG,kBAAkB,CAACb,MAAM,EAAE,UAAU,CAAC;cAAA;gBAC5CxB,qBAAqB,CAAC,KAAK,CAAC;gBAC5BsC,wBAAwB,CAAC,CAAC;cAAA;cAAA;gBAAA,OAAAqE,SAAA,CAAA3J,IAAA;YAAA;UAAA;UAAA,OAAA0J,SAAA;QAAA,uBAAAjE,OAAA;MAAA;MAC3B,OAAAgE,QAAA;IAAA;IAED,IAAMG,qBAAqB,GAAG5I,mBAAmB,CAACe,MAAM,CAAE,UAAA8H,YAAY,EAAK;MAAA,IAAAC,qBAAA,EAAAC,mBAAA;MACzE,IAAMC,aAAa,GAAGjI,MAAM,KAAK,KAAK,IAAI8H,YAAY,CAAC5E,MAAM,KAAKlD,MAAM;MACxE,IAAMkI,oBAAoB,GAAG9H,UAAU,CAAC+H,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAC5D,IAAMC,aAAa,GACjBH,oBAAoB,KAAK,EAAE,MAAAH,qBAAA,GAC3BD,YAAY,CAAC9M,OAAO,cAAA+M,qBAAA,uBAApBA,qBAAA,CAAsBI,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,oBAAoB,CAAC,OAAAF,mBAAA,GAClEF,YAAY,CAACS,KAAK,cAAAP,mBAAA,uBAAlBA,mBAAA,CAAoBG,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,oBAAoB,CAAC;MAClE,OAAOD,aAAa,IAAII,aAAa;IACvC,CAAC,CAAC;IAEF,IAAM3N,UAAU,GAAG8N,IAAI,CAACC,IAAI,CAAC,CAAAZ,qBAAqB,aAArBA,qBAAqB,uBAArBA,qBAAqB,CAAE7J,MAAM,IAAG0K,SAAS,CAAC;IAEvE,IAAMC,sBAAsB,GAAGd,qBAAqB,CACjDe,OAAO,CAAC,CAAC,CACTC,KAAK,CAAC,CAACpO,WAAW,GAAG,CAAC,IAAIiO,SAAS,EAAEjO,WAAW,GAAGiO,SAAS,CAAC;IAEhEhM,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEgM,sBAAsB,CAAC;IAE9D,IAAMG,gBAAgB,GAAI,SAAAA,CAAAC,OAAO,EAAK;MACpCnH,cAAc,CAACmH,OAAO,CAAC;IACzB,CAAC;IAED,IAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACpD,IAAMC,UAAU,GAAGvB,qBAAqB,CAAC7H,MAAM,CAAE,UAAA8H,YAAY,EAAK;MAChE,IAAMuB,aAAa,GACjBvB,YAAY,CAACwB,SAAS,YAAYL,IAAI,GAClCnB,YAAY,CAACwB,SAAS,CAACJ,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAClDI,MAAM,CAACzB,YAAY,CAACwB,SAAS,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAElD,OAAOE,aAAa,KAAKL,KAAK;IAChC,CAAC,CAAC,CAAChL,MAAM;IAET,oBACEvE,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA+F,gBAE5GF,KAAA,CAAAC,aAAA;MAAQC,SAAS,EAAC;IAA8E,gBAC9FF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA6B,gBAC1CF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAmC,gBAChDF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA6B,gBAC1CF,KAAA,CAAAC,aAAA,CAAC8P,MAAM;MAAC7P,SAAS,EAAC;IAA8C,iBAChEF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAAiD,cAE3D,CACD,gBACLF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA6B,gBAC1CF,KAAA,CAAAC,aAAA;MACEE,OAAO,EAAEkL,cAAe;MACxBnL,SAAS,EAAC,oIAAoI;MAC9I,cAAW;IAAmB,GAE7ByI,UAAU,gBACT3I,KAAA,CAAAC,aAAA,CAAC+P,GAAG;MAAC9P,SAAS,EAAC;IAAyB,EAAG,gBAE3CF,KAAA,CAAAC,aAAA,CAACgQ,IAAI;MAAC/P,SAAS,EAAC;IAA0C,EAEtD,gBACRF,KAAA,CAAAC,aAAA;MACEE,OAAO,EAAEsM,YAAa;MACtBvM,SAAS,EAAC;IAA6G,gBAEvHF,KAAA,CAAAC,aAAA,CAACiQ,MAAM;MAAChQ,SAAS,EAAC;IAAS,iBAC3BF,KAAA,CAAAC,aAAA,eAAM,QAAY,CACZ,CACL,CACF,CACF,CACC,gBAERD,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAA6B,gBAC3CF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAuC,gBAEpDF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAe,gBAC5BF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA4E,gBACzFF,KAAA,CAAAC,aAAA,CAACqB,cAAc;MACbC,OAAO,EAAEmE,cAAe;MACxB3F,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM4F,iBAAiB,CAAC,EAAE,CAAC;MAAA;IAAC,iBAEvC3F,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAkC,gBAC/CF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAsG,gBACnHF,KAAA,CAAAC,aAAA,CAACkQ,IAAI;MAACjQ,SAAS,EAAC;IAAoB,EACjC,GACJ6M,oBAAoB,CAAC,CACnB,gBAGL/M,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAW,gBACxBF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAoC,gBACjDF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAA2D,uBAErE,gBACJF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAW,gBACxBF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAmC,gBAChDF,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAAkC,UAE5C,gBACNF,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAA2C,GACxDoD,UAAU,CAAC+E,KAAK,IAAI,eACjB,CACH,gBACLrI,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAmC,gBAChDF,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAAkC,aAE5C,gBACNF,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAA2C,GACxDoD,UAAU,CAACgF,QAAQ,IAAI,UACpB,CACH,CACF,CACF,gBACLtI,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAoC,gBACjDF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAA2D,qBAErE,gBACJF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAW,gBACxBF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAsD,gBACnEF,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC;IAAkC,qBAE5C,GACLyP,UACE,CACF,CACF,CACF,CACF,CACF,gBACL3P,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAyB,GACrCkO,qBAAqB,CAAC7J,MAAM,GAAG,CAAC,gBAC/BvE,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAoQ,QAAA,qBACEpQ,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA4E,gBACzFF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAsB,gBACnCF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAQ,gBACrBF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAU,gBACvBF,KAAA,CAAAC,aAAA,CAACoQ,MAAM;MAACnQ,SAAS,EAAC;IAA0E,iBAC5FF,KAAA,CAAAC,aAAA;MACE+M,IAAI,EAAC,MAAM;MACXK,WAAW,EAAC,oBAAoB;MAChCnN,SAAS,EAAC,8FAA8F;MACxG+M,KAAK,EAAEtG,UAAW;MAClBuG,QAAQ,EAAG,SAAAA,CAAAC,CAAC;QAAA,OAAKvG,aAAa,CAACuG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;MAAA;IAAC,EAE9C,CACF,gBACLjN,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA6B,gBAC1CF,KAAA,CAAAC,aAAA,CAACqQ,MAAM;MAACpQ,SAAS,EAAC;IAAuB,iBACzCF,KAAA,CAAAC,aAAA;MACEC,SAAS,EAAC,gGAAgG;MAC1G+M,KAAK,EAAE1G,MAAO;MACd2G,QAAQ,EAAG,SAAAA,CAAAC,CAAC;QAAA,OAAK3G,SAAS,CAAC2G,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;MAAA;IAAC,gBAE3CjN,KAAA,CAAAC,aAAA;MAAQgN,KAAK,EAAC;IAAK,GAAC,KAAW,gBAC/BjN,KAAA,CAAAC,aAAA;MAAQgN,KAAK,EAAC;IAAS,GAAC,SAAe,gBACvCjN,KAAA,CAAAC,aAAA;MAAQgN,KAAK,EAAC;IAAU,GAAC,UAAgB,gBACzCjN,KAAA,CAAAC,aAAA;MAAQgN,KAAK,EAAC;IAAU,GAAC,UAAgB,CACnC,CACL,CACF,CACF,gBACLjN,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAW,gBACxBF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA6B,gBAC1CF,KAAA,CAAAC,aAAA,CAACsQ,KAAK;MAACrQ,SAAS,EAAC;IAA8C,iBAC/DF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAAqD,YAE/D,CACD,GACJgP,sBAAsB,CAACsB,GAAG,CAAE,UAAAnC,YAAY;MAAA,oBACvCrO,KAAA,CAAAC,aAAA;QACEwQ,GAAG,EAAEpC,YAAY,CAACqC,GAAI;QACtBxQ,SAAS,EAAC;MAA4E,gBAEtFF,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAuC,gBACpDF,KAAA,CAAAC,aAAA,2BACED,KAAA,CAAAC,aAAA;QAAIC,SAAS,EAAC;MAA0D,GACrEmO,YAAY,CAACS,KACZ,gBACJ9O,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAW,gBACxBF,KAAA,CAAAC,aAAA;QAAGC,SAAS,EAAC;MAA4D,gBACvEF,KAAA,CAAAC,aAAA,CAACsQ,KAAK;QAACrQ,SAAS,EAAC;MAAc,IAC9ByQ,cAAc,CAACtC,YAAY,CAACwB,SAAS,CACrC,gBACH7P,KAAA,CAAAC,aAAA;QAAGC,SAAS,EAAC;MAA4D,gBACvEF,KAAA,CAAAC,aAAA,CAAC2Q,UAAU;QAAC1Q,SAAS,EAAC;MAAc,eAEnC,CACA,CACF,gBACLF,KAAA,CAAAC,aAAA;QACEC,SAAS,8DACPmO,YAAY,CAAC5E,MAAM,KAAK,UAAU,GAC9B,mEAAmE,GACnE4E,YAAY,CAAC5E,MAAM,KAAK,UAAU,GAClC,2DAA2D,GAC3D,uEAAuE;MAC1E,GAEF4E,YAAY,CAAC5E,MACX,CACF,CACF,CACN;IAAA,EAAC,eACFzJ,KAAA,CAAAC,aAAA,CAACc,UAAU;MACTC,WAAW,EAAEA,WAAY;MACzBC,UAAU,EAAEA,UAAW;MACvBC,YAAY,EAAEmO;IAAiB,EAE9B,CACP,CAAG,gBAEHrP,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAgJ,gBAC7JF,KAAA,CAAAC,aAAA,CAAC4Q,SAAS;MAAC3Q,SAAS,EAAC;IAA8B,iBACnDF,KAAA,CAAAC,aAAA,YAAG,0BAA2B,CAC3B,CAEJ,CACF,CACD,gBACND,KAAA,CAAAC,aAAA,CAACP,YAAY;MACXE,MAAM,EAAE2H,kBAAmB;MAC3B1H,SAAS,EAAE+N,aAAc;MACzB9N,QAAQ,EAAEkO,YAAa;MACvBjO,OAAO,EAAE4N;IAAuB,iBAElC3N,KAAA,CAAAC,aAAA,CAACO,WAAW;MACVZ,MAAM,EAAE+H,iBAAkB;MAC1B5H,OAAO,EAAE2N;IAAuB,EAE/B,CAAC;EAEV,CAAC;EAACjN,EAAA,CAxhBW2E,WAAW;EAAAhF,EAAA,GAAXgF,WAAW;EAAA,IAAAhF,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECtBjB,IAAM0E,SAAS,GAAG,SAAAA,CAAAtF,IAAA,EAAuB;IAAA,IAApBuF,aAAA,GAAAvF,IAAA,CAAAuF,aAAA;IAAoBzE,EAAA;IAC9C,IAAA0B,SAAA,GAA0BC,QAAQ,CAAC,EAAE,CAAC;MAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;MAA/B2D,KAAK,GAAAzD,UAAA;MAAEyO,QAAQ,GAAAzO,UAAA;IACtB,IAAAI,UAAA,GAAsBL,QAAQ,CAAC,EAAE,CAAC;MAAAM,UAAA,GAAAJ,cAAA,CAAAG,UAAA;MAA3BsO,GAAG,GAAArO,UAAA;MAAEsO,MAAM,GAAAtO,UAAA;IAClB,IAAAG,UAAA,GAA0BT,QAAQ,CAAC,EAAE,CAAC;MAAAU,UAAA,GAAAR,cAAA,CAAAO,UAAA;MAA/BiB,KAAK,GAAAhB,UAAA;MAAEmO,QAAQ,GAAAnO,UAAA;IACtB,IAAAmD,UAAA,GAAsC7D,QAAQ,CAAC,KAAK,CAAC;MAAA8D,UAAA,GAAA5D,cAAA,CAAA2D,UAAA;MAA9CiL,WAAW,GAAAhL,UAAA;MAAEiL,cAAc,GAAAjL,UAAA;IAClC,IAAMkL,QAAQ,GAAGC,WAAW,CAAC,CAAC;IAE9B3Q,SAAS,CAAC,YAAM;MACd;MACA,IAAI,CAACwE,aAAa,EAAE;QAClBjC,OAAO,CAAC8G,IAAI,CAAC,6BAA6B,CAAC;MAC7C;;MAEA;MACA,IAAMuH,eAAe,GAAGC,WAAW,CAAC,YAAM;QACxC,IAAI,CAAC5N,MAAM,CAAC8F,MAAM,CAAC,CAAC,CAAC+H,SAAS,EAAE;UAC9BP,QAAQ,CAAC,uDAAuD,CAAC;QACnE,CAAC,MAAM,IAAInN,KAAK,CAAC+K,QAAQ,CAAC,2BAA2B,CAAC,EAAE;UACtDoC,QAAQ,CAAC,EAAE,CAAC;QACd;MACF,CAAC,EAAE,IAAI,CAAC;MAER,OAAO;QAAA,OAAMQ,aAAa,CAACH,eAAe,CAAC;MAAA;IAC7C,CAAC,EAAE,CAACpM,aAAa,EAAEpB,KAAK,CAAC,CAAC;IAE1B,IAAM4N,WAAW;MAAG,SAAA5I,QAAOqE,CAAC;QAAA,OAAAlE,mBAAA,CAAAC,KAAA;UAAA,SAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAC1B6D,CAAC,CAACwE,cAAc,CAAC,CAAC;;gBAElB;gBAAA,IACKzM,aAAa;kBAAAkE,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAChB2H,QAAQ,CAAC,4DAA4D,CAAC;gBAAA,OAAA7H,QAAA,CAAAI,MAAA;cAAA;gBAAA,IAKnE7F,MAAM,CAAC8F,MAAM,CAAC,CAAC,CAAC+H,SAAS;kBAAApI,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAC5B2H,QAAQ,CAAC,4DAA4D,CAAC;gBAAA,OAAA7H,QAAA,CAAAI,MAAA;cAAA;gBAIxE2H,cAAc,CAAC,IAAI,CAAC;gBACpBF,QAAQ,CAAC,EAAE,CAAC;gBAAA7H,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAE,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAGJ,IAAIO,OAAO,CAAC,UAAC2H,OAAO,EAAEC,MAAM,EAAK;kBACrClO,MAAM,CAACmO,iBAAiB,CAAChM,KAAK,EAAEiL,GAAG,EAAG,UAAAgB,GAAG,EAAK;oBAC5C,IAAIA,GAAG,EAAE;sBACP9O,OAAO,CAACa,KAAK,CAAC,cAAc,EAAEiO,GAAG,CAAC;sBAClCF,MAAM,CAACE,GAAG,CAAC;oBACb,CAAC,MAAM;sBACLH,OAAO,CAAC,CAAC;oBACX;kBACF,CAAC,CAAC;gBACJ,CAAC,CAAC;cAAA;gBACFrO,OAAO,CAAC+I,GAAG,CAAC,aAAa,EAAE;kBACzBxG,KAAK,EAAEA;gBACT,CAAC,CAAC;gBAEFsL,QAAQ,CAAC,YAAY,CAAC;gBAAAhI,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;gBAItB6H,QAAQ,CAAC7H,QAAA,CAAAY,EAAA,CAAIgI,MAAM,IAAI,iCAAiC,CAAC;cAAA;gBAAA5I,QAAA,CAAAC,IAAA;gBAEzD8H,cAAc,CAAC,KAAK,CAAC;gBAAA,OAAA/H,QAAA,CAAAoD,MAAA;cAAA;cAAA;gBAAA,OAAApD,QAAA,CAAA5E,IAAA;YAAA;UAAA;UAAA,OAAA2E,QAAA;QAAA,oCAAAc,OAAA;MAAA;MAExB,OAAAnB,OAAA;IAAA;IAED,oBACE9I,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAuE,gBACpFF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA8D,gBAC3EF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAa,gBAC1BF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAAkC,GAAC,cAAgB,gBACjEF,KAAA,CAAAC,aAAA;MAAGC,SAAS,EAAC;IAAoB,GAAC,yBAA0B,CACzD,gBAELF,KAAA,CAAAC,aAAA;MAAMgS,QAAQ,EAAEP,WAAY;MAACxR,SAAS,EAAC;IAAW,GAC/C4D,KAAK,iBACJ9D,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA4D,GACxE4D,KACE,CACN,eAED9D,KAAA,CAAAC,aAAA,2BACED,KAAA,CAAAC,aAAA;MAAOiS,OAAO,EAAC,OAAO;MAAChS,SAAS,EAAC;IAAyC,UAEnE,gBACPF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAe,gBAC5BF,KAAA,CAAAC,aAAA,CAACkS,MAAM;MAACjS,SAAS,EAAC;IAAqC,iBACvDF,KAAA,CAAAC,aAAA;MACE+K,EAAE,EAAC,OAAO;MACVgC,IAAI,EAAC,OAAO;MACZoF,QAAQ;MACRnF,KAAK,EAAEnH,KAAM;MACboH,QAAQ,EAAG,SAAAA,CAAAC,CAAC;QAAA,OAAK2D,QAAQ,CAAC3D,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;MAAA,CAAC;MAC1C/M,SAAS,EAAC,iGAAiG;MAC3GmN,WAAW,EAAC,kBAAkB;MAC9BgF,YAAY,EAAC;IAAO,EAEnB,CACF,gBAELrS,KAAA,CAAAC,aAAA,2BACED,KAAA,CAAAC,aAAA;MAAOiS,OAAO,EAAC,KAAK;MAAChS,SAAS,EAAC;IAAyC,QAEjE,gBACPF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAe,gBAC5BF,KAAA,CAAAC,aAAA,CAACqS,MAAM;MAACpS,SAAS,EAAC;IAAqC,iBACvDF,KAAA,CAAAC,aAAA;MACE+K,EAAE,EAAC,KAAK;MACRgC,IAAI,EAAC,UAAU;MACfoF,QAAQ;MACRnF,KAAK,EAAE8D,GAAI;MACX7D,QAAQ,EAAG,SAAAA,CAAAC,CAAC;QAAA,OAAK6D,MAAM,CAAC7D,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;MAAA,CAAC;MACxC/M,SAAS,EAAC,iGAAiG;MAC3GmN,WAAW,EAAC,gBAAgB;MAC5BkF,SAAS,EAAE,CAAE;MACbC,SAAS,EAAE,CAAE;MACbC,OAAO,EAAC,QAAQ;MAChBC,SAAS,EAAC,SAAS;MACnBL,YAAY,EAAC;IAAkB,EAE9B,CACF,gBAELrS,KAAA,CAAAC,aAAA;MACE+M,IAAI,EAAC,QAAQ;MACb3L,QAAQ,EAAE6P,WAAY;MACtBhR,SAAS,EAAC;IAAkP,GAE3PgR,WAAW,gBACVlR,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAkC,gBAC/CF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC,4CAA4C;MAACyS,KAAK,EAAC,4BAA4B;MAACC,IAAI,EAAC,MAAM;MAACC,OAAO,EAAC;IAAW,gBAC5H7S,KAAA,CAAAC,aAAA;MAAQC,SAAS,EAAC,YAAY;MAAC4S,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACC,CAAC,EAAC,IAAI;MAACC,MAAM,EAAC,cAAc;MAACC,WAAW,EAAC;IAAG,CAAS,gBACpGlT,KAAA,CAAAC,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAC0S,IAAI,EAAC,cAAc;MAACO,CAAC,EAAC;IAAiH,CAAO,CACxK,kBAEF,CAAC,GAEN,SAEI,CACJ,CACH,CACF,CAAC;EAEV,CAAC;EAAC1S,EAAA,CAlJWwE,SAAS;IAAA,QAKHoM,WAAW;EAAA;EAAAjR,EAAA,GALjB6E,SAAS;EAAA,IAAA7E,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECCf,IAAM4E,gBAAgB,GAAG,SAAAA,CAAAxF,IAAA,EAAuB;IAAA,IAApBuF,aAAA,GAAAvF,IAAA,CAAAuF,aAAA;IAAoBzE,EAAA;IACrD,IAAA0B,SAAA,GAAgCC,QAAQ,CAAC;QACvC0D,KAAK,EAAE,EAAE;QAAEF,SAAS,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEkL,GAAG,EAAE;MAC/C,CAAC,CAAC;MAAA1O,UAAA,GAAAC,cAAA,CAAAH,SAAA;MAFKiR,QAAQ,GAAA/Q,UAAA;MAAEgR,WAAW,GAAAhR,UAAA;IAG5B,IAAAI,UAAA,GAA8BL,QAAQ,CAAC,KAAK,CAAC;MAAAM,UAAA,GAAAJ,cAAA,CAAAG,UAAA;MAAtC6Q,OAAO,GAAA5Q,UAAA;MAAE6Q,UAAU,GAAA7Q,UAAA;IAC1B,IAAM0O,QAAQ,GAAGC,WAAW,CAAC,CAAC;IAE9B,IAAMmC,YAAY;MAAG,SAAA1K,QAAOqE,CAAC;QAAA,IAAAsG,iBAAA,EAAAC,cAAA;QAAA,OAAAzK,mBAAA,CAAAC,KAAA;UAAA,SAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAC3B6D,CAAC,CAACwE,cAAc,CAAC,CAAC;gBAAA,IACbzM,aAAa;kBAAAkE,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAChB+C,KAAK,CAAC,kCAAkC,CAAC;gBAAA,OAAAjD,QAAA,CAAAI,MAAA;cAAA;gBAI3C+J,UAAU,CAAC,IAAI,CAAC;gBACVE,iBAAiB,GAAGlQ,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;gBACrDkQ,cAAc,GAAGnQ,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,EAAE;gBAAA,MAE/CiQ,iBAAiB,CAAChQ,IAAI,KAAKyB,aAAa;kBAAAkE,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAE,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAGlC,IAAIO,OAAO,CAAC,UAAC2H,OAAO,EAAEC,MAAM,EAAK;kBACrClO,MAAM,CAACrD,IAAI,CAAC,gBAAgB,EAAAiM,aAAA,CAAAA,aAAA,KAErB6G,QAAQ;oBACXK,iBAAiB,EAAjBA,iBAAiB;oBAAEC,cAAA,EAAAA;kBAAA,IAErB,UAAC3B,GAAG,EAAE3G,MAAM,EAAK;oBACf,IAAI2G,GAAG,EAAE;sBACP9O,OAAO,CAACa,KAAK,CAAC,qBAAqB,EAAEiO,GAAG,CAAC;sBACzCF,MAAM,CAACE,GAAG,CAAC;oBACb,CAAC,MAAM;sBACL9O,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEkI,MAAM,CAAC;sBAC5CwG,OAAO,CAACxG,MAAM,CAAC;oBACjB;kBACF,CACF,CAAC;gBACH,CAAC,CAAC;cAAA;gBAEF;gBACAgG,QAAQ,CAAC,QAAQ,CAAC;gBAAAhI,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;gBAElBnG,OAAO,CAACa,KAAK,CAAC,sBAAsB,EAAAsF,QAAA,CAAAY,EAAK,CAAC;gBAC1CqC,KAAK,CAACjD,QAAA,CAAAY,EAAA,CAAIgI,MAAM,IAAI,wCAAwC,CAAC;cAAA;gBAAA5I,QAAA,CAAAC,IAAA;gBAE7DkK,UAAU,CAAC,KAAK,CAAC;gBAAA,OAAAnK,QAAA,CAAAoD,MAAA;cAAA;gBAAApD,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAInB+C,KAAK,CAAC,8DAA8D,CAAC;gBACrEkH,UAAU,CAAC,KAAK,CAAC;cAAA;cAAA;gBAAA,OAAAnK,QAAA,CAAA5E,IAAA;YAAA;UAAA;UAAA,OAAA2E,QAAA;QAAA,oCAAAc,OAAA;MAAA;MAEpB,OAAAnB,OAAA;IAAA;IAED,IAAM6K,WAAW,GAAG,CAClB;MAAEC,IAAI,EAAE,OAAO;MAAEC,IAAI,EAAE1B,MAAM;MAAEnF,IAAI,EAAE,OAAO;MAAEK,WAAW,EAAE;IAAmB,CAAC,EAC/E;MAAEuG,IAAI,EAAE,WAAW;MAAEC,IAAI,EAAEC,MAAM;MAAE9G,IAAI,EAAE,MAAM;MAAEK,WAAW,EAAE;IAAa,CAAC,EAC5E;MAAEuG,IAAI,EAAE,UAAU;MAAEC,IAAI,EAAEC,MAAM;MAAE9G,IAAI,EAAE,MAAM;MAAEK,WAAW,EAAE;IAAY,CAAC,EAC1E;MACEuG,IAAI,EAAE,KAAK;MACXC,IAAI,EAAEvB,MAAM;MACZtF,IAAI,EAAE,UAAU;MAChBK,WAAW,EAAE,2BAA2B;MACxCmF,SAAS,EAAE,GAAG;MACdD,SAAS,EAAE,GAAG;MACdE,OAAO,EAAE;IACX,CAAC,CACF;IAED,oBACEzS,KAAA,CAAAC,aAAA,CAACwB,MAAM,CAACC,GAAG;MACTC,OAAO,EAAE;QAAEoS,OAAO,EAAE;MAAE,CAAE;MACxBlS,OAAO,EAAE;QAAEkS,OAAO,EAAE;MAAE,CAAE;MACxB7T,SAAS,EAAC;IAA4D,gBAGtEF,KAAA,CAAAC,aAAA,CAACwB,MAAM,CAACC,GAAG;MACTC,OAAO,EAAE;QAAEqS,CAAC,EAAE,EAAE;QAAED,OAAO,EAAE;MAAE,CAAE;MAC/BlS,OAAO,EAAE;QAAEmS,CAAC,EAAE,CAAC;QAAED,OAAO,EAAE;MAAE,CAAE;MAC9BhS,UAAU,EAAE;QAAEkS,KAAK,EAAE;MAAI,CAAE;MAC3B/T,SAAS,EAAC;IAA8D,gBAExEF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAuB,gBACpCF,KAAA,CAAAC,aAAA,CAACwB,MAAM,CAACyS,EAAE;MACRvS,OAAO,EAAE;QAAEqS,CAAC,EAAE,CAAC;MAAG,CAAE;MACpBnS,OAAO,EAAE;QAAEmS,CAAC,EAAE;MAAE,CAAE;MAClB9T,SAAS,EAAC;IAAkC,mBAGnC,gBACXF,KAAA,CAAAC,aAAA;MAAGC,SAAS,EAAC;IAAe,GAAC,0BAA2B,CACrD,gBAELF,KAAA,CAAAC,aAAA;MAAMgS,QAAQ,EAAEuB,YAAa;MAACtT,SAAS,EAAC;IAAW,gBACjDF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAuC,GACnDyT,WAAW,CAACnD,GAAG,CAAC,UAAC2D,KAAK,EAAEC,KAAK;MAAA,oBAC5BpU,KAAA,CAAAC,aAAA,CAACwB,MAAM,CAACC,GAAG;QACT+O,GAAG,EAAE0D,KAAK,CAACP,IAAK;QAChBjS,OAAO,EAAE;UAAEC,CAAC,EAAE,CAAC,EAAE;UAAEmS,OAAO,EAAE;QAAE,CAAE;QAChClS,OAAO,EAAE;UAAED,CAAC,EAAE,CAAC;UAAEmS,OAAO,EAAE;QAAE,CAAE;QAC9BhS,UAAU,EAAE;UAAEkS,KAAK,EAAEG,KAAK,GAAG;QAAI,CAAE;QACnClU,SAAS,EAAEiU,KAAK,CAACP,IAAI,KAAK,OAAO,GAAG,eAAe,GAAG;MAAG,gBAEzD5T,KAAA,CAAAC,aAAA;QAAOC,SAAS,EAAC;MAAmC,GACjDiU,KAAK,CAACP,IAAI,CAACS,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGH,KAAK,CAACP,IAAI,CAACxE,KAAK,CAAC,CAAC,CACnD,gBACPpP,KAAA,CAAAC,aAAA;QAAKC,SAAS,EAAC;MAAe,gBAC5BF,KAAA,CAAAC,aAAA,CAACkU,KAAK,CAACN,IAAI;QAAC3T,SAAS,EAAC;MAAqC,iBAC3DF,KAAA,CAAAC,aAAA,UAAAsU,QAAA,KACMJ,KAAK;QACT/B,QAAQ;QACRnF,KAAK,EAAEmG,QAAQ,CAACe,KAAK,CAACP,IAAI,CAAE;QAC5B1G,QAAQ,EAAE,SAAAA,CAAAC,CAAC;UAAA,OAAIkG,WAAW,CAAC,UAAAhK,IAAI;YAAA,IAAAmL,cAAA;YAAA,OAAAjI,aAAA,CAAAA,aAAA,KAC1BlD,IAAI,QAAAmL,cAAA,OAAAA,cAAA,CACNrH,CAAC,CAACC,MAAM,CAACwG,IAAI,IAAGzG,CAAC,CAACC,MAAM,CAACH,KAAA,EAAAuH,cAAA;UAAA,CAC1B,CAAC;QAAA,CAAC;QACJtU,SAAS,EAAC;MAA2E,GAEpF,CACK,CACb;IAAA,EACE,gBAELF,KAAA,CAAAC,aAAA,CAACwB,MAAM,CAACgT,MAAM;MACZC,UAAU,EAAE;QAAEC,KAAK,EAAE;MAAK,CAAE;MAC5BC,QAAQ,EAAE;QAAED,KAAK,EAAE;MAAK,CAAE;MAC1B3H,IAAI,EAAC,QAAQ;MACb3L,QAAQ,EAAEiS,OAAQ;MAClBpT,SAAS,EAAC;IAAmK,GAE5KoT,OAAO,GAAG,qBAAqB,GAAG,gBACtB,CACX,CACI,CACF,CAAC;EAEjB,CAAC;EAAC7S,EAAA,CAxIW0E,gBAAgB;IAAA,QAKVkM,WAAW;EAAA;EAAAjR,EAAA,GALjB+E,gBAAgB;EAAA,IAAA/E,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECHtB,IAAM8E,WAAW,GAAG,SAAAA,CAAA,EAAM;IAAA5E,EAAA;IAC/B,IAAM2Q,QAAQ,GAAGC,WAAW,CAAC,CAAC;IAE9B,oBACErR,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAmD,gBAChEF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAA2B,gBACxCF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAa,gBAC1BF,KAAA,CAAAC,aAAA;MAAIC,SAAS,EAAC;IAAoG,cAE9G,gBACJF,KAAA,CAAAC,aAAA;MAAGC,SAAS,EAAC;IAAoB,GAAC,8BAA+B,CAC9D,gBAELF,KAAA,CAAAC,aAAA;MAAKC,SAAS,EAAC;IAAiB,gBAC9BF,KAAA,CAAAC,aAAA;MACEE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAMiR,QAAQ,CAAC,QAAQ,CAAC;MAAA,CAAC;MAClClR,SAAS,EAAC;IAAwU,gBAElVF,KAAA,CAAAC,aAAA,CAAC4U,OAAO;MAAC3U,SAAS,EAAC;IAAM,EAAG,YACtB,gBAERF,KAAA,CAAAC,aAAA;MACEE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAMiR,QAAQ,CAAC,WAAW,CAAC;MAAA,CAAC;MACrClR,SAAS,EAAC;IAAqR,gBAE/RF,KAAA,CAAAC,aAAA,CAAC6U,UAAU;MAAC5U,SAAS,EAAC;IAAM,EAAG,mBACzB,CACL,CACF,CACF,CAAC;EAEV,CAAC;EAACO,EAAA,CA/BW4E,WAAW;IAAA,QACLgM,WAAW;EAAA;EAAAjR,EAAA,GADjBiF,WAAW;EAAA,IAAAjF,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECAjB,IAAM0D,UAAU,GAAG,IAAI8Q,KAAK,CAACC,UAAU,CAAC,YAAY,CAAC;EAI5D;EACA,IAAMC,aAAa,GAAG,SAAAA,CAAC9Q,UAAU,EAAE2B,KAAK,EAAEoP,YAAY,EAAK;IACvD,IAAMC,cAAc,GAAMhR,UAAU,SAAI2B,KAAK,SAAIoP,YAAc;IAC/D,OAAOE,MAAM,CAACD,cAAc,CAAC,CAACE,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;EAChD,CAAC;;EAGH;EACA,IAAI1R,MAAM,CAAC2R,QAAQ,EAAE;IACnB3R,MAAM,CAAC4R,OAAO,CAAC,YAAM;MACnBtR,UAAU,CAACuR,WAAW,CAAC;QAAE1K,MAAM,EAAE;MAAE,CAAC,CAAC;MACrC7G,UAAU,CAACuR,WAAW,CAAC;QAAErR,UAAU,EAAE;MAAE,CAAC,CAAC;MACzCF,UAAU,CAACuR,WAAW,CAAC;QAAE1P,KAAK,EAAE;MAAE,CAAC,CAAC;MACpC7B,UAAU,CAACuR,WAAW,CAAC;QAAEjM,KAAK,EAAE;MAAE,CAAC,CAAC;IACtC,CAAC,CAAC;EACJ;;EAEA;EACA5F,MAAM,CAAC8R,OAAO,CAAC;IACX,mBAAmB;MAAE,SAAA3M,QAAe4M,IAAI;QAAA,IAAAR,YAAA,EAAA3L,KAAA;QAAA,OAAAN,mBAAA,CAAAC,KAAA;UAAA,SAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBACpCqM,KAAK,CAACD,IAAI,EAAE;kBACV5K,MAAM,EAAEgF,MAAM;kBACdhK,KAAK,EAAEgK,MAAM;kBACb3L,UAAU,EAAE2L,MAAM;kBAClB8F,QAAQ,EAAE9F,MAAM;kBAChBxM,UAAU,EAAEuS;gBACd,CAAC,CAAC;gBAEIX,YAAY,GAAG,IAAI1F,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;gBACvClG,KAAK,GAAG0L,aAAa,CAACS,IAAI,CAACvR,UAAU,EAAEuR,IAAI,CAAC5P,KAAK,EAAEoP,YAAY,CAAC;gBACtEjS,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEqG,KAAK,CAAC,CAAC,CAAC;gBAAA,OAAAH,QAAA,CAAAI,MAAA,WAE/CvF,UAAU,CAAC6R,WAAW,CAC3B;kBACEhL,MAAM,EAAE4K,IAAI,CAAC5K,MAAM;kBACnB3G,UAAU,EAAEuR,IAAI,CAACvR;gBACnB,CAAC,EACD;kBACE4R,IAAI,EAAE;oBACJjQ,KAAK,EAAE4P,IAAI,CAAC5P,KAAK;oBACjB8P,QAAQ,EAAEF,IAAI,CAACE,QAAQ;oBACvBrM,KAAK,EAAEA,KAAK;oBACZyM,WAAW,EAAE,IAAIxG,IAAI,CAAC;kBACxB,CAAC;kBACDyG,YAAY,EAAE;oBACZpG,SAAS,EAAE,IAAIL,IAAI,CAAC;kBACtB;gBACF,CACF,CAAC;cAAA;cAAA;gBAAA,OAAApG,QAAA,CAAA5E,IAAA;YAAA;UAAA;UAAA,OAAA2E,QAAA;QAAA,uBAAAc,OAAA;MAAA;MACF,OAAAnB,OAAA;IAAA;IACL,wBAAwB,WAAAoN,CAACpL,MAAM,EAAE3G,UAAU,EAAEyR,QAAQ,EAAE;MACrDD,KAAK,CAAC7K,MAAM,EAAEgF,MAAM,CAAC;MACrB6F,KAAK,CAACxR,UAAU,EAAE2L,MAAM,CAAC;MACzB6F,KAAK,CAACC,QAAQ,EAAE9F,MAAM,CAAC;MAEvB,OAAO7L,UAAU,CAACkS,WAAW,CAC3B;QACErL,MAAM,EAAEA,MAAM;QACd3G,UAAU,EAAEA;MACd,CAAC,EACD;QACE4R,IAAI,EAAE;UACJH,QAAQ,EAAEA,QAAQ;UAClBI,WAAW,EAAE,IAAIxG,IAAI,CAAC;QACxB;MACF,CACF,CAAC;IACH,CAAC;IACD,+BAA+B;MAAE,SAAA9E,SAAenB,KAAK;QAAA,IAAA6M,SAAA;QAAA,OAAAnN,mBAAA,CAAAC,KAAA;UAAA,SAAAyB,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAvB,IAAA,GAAAuB,SAAA,CAAAtB,IAAA;cAAA;gBACnDqM,KAAK,CAACpM,KAAK,EAAEuG,MAAM,CAAC;gBAAAlF,SAAA,CAAAtB,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAEIzF,UAAU,CAACoS,YAAY,CAAC;kBAAE9M,KAAK,EAAEA;gBAAM,CAAC,CAAC;cAAA;gBAA3D6M,SAAS,GAAAxL,SAAA,CAAAhB,IAAA;gBAAA,IAEVwM,SAAS;kBAAAxL,SAAA,CAAAtB,IAAA;kBAAA;gBAAA;gBAAA,MACN,IAAI3F,MAAM,CAAC2S,KAAK,CAAC,gBAAgB,EAAE,kCAAkC,CAAC;cAAA;gBAAA,OAAA1L,SAAA,CAAApB,MAAA,WAGvE4M,SAAS,CAACR,QAAQ;cAAA;cAAA;gBAAA,OAAAhL,SAAA,CAAApG,IAAA;YAAA;UAAA;UAAA,OAAAmG,SAAA;QAAA,uBAAAV,OAAA;MAAA;MAC1B,OAAAS,QAAA;IAAA;IACD,kCAAkC;MAAE,SAAAK,SAAe5G,UAAU;QAAA,IAAAiS,SAAA;QAAA,OAAAnN,mBAAA,CAAAC,KAAA;UAAA,SAAAgC,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAA9B,IAAA,GAAA8B,SAAA,CAAA7B,IAAA;cAAA;gBAC3DqM,KAAK,CAACxR,UAAU,EAAE2L,MAAM,CAAC;gBAAA3E,SAAA,CAAA7B,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CAEDzF,UAAU,CAACoS,YAAY,CAAC;kBAAElS,UAAU,EAAEA;gBAAW,CAAC,CAAC;cAAA;gBAArEiS,SAAS,GAAAjL,SAAA,CAAAvB,IAAA;gBAAA,IAEVwM,SAAS;kBAAAjL,SAAA,CAAA7B,IAAA;kBAAA;gBAAA;gBAAA,MACN,IAAI3F,MAAM,CAAC2S,KAAK,CAAC,gBAAgB,EAAE,qCAAqC,CAAC;cAAA;gBAAA,OAAAnL,SAAA,CAAA3B,MAAA,WAG1E4M,SAAS,CAACR,QAAQ;cAAA;cAAA;gBAAA,OAAAzK,SAAA,CAAA3G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA;QAAA,uBAAAjB,OAAA;MAAA;MAC1B,OAAAc,QAAA;IAAA;IAED;IACA,uBAAuB;MAAE,SAAAS,SAAejC,KAAK;QAAA,IAAA6B,MAAA;QAAA,OAAAnC,mBAAA,CAAAC,KAAA;UAAA,SAAAwC,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAtC,IAAA,GAAAsC,SAAA,CAAArC,IAAA;cAAA;gBAC3CqM,KAAK,CAACpM,KAAK,EAAEuG,MAAM,CAAC;gBAAAnE,SAAA,CAAArC,IAAA;gBAAA,OAAAL,mBAAA,CAAAS,KAAA,CACCzF,UAAU,CAACoS,YAAY,CAAC;kBAAE9M,KAAA,EAAAA;gBAAM,CAAC,CAAC;cAAA;gBAAjD6B,MAAM,GAAAO,SAAA,CAAA/B,IAAA;gBACZ3G,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEqG,KAAK,CAAC;gBACxCtG,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEkI,MAAM,CAAC;gBAAA,OAAAO,SAAA,CAAAnC,MAAA,WACjC4B,MAAM;cAAA;cAAA;gBAAA,OAAAO,SAAA,CAAAnH,IAAA;YAAA;UAAA;UAAA,OAAAkH,SAAA;QAAA,uBAAAzB,OAAA;MAAA;MACf,OAAAuB,QAAA;IAAA;EACF,CAAC,CAAC;;EAEF;EACA,IAAI7H,MAAM,CAAC2R,QAAQ,EAAE;IACnB3R,MAAM,CAAC4S,OAAO,CAAC,mBAAmB,EAAE,UAASzL,MAAM,EAAE;MACnD6K,KAAK,CAAC7K,MAAM,EAAEgF,MAAM,CAAC;MACrB,OAAO7L,UAAU,CAACC,IAAI,CAAC;QAAE4G,MAAM,EAAEA;MAAO,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEFnH,MAAM,CAAC4S,OAAO,CAAC,qBAAqB,EAAE,UAASpS,UAAU,EAAE;MACzDwR,KAAK,CAACxR,UAAU,EAAE2L,MAAM,CAAC;MACzB,OAAO7L,UAAU,CAACC,IAAI,CAAC;QAAEC,UAAU,EAAEA;MAAW,CAAC,CAAC;IACpD,CAAC,CAAC;EACJ;AAAA,EAAA7D,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;ECxHO,IAAM0O,SAAS,GAAG,CAAC;AAAA,EAAA3O,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;ECAnB,IAAMoQ,cAAc,GAAI,SAAAA,CAAA6F,SAAS,EAAK;IACzC,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;IAEzB,IAAMC,IAAI,GAAG,IAAIjH,IAAI,CAACgH,SAAS,CAAC;;IAEhC;IACA,IAAME,aAAa,GAAGD,IAAI,CAAChH,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;IAEtD;IACA,IAAMiH,aAAa,GAAGF,IAAI,CAACG,kBAAkB,CAAC,OAAO,EAAE;MACrDC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE,SAAS;MACjBC,MAAM,EAAE;IACV,CAAC,CAAC;IAEF,OAAUL,aAAa,SAAIC,aAAa;EAC1C,CAAC;AAAA,EAAArW,IAAA,OAAAC,MAAA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECRH,IAAMiN,cAAc,GAAG,SAAAA,CAACjE,KAAK,EAAEkE,MAAM,EAAK;IACxCxK,OAAO,CAACC,GAAG,2BAAyBuK,MAAM,oBAAelE,KAAO,CAAC;IAEjE5F,MAAM,CAACrD,IAAI,CAAC,8BAA8B,EAAEiJ,KAAK,EAAEkE,MAAM,EAAE,UAAC3J,KAAK,EAAEsH,MAAM,EAAK;MAC5E,IAAItH,KAAK,EAAE;QACTb,OAAO,CAACa,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC9D,CAAC,MAAM;QACLb,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEkI,MAAM,CAAC;MACjD;IACF,CAAC,CAAC;EACJ,CAAC;EAEDzH,MAAM,CAAC4R,OAAO,CAAC,YAAM;IACnB,IAAMyB,SAAS,GAAG3M,QAAQ,CAAC4M,cAAc,CAAC,cAAc,CAAC;IACzD,IAAMC,IAAI,GAAGC,UAAU,CAACH,SAAS,CAAC;IAGlC,IAAIrT,MAAM,CAACyT,SAAS,EAAE;MACpB,IAAIC,MAAM,CAACC,OAAO,EAAE;QAClB/T,OAAO,CAAC+I,GAAG,CAAC,oBAAoB,EAAE;UAChCjE,KAAK,EAAEgP,MAAM,CAAChP,KAAK;UACnBC,QAAQ,EAAE+O,MAAM,CAAC/O,QAAQ;UACzB7E,IAAI,EAAE4T,MAAM,CAAC5T,IAAI;UACjB8T,OAAO,EAAEF,MAAM,CAACE,OAAO;UACvBC,YAAY,EAAEH,MAAM,CAACG;QACvB,CAAC,CAAC;MACJ;IACF;IAGA,IAAI7T,MAAM,CAACyT,SAAS,EAAE;MACpB/M,QAAQ,CAACoN,gBAAgB,CAAC,aAAa,EAAE,YAAM;QAC7CxU,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;;QAEtC;QACAwU,gBAAgB,CAACC,aAAa,CAC5B,YAAM;UACJ1U,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;QAC7C,CAAC,EACD,YAAM;UACJD,OAAO,CAACa,KAAK,CAAC,yBAAyB,CAAC;QAC1C,CAAC,EACD;UACEkH,EAAE,EAAE,SAAS;UACb4M,WAAW,EAAE,iBAAiB;UAC9BC,UAAU,EAAE,CAAC;UACbC,SAAS,EAAE,IAAI;UACfC,KAAK,EAAE;QACT,CACF,CAAC;QAED,IAAMC,IAAI,GAAGN,gBAAgB,CAACO,IAAI,CAAC;UACjCC,OAAO,EAAE;YACPC,SAAS,EAAE,IAAI;YACfC,kBAAkB,EAAE,KAAK;YACzBvE,IAAI,EAAE,aAAa;YACnBwE,SAAS,EAAE,SAAS;YACpBC,OAAO,EAAE,CACP;cAAEtN,EAAE,EAAE,SAAS;cAAE8D,KAAK,EAAE;YAAU,CAAC,EACnC;cAAE9D,EAAE,EAAE,QAAQ;cAAE8D,KAAK,EAAE;YAAS,CAAC,CAClC;YACDyJ,QAAQ,EAAE,MAAM;YAChBR,KAAK,EAAE,IAAI;YACXS,OAAO,EAAE,IAAI;YACbC,OAAO,EAAE;cACPzN,EAAE,EAAE,SAAS;cACb6M,UAAU,EAAE,MAAM;cAClBE,KAAK,EAAE,SAAS;cAChBD,SAAS,EAAE;YACb;UACF,CAAC;UACDY,GAAG,EAAE;YACHrM,KAAK,EAAE,IAAI;YACXsM,KAAK,EAAE,IAAI;YACXZ,KAAK,EAAE,IAAI;YACXQ,QAAQ,EAAE,MAAM;YAChBK,UAAU,EAAE;UACd;QACF,CAAC,CAAC;QAEF,IAAI;UACF;UACAZ,IAAI,CAACa,EAAE,CAAC,cAAc,EAAG,UAAAnD,IAAI,EAAK;YAChCzS,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;YAC5CD,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEwS,IAAI,CAAC;YACvCnS,OAAO,CAAC+I,GAAG,CAAC,aAAa,EAAEoJ,IAAI,CAACoD,cAAc,CAAC;UACjD,CAAC,CAAC;UAEFd,IAAI,CAACa,EAAE,CAAC,cAAc,EAAG,UAAAxK,YAAY,EAAK;YACxCpL,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEmL,YAAY,CAAC;;YAEnD;YACA,IAAIA,YAAY,CAAC0K,cAAc,CAACC,SAAS,EAAE;cACzC;cACA,IAAMvL,MAAM,GAAGY,YAAY,CAAC0K,cAAc,CAACtL,MAAM;cACjD,IAAGA,MAAM,EAAE;gBACTD,cAAc,CAACa,YAAY,CAAC0K,cAAc,CAACxP,KAAK,EAAEkE,MAAM,CAAC;cAC3D;YACF;;YAEA;YACA,IAAIY,YAAY,CAAC0K,cAAc,CAACxP,KAAK,EAAE;cACrChG,OAAO,CAAC+I,GAAG,CAAC,wBAAwB,EAAE;gBACpC/C,KAAK,EAAE8E,YAAY,CAAC0K,cAAc,CAACxP,KAAK;gBACxCE,MAAM,EAAE;cACV,CAAC,CAAC;YACJ;UACF,CAAC,CAAC;UACFuO,IAAI,CAACa,EAAE,CAAC,QAAQ,EAAG,UAAAxK,YAAY,EAAK;YAClC,IAAIA,YAAY,CAAC0K,cAAc,EAAE;cAC/B,IAAQxP,KAAA,GAAU8E,YAAY,CAAC0K,cAAc,CAArCxP,KAAA;cACR,IAAGhG,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,EAAC;gBAC5BgK,cAAc,CAACjE,KAAK,EAAE,QAAQ,CAAC;gBAC/BhG,OAAO,CAAC+I,GAAG,CAAC,wBAAwB,EAAE;kBAAC/C,KAAK,EAALA,KAAK;kBAAEE,MAAM,EAAC;gBAAU,CAAC,CAAC;cACnE,CAAC,MAAM;gBACLlG,OAAO,CAAC+I,GAAG,CAAC,wBAAwB,EAAE;kBAAC/C,KAAK,EAALA,KAAK;kBAAEE,MAAM,EAAC;gBAAS,CAAC,CAAC;cAClE;YACF;UACF,CAAC,CAAC;UAEFuO,IAAI,CAACa,EAAE,CAAC,SAAS,EAAG,UAAAxK,YAAY,EAAK;YACnC,IAAIA,YAAY,CAAC0K,cAAc,EAAE;cAC/B,IAAQxP,KAAA,GAAU8E,YAAY,CAAC0K,cAAc,CAArCxP,KAAA;cACR,IAAGhG,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,EAAC;gBAC5BgK,cAAc,CAACjE,KAAK,EAAE,SAAS,CAAC;gBAChChG,OAAO,CAAC+I,GAAG,CAAC,wBAAwB,EAAE;kBAAC/C,KAAK,EAALA,KAAK;kBAAEE,MAAM,EAAC;gBAAU,CAAC,CAAC;cACnE,CAAC,MAAM;gBACLlG,OAAO,CAAC+I,GAAG,CAAC,wBAAwB,EAAE;kBAAC/C,KAAK,EAALA,KAAK;kBAAEE,MAAM,EAAC;gBAAS,CAAC,CAAC;cAClE;YACF;UACF,CAAC,CAAC;;UAEF;UACAuO,IAAI,CAACa,EAAE,CAAC,OAAO,EAAG,UAAA/U,KAAK,EAAK;YAC1Bb,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;YACrCD,OAAO,CAACa,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAClD,CAAC,CAAC;UAEFb,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;QAEnD,CAAC,CAAC,OAAOY,KAAK,EAAE;UACdb,OAAO,CAACa,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAAC;QAErE;MAEF,CAAC,EAAE,KAAK,CAAC;IACX;IACAoT,IAAI,CAAC+B,MAAM,cAACjZ,KAAA,CAAAC,aAAA,CAACiC,GAAG,OAAG,CAAC;EACtB,CAAC,CAAC;AAAA,EAAA5B,IAAA,OAAAC,MAAA,E","file":"/app.js","sourcesContent":["import React from 'react';\n\nconst ActionsModal = ({ isOpen, onApprove, onReject, onClose }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n      <div className=\"bg-white rounded-lg shadow-lg w-11/12 max-w-md\">\n        <div className=\"p-4 border-b\">\n          <h2 className=\"text-lg font-bold text-center\">Authenticate?</h2>\n        </div>\n        <div className=\"p-4 flex flex-col items-center space-y-4\">\n          <button\n            className=\"w-full py-2 text-white bg-green-500 rounded-lg hover:bg-green-600\"\n            onClick={onApprove}\n          >\n            Approve\n          </button>\n          <button\n            className=\"w-full py-2 text-white bg-red-500 rounded-lg hover:bg-red-600\"\n            onClick={onReject}\n          >\n            Reject\n          </button>\n        </div>\n        <button\n          className=\"absolute top-2 right-2 text-gray-500 hover:text-gray-700\"\n          onClick={onClose}\n        >\n          ✕\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ActionsModal;\n","import React, {useEffect} from 'react';\nimport { CheckCircle } from 'lucide-react';\n\nconst ResultModal = ({ isOpen, onClose }) => {\n  useEffect(() => {\n    if (isOpen) {\n      const timer = setTimeout(() => {\n        onClose();\n      }, 3000); \n      return () => clearTimeout(timer);\n    }\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n      <div className=\"bg-white rounded-lg shadow-lg w-11/12 max-w-md p-6 text-center\">\n        <div className=\"flex justify-center mb-4\">\n          <div className=\"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full\">\n            <CheckCircle className=\"h-10 w-10 text-green-500\" />\n          </div>\n        </div>\n        <h2 className=\"text-lg font-bold text-gray-800 mb-4\">\n          You have been successfully authenticated.\n        </h2>\n        <button\n          className=\"w-full py-2 mt-4 text-white bg-blue-500 rounded-lg hover:bg-blue-600\"\n          onClick={onClose}\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultModal;\n","import React from \"react\";\n\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\n  if (totalPages <= 1) return null;\n  const handlePrev = () => {\n    if (currentPage > 1) onPageChange(currentPage - 1);\n  };\n\n  const handleNext = () => {\n    if (currentPage < totalPages) onPageChange(currentPage + 1);\n  };\n\n  return (\n    <div className=\"flex justify-center items-center mt-4 w-full\">\n      <button\n        onClick={handlePrev}\n        disabled={currentPage === 1}\n        className=\"px-3 py-1 bg-gray-300 dark:bg-gray-600/80 dark:text-gray-400 rounded disabled:bg-gray-400\"\n      >\n        Prev\n      </button>\n      <span className=\"px-2 dark:text-gray-300\">\n        Page {currentPage} of {totalPages}\n      </span>\n      <button\n        onClick={handleNext}\n        disabled={currentPage === totalPages}\n        className=\"px-3 py-1 bg-gray-300 dark:bg-gray-600/80 dark:text-gray-400 rounded disabled:bg-gray-400\"\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nconst SuccessToaster = ({ message, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  return (\n    <AnimatePresence>\n      {message && (\n        <motion.div\n          initial={{ x: \"100%\" }}\n          animate={{ x: 0 }}\n          exit={{ x: \"150%\" }}\n          transition={{ duration: 0.5, ease: \"easeInOut\" }}\n          className=\"fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded shadow-lg\"\n        >\n          {message}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default SuccessToaster;\n","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Meteor } from 'meteor/meteor';\nimport { DeviceLogs } from '../api/deviceLogs'\nimport { Session } from 'meteor/session';\nimport { Tracker } from 'meteor/tracker';\nimport { LoginPage } from './Login';\nimport { RegistrationPage } from './Registration';\nimport { WelcomePage } from './Welcome';\nimport { LandingPage } from './LandingPage';\n\nexport const App = () => {\n  \n  const [capturedDeviceUuid, setCapturedDeviceUuid] = useState(null);\n  const [boolRegisteredDevice, setBoolRegisteredDevice] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    console.log('Initializing App component...');\n    \n    // Setup Tracker autorun for Session changes\n    const sessionTracker = Tracker.autorun(() => {\n      const deviceInfo = Session.get('capturedDeviceInfo');\n      console.log('Session deviceInfo:', deviceInfo);\n\n      if (!deviceInfo || !deviceInfo.uuid) {\n        console.log('No valid device info in session');\n        setCapturedDeviceUuid(null);\n        setBoolRegisteredDevice(false);\n        setIsLoading(false);\n        return;\n      }\n\n      setCapturedDeviceUuid(deviceInfo.uuid);\n      \n      // Subscribe to deviceLogs\n      const subscriber = Meteor.subscribe('deviceLogs.byDevice', deviceInfo.uuid, {\n        onStop: (error) => {\n          if (error) {\n            console.error('Subscription error:', error);\n          }\n        },\n        onReady: () => {\n          console.log('Subscription is ready');\n          // Query the collection\n          const storedDeviceInfo = DeviceLogs.find({ \n            deviceUUID: deviceInfo.uuid \n          }).fetch();\n          \n          console.log('Fetched Device Info:', JSON.stringify({storedDeviceInfo}));\n          setBoolRegisteredDevice(storedDeviceInfo.length > 0);\n          setIsLoading(false);\n        }\n      });\n\n      // Cleanup function\n      return () => {\n        console.log('Cleaning up subscription...');\n        if (subscriber) {\n          subscriber.stop();\n        }\n      };\n    });\n\n    // Cleanup function for the effect\n    return () => {\n      console.log('Cleaning up session tracker...');\n      sessionTracker.stop();\n    };\n  }, []); // Empty dependency array - only run on mount\n\n  // Debug logging for state changes\n  useEffect(() => {\n    console.log('State updated:', {\n      capturedDeviceUuid,\n      boolRegisteredDevice,\n      isLoading\n    });\n  }, [capturedDeviceUuid, boolRegisteredDevice, isLoading]);\n\n\n  // Show loading spinner while checking registration\n  if (isLoading) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500\"></div>\n        <p className=\"mt-4 text-lg font-semibold text-blue-600\">\n          Checking device registration...\n        </p>\n      </div>\n    );\n  }\n\n  // Main routing logic\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50\">\n      <Router>\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              boolRegisteredDevice ? (\n                <Navigate to=\"/login\" replace />\n              ) : (\n                <Navigate to=\"/register\" replace />\n              )\n            }\n          />\n          <Route \n            path=\"/login\" \n            element={<LoginPage deviceDetails={capturedDeviceUuid} />} \n          />\n          <Route \n            path=\"/register\" \n            element={<RegistrationPage deviceDetails={capturedDeviceUuid} />} \n          />\n          <Route \n            path=\"/dashboard\" \n            element={<LandingPage deviceDetails={capturedDeviceUuid} />} \n          />\n          <Route \n            path=\"/welcome\" \n            element={<WelcomePage deviceDetails={capturedDeviceUuid} />} \n          />\n        </Routes>\n      </Router>\n    </div>\n  );\n};","import React, { useState, useEffect } from \"react\";\nimport {\n  Shield,\n  LogOut,\n  User,\n  Mail,\n  CheckCircle,\n  XCircle,\n  Clock,\n  Smartphone,\n  Edit,\n  Filter,\n  Search,\n  BellRing,\n  Moon,\n  Sun,\n  RotateCcw,\n} from \"lucide-react\";\nimport { Session } from \"meteor/session\";\nimport { Meteor } from \"meteor/meteor\";\nimport ActionsModal from \"./Modal/ActionsModal\";\nimport ResultModal from \"./Modal/ResultModal\";\nimport { Tracker } from \"meteor/tracker\";\nimport { formatDateTime } from \"../../utils/utils\";\nimport SuccessToaster from \"./Toasters/SuccessToaster\";\nimport Pagination from \"./Pagination/Pagination\";\nimport { PAGE_SIZE } from \"../../utils/constants\";\n\nexport const LandingPage = () => {\n  const userProfile = Session.get(\"userProfile\") || {};\n  const capturedDeviceInfo = Session.get(\"capturedDeviceInfo\") || {};\n  const [notificationHistory, setNotificationHistory] = useState([]);\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  const [profile, setProfile] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: userProfile.email || \"\",\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [filter, setFilter] = useState(\"all\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [hasFetchedData, setHasFetchedData] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isActionsModalOpen, setIsActionsModalOpen] = useState(false);\n  const [isResultModalOpen, setIsResultModalOpen] = useState(false);\n  const [notificationId, setNotificationId] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const [deviceInfo, setDeviceInfo] = useState({\n    model: capturedDeviceInfo.model || \"\",\n    platform: capturedDeviceInfo.platform || \"\",\n  });\n\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  useEffect(() => {\n    console.log(\"Initializing Tracker\");\n\n    const tracker = Tracker.autorun(async () => {\n      const newNotification = Session.get(\"notificationReceivedId\");\n\n      console.log(\"Tracker detected change:\", newNotification?.appId);\n\n      if (!newNotification) return;\n\n      setNotificationId(newNotification.appId);\n\n      if (newNotification.status === \"pending\") {\n        setIsActionsModalOpen(true);\n      } else {\n        try {\n          const notfId = await getNotificationId();\n          if (notfId) {\n            console.log(\"Resolved Notification ID:\", notfId);\n            await handleStatusUpdate(notfId, newNotification.status);\n            fetchNotificationHistory();\n          } else {\n            console.warn(\"No notification ID found.\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching notification ID:\", error);\n        }\n      }\n    });\n\n    return () => {\n      console.log(\"Stopping Tracker\");\n      tracker.stop();\n    };\n  }, []);\n\n  // Dark mode persistence\n  useEffect(() => {\n    const darkModePreference = localStorage.getItem(\"darkMode\") === \"true\";\n    setIsDarkMode(darkModePreference);\n    if (darkModePreference) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  }, []);\n\n  const getNotificationId = async () => {\n    const notificationId = await Meteor.callAsync(\n      \"notificationHistory.getLastIdByUser\",\n      Meteor.userId()\n    );\n    return notificationId;\n  };\n\n  const handleStatusUpdate = async (id, newStatus) => {\n    if (!id) {\n      return;\n    }\n\n    await Meteor.call(\n      \"notificationHistory.updateStatus\",\n      id,\n      newStatus,\n      (error, result) => {\n        if (error) {\n          console.error(\"Error updating status:\", error);\n        } else {\n          console.log(\"Status updated successfully!\");\n        }\n      }\n    );\n  };\n\n  const toggleDarkMode = () => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    localStorage.setItem(\"darkMode\", newMode);\n    if (newMode) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  };\n\n  useEffect(() => {\n    fetchNotificationHistory();\n  }, []);\n\n  const fetchNotificationHistory = async () => {\n    const response = await Meteor.callAsync(\n      \"notificationHistory.getByUser\",\n      Meteor.userId()\n    );\n    setNotificationHistory(response);\n  };\n\n  // User profile data fetching\n  useEffect(() => {\n    let isMounted = true;\n\n    const fetchUserDetails = async () => {\n      if (!hasFetchedData && userProfile.email) {\n        try {\n          const result = await Meteor.callAsync(\n            \"getUserDetails\",\n            userProfile.email\n          );\n          if (isMounted) {\n            setProfile({\n              firstName: result.firstName || \"\",\n              lastName: result.lastName || \"\",\n              email: result.email || \"\",\n            });\n            setHasFetchedData(true);\n          }\n        } catch (err) {\n          console.error(\"Error fetching user details:\", err);\n        }\n      }\n    };\n\n    fetchUserDetails();\n\n    if (capturedDeviceInfo) {\n      setDeviceInfo({\n        model: capturedDeviceInfo.model || \"\",\n        platform: capturedDeviceInfo.platform || \"\",\n      });\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [userProfile.email, hasFetchedData]);\n\n  // Handle profile updates\n  const handleProfileUpdate = async () => {\n    if (!Meteor.userId()) {\n      alert(\"Please login to perform this action\");\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      await Meteor.callAsync(\"updateUserProfile\", {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n      });\n      setIsEditing(false);\n      // Update session\n      Session.set(\"userProfile\", { ...userProfile, ...profile });\n      setSuccessMessage(\"Profile updated successfully!\");\n      setTimeout(() => setSuccessMessage(\"\"), 3000);\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      alert(\"Failed to update profile. Please try again.\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    Meteor.logout((error) => {\n      if (error) {\n        console.error(\"Logout error:\", error);\n        alert(\"Failed to logout. Please try again.\");\n      } else {\n        // Clear session data\n        Session.clear();\n        // Redirect to login page (assuming you're using React Router)\n        window.location.href = \"/login\";\n      }\n    });\n  };\n\n  // Modified profile editing section in the JSX\n  const renderProfileSection = () => (\n    <div className=\"flex-1\">\n      {isEditing ? (\n        <div className=\"space-y-2\">\n          <input\n            type=\"text\"\n            value={profile.firstName}\n            onChange={(e) =>\n              setProfile({ ...profile, firstName: e.target.value })\n            }\n            className=\"w-full px-2 py-1 rounded border dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600\"\n            placeholder=\"First Name\"\n          />\n          <input\n            type=\"text\"\n            value={profile.lastName}\n            onChange={(e) =>\n              setProfile({ ...profile, lastName: e.target.value })\n            }\n            className=\"w-full px-2 py-1 rounded border dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600\"\n            placeholder=\"Last Name\"\n          />\n          <div className=\"flex space-x-2 mt-2\">\n            <button\n              onClick={handleProfileUpdate}\n              disabled={isSaving}\n              className=\"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50\"\n            >\n              {isSaving ? \"Saving...\" : \"Save\"}\n            </button>\n            <button\n              onClick={() => setIsEditing(false)}\n              disabled={isSaving}\n              className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      ) : (\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white flex items-center justify-between\">\n          {`${profile.firstName} ${profile.lastName}`}\n          <button\n            onClick={() => setIsEditing(true)}\n            className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full\"\n          >\n            <Edit className=\"h-4 w-4 text-gray-500\" />\n          </button>\n        </h2>\n      )}\n      <p className=\"text-gray-600 dark:text-gray-300 flex items-center\">\n        <Mail className=\"h-4 w-4 mr-2\" />\n        {profile.email}\n      </p>\n    </div>\n  );\n\n  const sendUserAction = (appId, action) => {\n    console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n    Meteor.call(\n      \"notifications.handleResponse\",\n      appId,\n      action,\n      (error, result) => {\n        if (error) {\n          console.error(\"Error sending notification response:\", error);\n        } else {\n          console.log(\"Server processed action:\", result);\n          setNotificationId(null);\n          Session.set(\"notificationReceivedId\", null);\n        }\n      }\n    );\n  };\n\n  const handleCloseResultModal = () => {\n    setIsResultModalOpen(false);\n  };\n  const handleCloseActionModal = () => {\n    setIsActionsModalOpen(false);\n  };\n\n  const handleApprove = async () => {\n    sendUserAction(notificationId, \"approve\");\n\n    const notfId = await getNotificationId();\n    await handleStatusUpdate(notfId, \"approved\");\n    setIsResultModalOpen(true);\n    setIsActionsModalOpen(false);\n    fetchNotificationHistory();\n  };\n\n  const handleReject = async () => {\n    sendUserAction(notificationId, \"reject\");\n    const notfId = await getNotificationId();\n\n    await handleStatusUpdate(notfId, \"rejected\");\n    setIsActionsModalOpen(false);\n    fetchNotificationHistory();\n  };\n\n  const filteredNotifications = notificationHistory.filter((notification) => {\n    const matchesFilter = filter === \"all\" || notification.status === filter;\n    const normalizedSearchTerm = searchTerm.toLowerCase().trim();\n    const matchesSearch =\n      normalizedSearchTerm === \"\" ||\n      notification.message?.toLowerCase().includes(normalizedSearchTerm) ||\n      notification.title?.toLowerCase().includes(normalizedSearchTerm);\n    return matchesFilter && matchesSearch;\n  });\n\n  const totalPages = Math.ceil(filteredNotifications?.length / PAGE_SIZE);\n\n  const paginatedNotifications = filteredNotifications\n    .reverse()\n    .slice((currentPage - 1) * PAGE_SIZE, currentPage * PAGE_SIZE);\n\n  console.log(\"paginatedNotifications:\", paginatedNotifications);\n\n  const handlePageChange = (newPage) => {\n    setCurrentPage(newPage);\n  };\n\n  const today = new Date().toISOString().split(\"T\")[0];\n  const todayCount = filteredNotifications.filter((notification) => {\n    const createdAtDate =\n      notification.createdAt instanceof Date\n        ? notification.createdAt.toISOString().split(\"T\")[0]\n        : String(notification.createdAt).split(\"T\")[0];\n\n    return createdAtDate === today;\n  }).length;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 dark:from-gray-900 dark:to-gray-800\">\n      {/* Header section */}\n      <header className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 shadow-lg sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3\">\n              <Shield className=\"h-8 w-8 text-indigo-600 dark:text-indigo-400\" />\n              <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                MieSecure\n              </h1>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={toggleDarkMode}\n                className=\"flex items-center justify-center p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition\"\n                aria-label=\"Toggle Night Mode\"\n              >\n                {isDarkMode ? (\n                  <Sun className=\"h-6 w-6 text-yellow-400\" />\n                ) : (\n                  <Moon className=\"h-6 w-6 text-gray-600 dark:text-gray-400\" />\n                )}\n              </button>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center space-x-2 px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors\"\n              >\n                <LogOut className=\"h-4 w-4\" />\n                <span>Logout</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Profile Card */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6\">\n              <SuccessToaster\n                message={successMessage}\n                onClose={() => setSuccessMessage(\"\")}\n              />\n              <div className=\"flex items-center space-x-4 mb-6\">\n                <div className=\"h-16 w-16 rounded-full bg-gradient-to-r from-indigo-500 to-blue-500 flex items-center justify-center\">\n                  <User className=\"h-8 w-8 text-white\" />\n                </div>\n                {renderProfileSection()}\n              </div>\n\n              {/* Rest of the profile card content remains the same */}\n              <div className=\"space-y-4\">\n                <div className=\"border-t dark:border-gray-700 pt-4\">\n                  <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\">\n                    Device Information\n                  </h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-600 dark:text-gray-300\">\n                        Model\n                      </span>\n                      <span className=\"font-medium text-gray-900 dark:text-white\">\n                        {deviceInfo.model || \"iPhone 13 Pro\"}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-600 dark:text-gray-300\">\n                        Platform\n                      </span>\n                      <span className=\"font-medium text-gray-900 dark:text-white\">\n                        {deviceInfo.platform || \"iOS 15.0\"}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"border-t dark:border-gray-700 pt-4\">\n                  <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\">\n                    Activity Summary\n                  </h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between dark:text-gray-300\">\n                      <span className=\"text-gray-600 dark:text-gray-300\">\n                        Today's Activity\n                      </span>\n                      {todayCount}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"lg:col-span-2 space-y-6\">\n            {filteredNotifications.length > 0 ? (\n              <>\n                <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-4\">\n                  <div className=\"flex flex-wrap gap-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"relative\">\n                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search requests...\"\n                          className=\"w-full pl-10 pr-4 py-2 text-gray-400 rounded-lg border dark:bg-gray-700 dark:border-gray-600\"\n                          value={searchTerm}\n                          onChange={(e) => setSearchTerm(e.target.value)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Filter className=\"h-4 w-4 text-gray-500\" />\n                      <select\n                        className=\"bg-transparent text-gray-400 border rounded-lg px-3 py-2 dark:bg-gray-700 dark:border-gray-600\"\n                        value={filter}\n                        onChange={(e) => setFilter(e.target.value)}\n                      >\n                        <option value=\"all\">All</option>\n                        <option value=\"pending\">Pending</option>\n                        <option value=\"approved\">Approved</option>\n                        <option value=\"rejected\">Rejected</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Clock className=\"h-5 w-5 text-indigo-600 dark:text-indigo-400\" />\n                    <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                      History\n                    </h2>\n                  </div>\n                  {paginatedNotifications.map((notification) => (\n                    <div\n                      key={notification._id}\n                      className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6\"\n                    >\n                      <div className=\"flex justify-between items-start mb-4\">\n                        <div>\n                          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">\n                            {notification.title}\n                          </h3>\n                          <div className=\"space-y-1\">\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300 flex items-center\">\n                              <Clock className=\"h-4 w-4 mr-2\" />\n                              {formatDateTime(notification.createdAt)}\n                            </p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300 flex items-center\">\n                              <Smartphone className=\"h-4 w-4 mr-2\" />\n                              Iphone 16\n                            </p>\n                          </div>\n                        </div>\n                        <div\n                          className={`px-3 py-1 rounded-full text-sm font-medium capitalize ${\n                            notification.status === \"approved\"\n                              ? \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\"\n                              : notification.status === \"rejected\"\n                              ? \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\"\n                              : \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\"\n                          }`}\n                        >\n                          {notification.status}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  <Pagination\n                    currentPage={currentPage}\n                    totalPages={totalPages}\n                    onPageChange={handlePageChange}\n                  />\n                </div>\n              </>\n            ) : (\n              <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-lg p-6 min-h-[100px] flex items-center justify-center text-center flex-col\">\n                <RotateCcw className=\"h-10 w-10 mt-4 text-gray-600\" />\n                <p>No Notification History.</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n      <ActionsModal\n        isOpen={isActionsModalOpen}\n        onApprove={handleApprove}\n        onReject={handleReject}\n        onClose={handleCloseActionModal}\n      />\n      <ResultModal\n        isOpen={isResultModalOpen}\n        onClose={handleCloseResultModal}\n      />\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiMail, FiLock } from 'react-icons/fi';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nexport const LoginPage = ({ deviceDetails }) => {\n  const [email, setEmail] = useState('');\n  const [pin, setPin] = useState('');\n  const [error, setError] = useState('');\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check for device details on component mount\n    if (!deviceDetails) {\n      console.warn('No device details available');\n    }\n\n    // Check for Meteor connection\n    const connectionCheck = setInterval(() => {\n      if (!Meteor.status().connected) {\n        setError('Connection to server lost. Attempting to reconnect...');\n      } else if (error.includes('Connection to server lost')) {\n        setError('');\n      }\n    }, 3000);\n\n    return () => clearInterval(connectionCheck);\n  }, [deviceDetails, error]);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    \n    // Validate device details\n    if (!deviceDetails) {\n      setError('Device information not available. Please refresh the page.');\n      return;\n    }\n\n    // Validate connection\n    if (!Meteor.status().connected) {\n      setError('Unable to connect to server. Please check your connection.');\n      return;\n    }\n\n    setIsLoggingIn(true);\n    setError('');\n\n    try {\n      await new Promise((resolve, reject) => {\n        Meteor.loginWithPassword(email, pin, (err) => {\n          if (err) {\n            console.error('Login Error:', err);\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      });\n      Session.set('userProfile', {\n        email: email,\n      });\n\n      navigate('/dashboard');\n\n      \n    } catch (err) {\n      setError(err.reason || 'Login failed. Please try again.');\n    } finally {\n      setIsLoggingIn(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50\">\n      <div className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg\">\n        <div className=\"text-center\">\n          <h2 className=\"text-3xl font-bold text-gray-900\">Welcome Back</h2>\n          <p className=\"mt-2 text-gray-600\">Sign in to your account</p>\n        </div>\n\n        <form onSubmit={handleLogin} className=\"space-y-6\">\n          {error && (\n            <div className=\"text-red-600 text-sm text-center bg-red-100 p-3 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n              Email\n            </label>\n            <div className=\"mt-1 relative\">\n              <FiMail className=\"absolute top-3 left-3 text-gray-400\" />\n              <input\n                id=\"email\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter your email\"\n                autoComplete=\"email\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"pin\" className=\"block text-sm font-medium text-gray-700\">\n              PIN\n            </label>\n            <div className=\"mt-1 relative\">\n              <FiLock className=\"absolute top-3 left-3 text-gray-400\" />\n              <input\n                id=\"pin\"\n                type=\"password\"\n                required\n                value={pin}\n                onChange={(e) => setPin(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter your PIN\"\n                maxLength={6}\n                minLength={4}\n                pattern=\"[0-9]*\"\n                inputMode=\"numeric\"\n                autoComplete=\"current-password\"\n              />\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isLoggingIn}\n            className=\"w-full py-3 px-4 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out transform hover:scale-[1.02]\"\n          >\n            {isLoggingIn ? (\n              <div className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Signing In...\n              </div>\n            ) : (\n              'Sign In'\n            )}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiUser, FiMail, FiLock } from 'react-icons/fi';\nimport { motion } from 'framer-motion';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nexport const RegistrationPage = ({ deviceDetails }) => {\n  const [formData, setFormData] = useState({\n    email: '', firstName: '', lastName: '', pin: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!deviceDetails) {\n      alert('Device information not available');\n      return;\n    }\n\n    setLoading(true);\n    const sessionDeviceInfo = Session.get('capturedDeviceInfo');\n    const fcmDeviceToken = Session.get('deviceToken'); // Get FCM token from session\n\n    if (sessionDeviceInfo.uuid === deviceDetails) {\n      try {\n        // First register the user with deviceInfo\n        await new Promise((resolve, reject) => {\n          Meteor.call('users.register', \n            { \n              ...formData,\n              sessionDeviceInfo, fcmDeviceToken\n            }, \n            (err, result) => {\n              if (err) {\n                console.error(\"Registration error:\", err);\n                reject(err);\n              } else {\n                console.log(\"Registration success:\", result);\n                resolve(result);\n              }\n            }\n          );\n        });\n\n        // Navigate to login after successful registration\n        navigate('/login');\n      } catch (err) {\n        console.error('Registration failed:', err);\n        alert(err.reason || 'Registration failed. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n\n    } else {\n      alert('Registration failed. Device uuid is not matched or tampered.');\n      setLoading(false);\n    }\n  };\n\n  const inputFields = [\n    { name: 'email', icon: FiMail, type: 'email', placeholder: 'Enter your email' },\n    { name: 'firstName', icon: FiUser, type: 'text', placeholder: 'First Name' },\n    { name: 'lastName', icon: FiUser, type: 'text', placeholder: 'Last Name' },\n    { \n      name: 'pin', \n      icon: FiLock, \n      type: 'password', \n      placeholder: 'Create a PIN (4-6 digits)',\n      minLength: \"4\",\n      maxLength: \"6\",\n      pattern: \"\\\\d*\"\n    }\n  ];\n\n  return (\n    <motion.div \n      initial={{ opacity: 0 }} \n      animate={{ opacity: 1 }}\n      className=\"min-h-screen flex flex-col items-center justify-center p-4\"\n    >\n\n      <motion.div\n        initial={{ y: 20, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        transition={{ delay: 0.2 }}\n        className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg\"\n      >\n        <div className=\"text-center space-y-2\">\n          <motion.h2 \n            initial={{ y: -20 }}\n            animate={{ y: 0 }}\n            className=\"text-3xl font-bold text-gray-900\"\n          >\n            Create Account\n          </motion.h2>\n          <p className=\"text-gray-600\">Join our community today</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {inputFields.map((field, index) => (\n              <motion.div\n                key={field.name}\n                initial={{ x: -20, opacity: 0 }}\n                animate={{ x: 0, opacity: 1 }}\n                transition={{ delay: index * 0.1 }}\n                className={field.name === 'email' ? 'md:col-span-2' : ''}\n              >\n                <label className=\"text-sm font-medium text-gray-700\">\n                  {field.name.charAt(0).toUpperCase() + field.name.slice(1)}\n                </label>\n                <div className=\"mt-1 relative\">\n                  <field.icon className=\"absolute top-3 left-3 text-gray-400\" />\n                  <input\n                    {...field}\n                    required\n                    value={formData[field.name]}\n                    onChange={e => setFormData(prev => ({\n                      ...prev,\n                      [e.target.name]: e.target.value\n                    }))}\n                    className=\"w-full pl-10 pr-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n              </motion.div>\n            ))}\n          </div>\n\n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full py-3 px-4 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 transition-colors\"\n          >\n            {loading ? 'Creating Account...' : 'Create Account'}\n          </motion.button>\n        </form>\n      </motion.div>\n    </motion.div>\n  );\n};","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiLogIn, FiUserPlus } from 'react-icons/fi';\n\nexport const WelcomePage = () => {\n  const navigate = useNavigate();\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600\">\n          MieSecure\n          </h1>\n          <p className=\"mt-4 text-gray-600\">Your secure mobile companion</p>\n        </div>\n        \n        <div className=\"mt-12 space-y-4\">\n          <button\n            onClick={() => navigate('/login')}\n            className=\"group relative w-full flex justify-center items-center px-4 py-3 border border-transparent text-lg font-medium rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition hover:scale-105\"\n          >\n            <FiLogIn className=\"mr-2\" /> Sign In\n          </button>\n          \n          <button\n            onClick={() => navigate('/register')}\n            className=\"group relative w-full flex justify-center items-center px-4 py-3 border-2 border-blue-600 text-lg font-medium rounded-xl text-blue-600 bg-transparent hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition hover:scale-105\"\n          >\n            <FiUserPlus className=\"mr-2\" /> Create Account\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\nimport { SHA256 } from 'meteor/sha'; \n\nexport const DeviceLogs = new Mongo.Collection('deviceLogs');\n\n\n\n// Add generateAppId utility function\nconst generateAppId = (deviceUUID, email, creationTime) => {\n    const combinedString = `${deviceUUID}:${email}:${creationTime}`;\n    return SHA256(combinedString).substring(0, 32);\n  };\n  \n\n// Create indexes for better query performance\nif (Meteor.isServer) {\n  Meteor.startup(() => {\n    DeviceLogs.createIndex({ userId: 1 });\n    DeviceLogs.createIndex({ deviceUUID: 1 });\n    DeviceLogs.createIndex({ email: 1 });\n    DeviceLogs.createIndex({ appId: 1 });\n  });\n}\n\n// Define methods for DeviceLogs\nMeteor.methods({\n    'deviceLogs.upsert': async function(data) {\n        check(data, {\n          userId: String,\n          email: String,\n          deviceUUID: String,\n          fcmToken: String,\n          deviceInfo: Object,\n        });\n      \n        const creationTime = new Date().toISOString();\n        const appId = generateAppId(data.deviceUUID, data.email, creationTime);\n        console.log('Generated appId during upsert:', appId); // Add this log\n        \n        return DeviceLogs.upsertAsync(\n          {\n            userId: data.userId,\n            deviceUUID: data.deviceUUID,\n          },\n          {\n            $set: {\n              email: data.email,\n              fcmToken: data.fcmToken,\n              appId: appId,\n              lastUpdated: new Date(),\n            },\n            $setOnInsert: {\n              createdAt: new Date(),\n            },\n          }\n        );\n      },\n  'deviceLogs.updateToken'(userId, deviceUUID, fcmToken) {\n    check(userId, String);\n    check(deviceUUID, String);\n    check(fcmToken, String);\n\n    return DeviceLogs.updateAsync(\n      { \n        userId: userId,\n        deviceUUID: deviceUUID \n      },\n      {\n        $set: {\n          fcmToken: fcmToken,\n          lastUpdated: new Date()\n        }\n      }\n    );\n  },\n  'deviceLogs.getFCMTokenByAppId': async function(appId) {\n    check(appId, String);\n    \n    const deviceLog = await DeviceLogs.findOneAsync({ appId: appId });\n    \n    if (!deviceLog) {\n      throw new Meteor.Error('invalid-app-id', 'No device found with this App ID');\n    }\n    \n    return deviceLog.fcmToken;\n  },\n  'deviceLogs.getFCMTokenByDeviceId': async function(deviceUUID) {\n    check(deviceUUID, String);\n    \n    const deviceLog = await DeviceLogs.findOneAsync({ deviceUUID: deviceUUID });\n    \n    if (!deviceLog) {\n      throw new Meteor.Error('invalid-app-id', 'No device found with this Device ID');\n    }\n    \n    return deviceLog.fcmToken;\n  },\n  \n  // Also fix the debug method\n  'deviceLogs.getByAppId': async function(appId) {\n    check(appId, String);\n    const result = await DeviceLogs.findOneAsync({ appId });\n    console.log('Looking for appId:', appId);\n    console.log('Found device log:', result);\n    return result;\n  }\n});\n\n// Publish device logs\nif (Meteor.isServer) {\n  Meteor.publish('deviceLogs.byUser', function(userId) {\n    check(userId, String);\n    return DeviceLogs.find({ userId: userId });\n  });\n\n  Meteor.publish('deviceLogs.byDevice', function(deviceUUID) {\n    check(deviceUUID, String);\n    return DeviceLogs.find({ deviceUUID: deviceUUID });\n  });\n}","export const PAGE_SIZE = 5;\n","export const formatDateTime = (isoString) => {\n    if (!isoString) return \"\";\n  \n    const date = new Date(isoString);\n    \n    // Extracting date in YYYY-MM-DD format\n    const formattedDate = date.toISOString().split(\"T\")[0];\n  \n    // Extracting time in HH:MM format\n    const formattedTime = date.toLocaleTimeString(\"en-US\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true,\n    });\n  \n    return `${formattedDate} ${formattedTime}`;\n  };\n  ","import React, { useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { Meteor } from 'meteor/meteor';\nimport './main.css';\nimport '../imports/api/deviceLogs';\nimport { App } from '../imports/ui/App';\nimport { Session } from 'meteor/session';\n\nconst sendUserAction = (appId, action) => {\n  console.log(`Sending user action: ${action} for appId: ${appId}`);\n\n  Meteor.call('notifications.handleResponse', appId, action, (error, result) => {\n    if (error) {\n      console.error('Error sending notification response:', error);\n    } else {\n      console.log('Server processed action:', result);\n    }\n  });\n}\n\nMeteor.startup(() => {\n  const container = document.getElementById('react-target');\n  const root = createRoot(container);\n\n\n  if (Meteor.isCordova) {\n    if (device.cordova) {\n      Session.set('capturedDeviceInfo', {\n        model: device.model,\n        platform: device.platform,\n        uuid: device.uuid,\n        version: device.version,\n        manufacturer: device.manufacturer,\n      });\n    }\n  }\n\n\n  if (Meteor.isCordova) {\n    document.addEventListener('deviceready', () => {\n      console.log(\"Cordova device is ready\");\n\n      // Create notification channel\n      PushNotification.createChannel(\n        () => {\n          console.log('Channel created successfully');\n        },\n        () => {\n          console.error('Channel creation failed');\n        },\n        {\n          id: 'default',\n          description: 'Default channel',\n          importance: 4,\n          vibration: true,\n          sound: 'default'\n        }\n      );\n\n      const push = PushNotification.init({\n        android: {\n          forceShow: true,\n          clearNotifications: false,\n          icon: \"ic_launcher\",\n          iconColor: \"#4CAF50\",\n          actions: [\n            { id: 'approve', title: 'Approve' },\n            { id: 'reject', title: 'Reject' }\n          ],\n          priority: \"high\",\n          sound: true,\n          vibrate: true,\n          channel: {\n            id: \"default\",\n            importance: \"high\",\n            sound: \"default\",\n            vibration: true\n          }\n        },\n        ios: {\n          alert: true,\n          badge: true,\n          sound: true,\n          priority: \"high\",\n          foreground: true\n        }\n      });\n\n      try {\n        // Handle registration\n        push.on('registration', (data) => {\n          console.log(\"Registration handler attached\");\n          console.log('Registration data:', data);\n          Session.set('deviceToken', data.registrationId);\n        });\n\n        push.on('notification', (notification) => {\n          console.log('Notification received:', notification);\n          \n          // Handle cold start (app launched from notification)\n          if (notification.additionalData.coldstart) {\n            // Process action from cold start here\n            const action = notification.additionalData.action;\n            if(action) {\n              sendUserAction(notification.additionalData.appId, action);\n            }\n          }\n          \n          // Handle foreground/background processing\n          if (notification.additionalData.appId) {\n            Session.set('notificationReceivedId', {\n              appId: notification.additionalData.appId, \n              status: \"pending\"\n            });\n          }\n        });\n        push.on('reject', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'reject');  \n              Session.set('notificationReceivedId', {appId, status:\"rejected\"})  \n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        push.on('approve', (notification) => {\n          if (notification.additionalData) {\n            const { appId } = notification.additionalData;\n            if(Session.get(\"userProfile\")){\n              sendUserAction(appId, 'approve');    \n              Session.set('notificationReceivedId', {appId, status:\"approved\"})\n            } else {\n              Session.set('notificationReceivedId', {appId, status:\"pending\"})\n            }\n          }\n        });\n\n        // Handle errors\n        push.on('error', (error) => {\n          console.log(\"Error handler attached\");\n          console.error('Push notification error:', error);\n        });\n\n        console.log(\"All handlers attached successfully\");\n\n      } catch (error) {\n        console.error(\"Error attaching push notification handlers:\", error);\n\n      }\n\n    }, false);\n  }\n  root.render(<App />);\n});"]}}]